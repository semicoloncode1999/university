"use strict";(self.webpackChunkMerit_questions=self.webpackChunkMerit_questions||[]).push([[179],{101:()=>{function me(t){return"function"==typeof t}function qa(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Rc=qa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Yt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(me(r))try{r()}catch(s){e=s instanceof Rc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{pD(s)}catch(o){e=e??[],o instanceof Rc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pD(e);else{if(e instanceof Yt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lo(n,e)}remove(e){const{_finalizers:n}=this;n&&lo(n,e),e instanceof Yt&&e._removeParent(this)}}Yt.EMPTY=(()=>{const t=new Yt;return t.closed=!0,t})();const hD=Yt.EMPTY;function fD(t){return t instanceof Yt||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function pD(t){me(t)?t():t.unsubscribe()}const os={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nc={setTimeout(t,e,...n){const{delegate:r}=Nc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Nc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gD(t){Nc.setTimeout(()=>{const{onUnhandledError:e}=os;if(!e)throw t;e(t)})}function tg(){}const fB=ng("C",void 0,void 0);function ng(t,e,n){return{kind:t,value:e,error:n}}let as=null;function Pc(t){if(os.useDeprecatedSynchronousErrorHandling){const e=!as;if(e&&(as={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=as;if(as=null,n)throw r}}else t()}class rg extends Yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fD(e)&&e.add(this)):this.destination=EB}static create(e,n,r){return new Ka(e,n,r)}next(e){this.isStopped?sg(function gB(t){return ng("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?sg(function pB(t){return ng("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sg(fB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _B=Function.prototype.bind;function ig(t,e){return _B.call(t,e)}class yB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){kc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){kc(r)}else kc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kc(n)}}}class Ka extends rg{constructor(e,n,r){let i;if(super(),me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&os.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ig(e.next,s),error:e.error&&ig(e.error,s),complete:e.complete&&ig(e.complete,s)}):i=e}this.destination=new yB(i)}}function kc(t){os.useDeprecatedSynchronousErrorHandling?function mB(t){os.useDeprecatedSynchronousErrorHandling&&as&&(as.errorThrown=!0,as.error=t)}(t):gD(t)}function sg(t,e){const{onStoppedNotification:n}=os;n&&Nc.setTimeout(()=>n(t,e))}const EB={closed:!0,next:tg,error:function vB(t){throw t},complete:tg},og="function"==typeof Symbol&&Symbol.observable||"@@observable";function wi(t){return t}function mD(t){return 0===t.length?wi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function bB(t){return t&&t instanceof rg||function CB(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}(t)&&fD(t)}(n)?n:new Ka(n,r,i);return Pc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_D(r))((i,s)=>{const o=new Ka({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[og](){return this}pipe(...n){return mD(n)(this)}toPromise(n){return new(n=_D(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function _D(t){var e;return null!==(e=t??os.Promise)&&void 0!==e?e:Promise}const IB=qa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let at=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new yD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new IB}next(n){Pc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?hD:(this.currentObservers=null,s.push(n),new Yt(()=>{this.currentObservers=null,lo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new yD(e,n),t})();class yD extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:hD}}function vD(t){return me(t?.lift)}function tt(t){return e=>{if(vD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(t,e,n,r,i){return new TB(t,e,n,r,i)}class TB extends rg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return tt((n,r)=>{let i=0;n.subscribe(Qe(r,s=>{r.next(t.call(e,s,i++))}))})}function Oc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ci(t){return this instanceof Ci?(this.v=t,this):new Ci(t)}function bD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function cg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ID=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function TD(t){return me(t?.then)}function DD(t){return me(t[og])}function SD(t){return Symbol.asyncIterator&&me(t?.[Symbol.asyncIterator])}function AD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const MD=function GB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function RD(t){return me(t?.[MD])}function ND(t){return function CD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ci?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ci(n.read());if(i)return yield Ci(void 0);yield yield Ci(r)}}finally{n.releaseLock()}})}function PD(t){return me(t?.getReader)}function cn(t){if(t instanceof Ve)return t;if(null!=t){if(DD(t))return function qB(t){return new Ve(e=>{const n=t[og]();if(me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ID(t))return function KB(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(TD(t))return function QB(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gD)})}(t);if(SD(t))return kD(t);if(RD(t))return function YB(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(PD(t))return function ZB(t){return kD(ND(t))}(t)}throw AD(t)}function kD(t){return new Ve(e=>{(function XB(t,e){var n,r,i,s;return function ED(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bD(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Fr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function _t(t,e,n=1/0){return me(e)?_t((r,i)=>_e((s,o)=>e(r,s,i,o))(cn(t(r,i))),n):("number"==typeof e&&(n=e),tt((r,i)=>function JB(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{s&&e.next(g),u++;let _=!1;cn(n(g,c++)).subscribe(Qe(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const v=l.shift();o?Fr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Qe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function uo(t=1/0){return _t(wi,t)}const ar=new Ve(t=>t.complete());function dg(t){return t[t.length-1]}function OD(t){return me(dg(t))?t.pop():void 0}function Qa(t){return function t$(t){return t&&me(t.schedule)}(dg(t))?t.pop():void 0}function xc(t,e=0){return tt((n,r)=>{n.subscribe(Qe(r,i=>Fr(r,t,()=>r.next(i),e),()=>Fr(r,t,()=>r.complete(),e),i=>Fr(r,t,()=>r.error(i),e)))})}function Fc(t,e=0){return tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xD(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{Fr(n,e,()=>{const r=t[Symbol.asyncIterator]();Fr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lt(t,e){return e?function l$(t,e){if(null!=t){if(DD(t))return function r$(t,e){return cn(t).pipe(Fc(e),xc(e))}(t,e);if(ID(t))return function s$(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(TD(t))return function i$(t,e){return cn(t).pipe(Fc(e),xc(e))}(t,e);if(SD(t))return xD(t,e);if(RD(t))return function o$(t,e){return new Ve(n=>{let r;return Fr(n,e,()=>{r=t[MD](),Fr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>me(r?.return)&&r.return()})}(t,e);if(PD(t))return function a$(t,e){return xD(ND(t),e)}(t,e)}throw AD(t)}(t,e):cn(t)}class Mn extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function B(...t){return lt(t,Qa(t))}function FD(t={}){const{connector:e=(()=>new at),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return tt((g,_)=>{u++,!d&&!c&&h();const v=l=l??e();_.add(()=>{u--,0===u&&!d&&!c&&(a=hg(p,i))}),v.subscribe(_),!o&&u>0&&(o=new Ka({next:y=>v.next(y),error:y=>{d=!0,h(),a=hg(f,n,y),v.error(y)},complete:()=>{c=!0,h(),a=hg(f,r),v.complete()}}),cn(g).subscribe(o))})(s)}}function hg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ka({next:()=>{r.unsubscribe(),t()}});return cn(e(...n)).subscribe(r)}function lr(t,e){return tt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Qe(r,l=>{i?.unsubscribe();let u=0;const c=s++;cn(t(l,c)).subscribe(i=Qe(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function d$(t,e){return t===e}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function Lc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function fg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const h$=de({__forward_ref__:de});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return nt(this())},t}function V(t){return pg(t)?t():t}function pg(t){return"function"==typeof t&&t.hasOwnProperty(h$)&&t.__forward_ref__===Ee}function gg(t){return t&&!!t.\u0275providers}const LD="https://g.co/ng/security#xss";class E extends Error{constructor(e,n){super(function Vc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function mg(t,e){throw new E(-201,!1)}function Rn(t,e){null==t&&function F(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uc(t){return VD(t,$c)||VD(t,UD)}function VD(t,e){return t.hasOwnProperty(e)?t[e]:null}function Bc(t){return t&&(t.hasOwnProperty(_g)||t.hasOwnProperty(E$))?t[_g]:null}const $c=de({\u0275prov:de}),_g=de({\u0275inj:de}),UD=de({ngInjectableDef:de}),E$=de({ngInjectorDef:de});var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{});let yg;function Zt(t){const e=yg;return yg=t,e}function $D(t,e,n){const r=Uc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Y.Optional?null:void 0!==e?e:void mg(nt(t))}const we=globalThis;class R{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ya={},bg="__NG_DI_FLAG__",jc="ngTempTokenPath",b$=/\n/gm,HD="__source";let co;function bi(t){const e=co;return co=t,e}function D$(t,e=Y.Default){if(void 0===co)throw new E(-203,!1);return null===co?$D(t,void 0,e):co.get(t,e&Y.Optional?null:void 0,e)}function M(t,e=Y.Default){return(function BD(){return yg}()||D$)(V(t),e)}function A(t,e=Y.Default){return M(t,Hc(e))}function Hc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ig(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],l=S$(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function Za(t,e){return t[bg]=e,t.prototype[bg]=e,t}function S$(t){return t[bg]}function Lr(t){return{toString:t}.toString()}var Wc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Wc||{}),Nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Nn||{});const ur={},re=[],zc=de({\u0275cmp:de}),Tg=de({\u0275dir:de}),Dg=de({\u0275pipe:de}),zD=de({\u0275mod:de}),Vr=de({\u0275fac:de}),Xa=de({__NG_ELEMENT_ID__:de}),GD=de({__NG_ENV_ID__:de});function qD(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Sg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];QD(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function KD(t){return 3===t||4===t||6===t}function QD(t){return 64===t.charCodeAt(0)}function Ja(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||YD(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function YD(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ZD="ng-template";function R$(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==qD(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function XD(t){return 4===t.type&&t.value!==ZD}function N$(t,e,n){return e===(4!==t.type||n?t.value:ZD)}function P$(t,e,n){let r=4;const i=t.attrs||[],s=function x$(t){for(let e=0;e<t.length;e++)if(KD(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!N$(t,l,n)||""===l&&1===e.length){if(Gn(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!R$(t.attrs,u,n)){if(Gn(r))return!1;o=!0}continue}const d=k$(8&r?"class":l,i,XD(t),n);if(-1===d){if(Gn(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==qD(f,u,0)||2&r&&u!==h){if(Gn(r))return!1;o=!0}}}}else{if(!o&&!Gn(r)&&!Gn(l))return!1;if(o&&Gn(l))continue;o=!1,r=l|1&r}}return Gn(r)||o}function Gn(t){return 0==(1&t)}function k$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function F$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function JD(t,e,n=!1){for(let r=0;r<e.length;r++)if(P$(t,e[r],n))return!0;return!1}function eS(t,e){return t?":not("+e.trim()+")":e}function V$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gn(o)&&(e+=eS(s,i),i=""),r=o,s=s||!Gn(r);n++}return""!==i&&(e+=eS(s,i)),e}function Ur(t){return Lr(()=>{const e=nS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Wc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Nn.Emulated,styles:t.styles||re,_:null,schemas:t.schemas||null,tView:null,id:""};rS(n);const r=t.dependencies;return n.directiveDefs=Gc(r,!1),n.pipeDefs=Gc(r,!0),n.id=function G$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function j$(t){return ee(t)||vt(t)}function H$(t){return null!==t}function yt(t){return Lr(()=>({type:t.type,bootstrap:t.bootstrap||re,declarations:t.declarations||re,imports:t.imports||re,exports:t.exports||re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function tS(t,e){if(null==t)return ur;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function U(t){return Lr(()=>{const e=nS(t);return rS(e),e})}function ee(t){return t[zc]||null}function vt(t){return t[Tg]||null}function Lt(t){return t[Dg]||null}function hn(t,e){const n=t[zD]||null;if(!n&&!0===e)throw new Error(`Type ${nt(t)} does not have '\u0275mod' property.`);return n}function nS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ur,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tS(t.inputs,e),outputs:tS(t.outputs)}}function rS(t){t.features?.forEach(e=>e(t))}function Gc(t,e){if(!t)return null;const n=e?Lt:j$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(H$)}const Ue=0,S=1,W=2,Ae=3,qn=4,el=5,Mt=6,fo=7,ze=8,Ii=9,po=10,j=11,tl=12,iS=13,go=14,Ge=15,nl=16,mo=17,cr=18,rl=19,sS=20,Ti=21,Br=22,il=23,sl=24,Z=25,Ag=1,oS=2,dr=7,_o=9,Et=11;function Jt(t){return Array.isArray(t)&&"object"==typeof t[Ag]}function Vt(t){return Array.isArray(t)&&!0===t[Ag]}function Mg(t){return 0!=(4&t.flags)}function us(t){return t.componentOffset>-1}function Kc(t){return 1==(1&t.flags)}function Kn(t){return!!t.template}function Rg(t){return 0!=(512&t[W])}function cs(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}let wt=null,Qc=!1;function Pn(t){const e=wt;return wt=t,e}const uS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function dS(t){if(!al(t)||t.dirty){if(!t.producerMustRecompute(t)&&!pS(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function fS(t){t.dirty=!0,function hS(t){if(void 0===t.liveConsumerNode)return;const e=Qc;Qc=!0;try{for(const n of t.liveConsumerNode)n.dirty||fS(n)}finally{Qc=e}}(t),t.consumerMarkedDirty?.(t)}function Pg(t){return t&&(t.nextProducerIndex=0),Pn(t)}function kg(t,e){if(Pn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(al(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pS(t){yo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dS(n),r!==n.version))return!0}return!1}function gS(t){if(yo(t),al(t))for(let e=0;e<t.producerNode.length;e++)Yc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yc(t,e){if(function _S(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),yo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Yc(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];yo(i),i.producerIndexOfThis[r]=e}}function al(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let yS=null;const CS=()=>{},sj=(()=>({...uS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:CS}))();class oj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function kn(){return bS}function bS(t){return t.type.prototype.ngOnChanges&&(t.setInput=lj),aj}function aj(){const t=TS(this),e=t?.current;if(e){const n=t.previous;if(n===ur)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lj(t,e,n,r){const i=this.declaredInputs[n],s=TS(t)||function uj(t,e){return t[IS]=e}(t,{previous:ur,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new oj(l&&l.currentValue,e,a===ur),t[r]=e}kn.ngInherit=!0;const IS="__ngSimpleChanges__";function TS(t){return t[IS]||null}const hr=function(t,e,n){};function Ce(t){for(;Array.isArray(t);)t=t[Ue];return t}function Zc(t,e){return Ce(e[t])}function en(t,e){return Ce(e[t.index])}function AS(t,e){return t.data[e]}function fn(t,e){const n=e[t];return Jt(n)?n:n[Ue]}function Si(t,e){return null==e?null:t[e]}function MS(t){t[mo]=0}function gj(t){1024&t[W]||(t[W]|=1024,NS(t,1))}function RS(t){1024&t[W]&&(t[W]&=-1025,NS(t,-1))}function NS(t,e){let n=t[Ae];if(null===n)return;n[el]+=e;let r=n;for(n=n[Ae];null!==n&&(1===e&&1===r[el]||-1===e&&0===r[el]);)n[el]+=e,r=n,n=n[Ae]}const L={lFrame:jS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OS(){return L.bindingsEnabled}function w(){return L.lFrame.lView}function te(){return L.lFrame.tView}function ll(t){return L.lFrame.contextLView=t,t[ze]}function ul(t){return L.lFrame.contextLView=null,t}function Ct(){let t=xS();for(;null!==t&&64===t.type;)t=t.parent;return t}function xS(){return L.lFrame.currentTNode}function fr(t,e){const n=L.lFrame;n.currentTNode=t,n.isParent=e}function Vg(){return L.lFrame.isParent}function Ug(){L.lFrame.isParent=!1}function wo(){return L.lFrame.bindingIndex++}function jr(t){const e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Sj(t,e){const n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bg(e)}function Bg(t){L.lFrame.currentDirectiveIndex=t}function $g(t){const e=L.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function jg(t){L.lFrame.currentQueryIndex=t}function Mj(t){const e=t[S];return 2===e.type?e.declTNode:1===e.type?t[Mt]:null}function BS(t,e,n){if(n&Y.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Y.Host||(i=Mj(s),null===i||(s=s[go],10&i.type))););if(null===i)return!1;e=i,t=s}const r=L.lFrame=$S();return r.currentTNode=e,r.lView=t,!0}function Hg(t){const e=$S(),n=t[S];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $S(){const t=L.lFrame,e=null===t?null:t.child;return null===e?jS(t):e}function jS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function HS(){const t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const WS=HS;function Wg(){const t=HS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bt(){return L.lFrame.selectedIndex}function ds(t){L.lFrame.selectedIndex=t}function ke(){const t=L.lFrame;return AS(t.tView,t.selectedIndex)}let GS=!0;function Xc(){return GS}function Ai(t){GS=t}function Jc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function ed(t,e,n){qS(t,e,3,n)}function td(t,e,n,r){(3&t[W])===n&&qS(t,e,n,r)}function zg(t,e){let n=t[W];(3&n)===e&&(n&=8191,n+=1,t[W]=n)}function qS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[mo]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[mo]+=65536),(a<s||-1==s)&&(Lj(t,n,e,l),t[mo]=(4294901760&t[mo])+l+2),l++}function KS(t,e){hr(4,t,e);const n=Pn(null);try{e.call(t)}finally{Pn(n),hr(5,t,e)}}function Lj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[W]>>13<t[mo]>>16&&(3&t[W])===e&&(t[W]+=8192,KS(a,s)):KS(a,s)}const Co=-1;class dl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function qg(t){return t!==Co}function hl(t){return 32767&t}function fl(t,e){let n=function $j(t){return t>>16}(t),r=e;for(;n>0;)r=r[go],n--;return r}let Kg=!0;function nd(t){const e=Kg;return Kg=t,e}const QS=255,YS=5;let jj=0;const pr={};function rd(t,e){const n=ZS(t,e);if(-1!==n)return n;const r=e[S];r.firstCreatePass&&(t.injectorIndex=e.length,Qg(r.data,t),Qg(e,null),Qg(r.blueprint,null));const i=id(t,e),s=t.injectorIndex;if(qg(i)){const o=hl(i),a=fl(i,e),l=a[S].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Qg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ZS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function id(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=iA(i),null===r)return Co;if(n++,i=i[go],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Co}function Yg(t,e,n){!function Hj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xa)&&(r=n[Xa]),null==r&&(r=n[Xa]=jj++);const i=r&QS;e.data[t+(i>>YS)]|=1<<i}(t,e,n)}function XS(t,e,n){if(n&Y.Optional||void 0!==t)return t;mg()}function JS(t,e,n,r){if(n&Y.Optional&&void 0===r&&(r=null),!(n&(Y.Self|Y.Host))){const i=t[Ii],s=Zt(void 0);try{return i?i.get(e,r,n&Y.Optional):$D(e,r,n&Y.Optional)}finally{Zt(s)}}return XS(r,0,n)}function eA(t,e,n,r=Y.Default,i){if(null!==t){if(2048&e[W]&&!(r&Y.Self)){const o=function Qj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[W]&&!(512&o[W]);){const a=tA(s,o,n,r|Y.Self,pr);if(a!==pr)return a;let l=s.parent;if(!l){const u=o[sS];if(u){const c=u.get(n,pr,r);if(c!==pr)return c}l=iA(o),o=o[go]}s=l}return i}(t,e,n,r,pr);if(o!==pr)return o}const s=tA(t,e,n,r,pr);if(s!==pr)return s}return JS(e,n,r,i)}function tA(t,e,n,r,i){const s=function Gj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Xa)?t[Xa]:void 0;return"number"==typeof e?e>=0?e&QS:Kj:e}(n);if("function"==typeof s){if(!BS(e,t,r))return r&Y.Host?XS(i,0,r):JS(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Y.Optional)return o;mg()}finally{WS()}}else if("number"==typeof s){let o=null,a=ZS(t,e),l=Co,u=r&Y.Host?e[Ge][Mt]:null;for((-1===a||r&Y.SkipSelf)&&(l=-1===a?id(t,e):e[a+8],l!==Co&&rA(r,!1)?(o=e[S],a=hl(l),e=fl(l,e)):a=-1);-1!==a;){const c=e[S];if(nA(s,a,c.data)){const d=zj(a,e,n,o,r,u);if(d!==pr)return d}l=e[a+8],l!==Co&&rA(r,e[S].data[a+8]===u)&&nA(s,a,e)?(o=c,a=hl(l),e=fl(l,e)):a=-1}}return i}function zj(t,e,n,r,i,s){const o=e[S],a=o.data[t+8],c=function sd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&Kn(f)&&f.type===n)return l}return null}(a,o,n,null==r?us(a)&&Kg:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==c?hs(e,o,c,a):pr}function hs(t,e,n,r){let i=t[n];const s=e.data;if(function Vj(t){return t instanceof dl}(i)){const o=i;o.resolving&&function f$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ue(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}(s[n]));const a=nd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Zt(o.injectImpl):null;BS(t,r,Y.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Fj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=bS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Zt(u),nd(a),o.resolving=!1,WS()}}return i}function nA(t,e,n){return!!(n[e+(t>>YS)]&1<<t)}function rA(t,e){return!(t&Y.Self||t&Y.Host&&e)}class $t{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return eA(this._tNode,this._lView,e,Hc(r),n)}}function Kj(){return new $t(Ct(),w())}function bt(t){return Lr(()=>{const e=t.prototype.constructor,n=e[Vr]||Zg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||Zg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Zg(t){return pg(t)?()=>{const e=Zg(V(t));return e&&e()}:cs(t)}function iA(t){const e=t[S],n=e.type;return 2===n?e.declTNode:1===n?t[Mt]:null}const Io="__parameters__";function Do(t,e,n){return Lr(()=>{const r=function Xg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Io)?l[Io]:Object.defineProperty(l,Io,{value:[]})[Io];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ao(t,e){t.forEach(n=>Array.isArray(n)?Ao(n,e):e(n))}function oA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ad(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e,n){let r=Mo(t,e);return r>=0?t[1|r]=n:(r=~r,function nH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Jg(t,e){const n=Mo(t,e);if(n>=0)return t[1|n]}function Mo(t,e){return function aA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const it=Za(Do("Optional"),8),ud=Za(Do("SkipSelf"),4);function pd(t){return 128==(128&t.flags)}var Mi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mi||{});const bH=/^>|^->|<!--|-->|--!>|<!-$/g,IH=/(<|>)/g,TH="\u200b$1\u200b";const im=new Map;let DH=0;const om="__ngContext__";function Rt(t,e){Jt(e)?(t[om]=e[rl],function AH(t){im.set(t[rl],t)}(e)):t[om]=e}let am;function lm(t,e){return am(t,e)}function vl(t){const e=t[Ae];return Vt(e)?e[Ae]:e}function SA(t){return MA(t[tl])}function AA(t){return MA(t[qn])}function MA(t){for(;null!==t&&!Vt(t);)t=t[qn];return t}function Po(t,e,n,r,i){if(null!=r){let s,o=!1;Vt(r)?s=r:Jt(r)&&(o=!0,r=r[Ue]);const a=Ce(r);0===t&&null!==n?null==i?kA(e,n,a):fs(e,n,a,i||null,!0):1===t&&null!==n?fs(e,n,a,i||null,!0):2===t?function wd(t,e,n){const r=vd(t,e);r&&function qH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function YH(t,e,n,r,i){const s=n[dr];s!==Ce(n)&&Po(e,t,r,s,i);for(let a=Et;a<n.length;a++){const l=n[a];wl(l[S],l,t,e,r,s)}}(e,t,s,n,i)}}function um(t,e){return t.createComment(function vA(t){return t.replace(bH,e=>e.replace(IH,TH))}(e))}function _d(t,e,n){return t.createElement(e,n)}function NA(t,e){const n=t[_o],r=n.indexOf(e);RS(e),n.splice(r,1)}function yd(t,e){if(t.length<=Et)return;const n=Et+e,r=t[n];if(r){const i=r[nl];null!==i&&i!==t&&NA(i,r),e>0&&(t[n-1][qn]=r[qn]);const s=ad(t,Et+e);!function UH(t,e){wl(t,e,e[j],2,null,null),e[Ue]=null,e[Mt]=null}(r[S],r);const o=s[cr];null!==o&&o.detachView(s[S]),r[Ae]=null,r[qn]=null,r[W]&=-129}return r}function cm(t,e){if(!(256&e[W])){const n=e[j];e[il]&&gS(e[il]),e[sl]&&gS(e[sl]),n.destroyNode&&wl(t,e,n,3,null,null),function jH(t){let e=t[tl];if(!e)return dm(t[S],t);for(;e;){let n=null;if(Jt(e))n=e[tl];else{const r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[qn]&&e!==t;)Jt(e)&&dm(e[S],e),e=e[Ae];null===e&&(e=t),Jt(e)&&dm(e[S],e),n=e&&e[qn]}e=n}}(e)}}function dm(t,e){if(!(256&e[W])){e[W]&=-129,e[W]|=256,function GH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof dl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];hr(4,a,l);try{l.call(a)}finally{hr(5,a,l)}}else{hr(4,i,s);try{s.call(i)}finally{hr(5,i,s)}}}}}(t,e),function zH(t,e){const n=t.cleanup,r=e[fo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[fo]=null);const i=e[Ti];if(null!==i){e[Ti]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[S].type&&e[j].destroy();const n=e[nl];if(null!==n&&Vt(e[Ae])){n!==e[Ae]&&NA(n,e);const r=e[cr];null!==r&&r.detachView(t)}!function MH(t){im.delete(t[rl])}(e)}}function hm(t,e,n){return function PA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ue];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Nn.None||s===Nn.Emulated)return null}return en(r,n)}}(t,e.parent,n)}function fs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kA(t,e,n){t.appendChild(e,n)}function OA(t,e,n,r,i){null!==r?fs(t,e,n,r,i):kA(t,e,n)}function vd(t,e){return t.parentNode(e)}let fm,Cd,_m,bd,LA=function FA(t,e,n){return 40&t.type?en(t,n):null};function Ed(t,e,n,r){const i=hm(t,r,e),s=e[j],a=function xA(t,e,n){return LA(t,e,n)}(r.parent||e[Mt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)OA(s,i,n[l],a,!1);else OA(s,i,n,a,!1);void 0!==fm&&fm(s,r,e,n,i)}function El(t,e){if(null!==e){const n=e.type;if(3&n)return en(e,t);if(4&n)return pm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return El(t,r);{const i=t[e.index];return Vt(i)?pm(-1,i):Ce(i)}}if(32&n)return lm(e,t)()||Ce(t[e.index]);{const r=UA(t,e);return null!==r?Array.isArray(r)?r[0]:El(vl(t[Ge]),r):El(t,e.next)}}return null}function UA(t,e){return null!==e?t[Ge][Mt].projection[e.projection]:null}function pm(t,e){const n=Et+t+1;if(n<e.length){const r=e[n],i=r[S].firstChild;if(null!==i)return El(r,i)}return e[dr]}function gm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Rt(Ce(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)gm(t,e,n.child,r,i,s,!1),Po(e,t,i,a,s);else if(32&l){const u=lm(n,r);let c;for(;c=u();)Po(e,t,i,c,s);Po(e,t,i,a,s)}else 16&l?$A(t,e,r,n,i,s):Po(e,t,i,a,s);n=o?n.projectionNext:n.next}}function wl(t,e,n,r,i,s){gm(n,r,t.firstChild,e,i,s,!1)}function $A(t,e,n,r,i,s){const o=n[Ge],l=o[Mt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Po(e,t,i,l[u],s);else{let u=l;const c=o[Ae];pd(r)&&(u.flags|=128),gm(t,e,u,c,i,s,!0)}}function jA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Sg(t,e,r),null!==i&&jA(t,e,i),null!==s&&function XH(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ko(t){return function mm(){if(void 0===Cd&&(Cd=null,we.trustedTypes))try{Cd=we.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cd}()?.createHTML(t)||t}function Oo(){if(void 0!==_m)return _m;if(typeof document<"u")return document;throw new E(210,!1)}function ym(){if(void 0===bd&&(bd=null,we.trustedTypes))try{bd=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bd}function WA(t){return ym()?.createHTML(t)||t}function GA(t){return ym()?.createScriptURL(t)||t}class ps{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LD})`}}class rW extends ps{getTypeName(){return"HTML"}}class iW extends ps{getTypeName(){return"Style"}}class sW extends ps{getTypeName(){return"Script"}}class oW extends ps{getTypeName(){return"URL"}}class aW extends ps{getTypeName(){return"ResourceURL"}}function gn(t){return t instanceof ps?t.changingThisBreaksApplicationSecurity:t}function gr(t,e){const n=function lW(t){return t instanceof ps&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${LD})`)}return n===e}class pW{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ko(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class gW{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ko(e),n}}const _W=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Id(t){return(t=String(t)).match(_W)?t:"unsafe:"+t}function Hr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Cl(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const KA=Hr("area,br,col,hr,img,wbr"),QA=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YA=Hr("rp,rt"),vm=Cl(KA,Cl(QA,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cl(YA,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cl(YA,QA)),Em=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZA=Cl(Em,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yW=Hr("script,style,template");class vW{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!vm.hasOwnProperty(n))return this.sanitizedSomething=!0,!yW.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!ZA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Em[a]&&(l=Id(l)),this.buf.push(" ",o,'="',XA(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();vm.hasOwnProperty(n)&&!KA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(XA(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const EW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wW=/([^\#-~ |!])/g;function XA(t){return t.replace(/&/g,"&amp;").replace(EW,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(wW,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Td;function JA(t,e){let n=null;try{Td=Td||function qA(t){const e=new gW(t);return function mW(){try{return!!(new window.DOMParser).parseFromString(ko(""),"text/html")}catch{return!1}}()?new pW(e):e}(t);let r=e?String(e):"";n=Td.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Td.getInertBodyElement(r)}while(r!==s);return ko((new vW).sanitizeChildren(wm(n)||n))}finally{if(n){const r=wm(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function wm(t){return"content"in t&&function CW(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mn||{});function Cm(t){const e=bl();return e?WA(e.sanitize(mn.HTML,t)||""):gr(t,"HTML")?WA(gn(t)):JA(Oo(),$(t))}function e0(t){const e=bl();return e?e.sanitize(mn.URL,t)||"":gr(t,"URL")?gn(t):Id($(t))}function t0(t){const e=bl();if(e)return GA(e.sanitize(mn.RESOURCE_URL,t)||"");if(gr(t,"ResourceURL"))return GA(gn(t));throw new E(904,!1)}function bl(){const t=w();return t&&t[po].sanitizer}const Il=new R("ENVIRONMENT_INITIALIZER"),r0=new R("INJECTOR",-1),s0=new R("INJECTOR_DEF_TYPES");class bm{get(e,n=Ya){if(n===Ya){const r=new Error(`NullInjectorError: No provider for ${nt(e)}!`);throw r.name="NullInjectorError",r}return n}}function AW(...t){return{\u0275providers:o0(0,t),\u0275fromNgModule:!0}}function o0(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ao(e,o=>{const a=o;Dd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&a0(i,s),n}function a0(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Tm(i,s=>{e(s,r)})}}function Dd(t,e,n,r){if(!(t=V(t)))return!1;let i=null,s=Bc(t);const o=!s&&ee(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Bc(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)Dd(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Ao(s.imports,c=>{Dd(c,e,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&a0(u,e)}if(!a){const u=cs(i)||(()=>new i);e({provide:i,useFactory:u,deps:re},i),e({provide:s0,useValue:i,multi:!0},i),e({provide:Il,useValue:()=>M(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=t;Tm(l,c=>{e(c,u)})}}}return i!==t&&void 0!==t.providers}function Tm(t,e){for(let n of t)gg(n)&&(n=n.\u0275providers),Array.isArray(n)?Tm(n,e):e(n)}const MW=de({provide:String,useValue:de});function Dm(t){return null!==t&&"object"==typeof t&&MW in t}function gs(t){return"function"==typeof t}const Sm=new R("Set Injector scope."),Sd={},NW={};let Am;function Ad(){return void 0===Am&&(Am=new bm),Am}class xn{}class xo extends xn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rm(e,o=>this.processProvider(o)),this.records.set(r0,Fo(void 0,this)),i.has("environment")&&this.records.set(xn,Fo(void 0,this));const s=this.records.get(Sm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(s0.multi,re,Y.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=bi(this),r=Zt(void 0);try{return e()}finally{bi(n),Zt(r)}}get(e,n=Ya,r=Y.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GD))return e[GD](this);r=Hc(r);const s=bi(this),o=Zt(void 0);try{if(!(r&Y.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function FW(t){return"function"==typeof t||"object"==typeof t&&t instanceof R}(e)&&Uc(e);l=u&&this.injectableDefInScope(u)?Fo(Mm(e),Sd):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Y.Self?Ad():this.parent).get(e,n=r&Y.Optional&&n===Ya?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[jc]=a[jc]||[]).unshift(nt(e)),s)throw a;return function A$(t,e,n,r){const i=t[jc];throw e[HD]&&i.unshift(e[HD]),t.message=function M$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=nt(e);if(Array.isArray(e))i=e.map(nt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):nt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(b$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[jc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Zt(o),bi(s)}}resolveInjectorInitializers(){const e=bi(this),n=Zt(void 0);try{const i=this.get(Il.multi,re,Y.Self);for(const s of i)s()}finally{bi(e),Zt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let n=gs(e=V(e))?e:V(e&&e.provide);const r=function kW(t){return Dm(t)?Fo(void 0,t.useValue):Fo(c0(t),Sd)}(e);if(gs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Fo(void 0,Sd,!0),i.factory=()=>Ig(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Sd&&(n.value=NW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function xW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=V(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Mm(t){const e=Uc(t),n=null!==e?e.factory:cs(t);if(null!==n)return n;if(t instanceof R)throw new E(204,!1);if(t instanceof Function)return function PW(t){const e=t.length;if(e>0)throw function ml(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new E(204,!1);const n=function v$(t){return t&&(t[$c]||t[UD])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new E(204,!1)}function c0(t,e,n){let r;if(gs(t)){const i=V(t);return cs(i)||Mm(i)}if(Dm(t))r=()=>V(t.useValue);else if(function u0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ig(t.deps||[]));else if(function l0(t){return!(!t||!t.useExisting)}(t))r=()=>M(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(!function OW(t){return!!t.deps}(t))return cs(i)||Mm(i);r=()=>new i(...Ig(t.deps))}return r}function Fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Rm(t,e){for(const n of t)Array.isArray(n)?Rm(n,e):n&&gg(n)?Rm(n.\u0275providers,e):e(n)}const Md=new R("AppId",{providedIn:"root",factory:()=>LW}),LW="ng",d0=new R("Platform Initializer"),Ri=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new R("AnimationModuleType"),f0=new R("CSP nonce",{providedIn:"root",factory:()=>Oo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let p0=(t,e,n)=>null;function Vm(t,e,n=!1){return p0(t,e,n)}class qW{}class _0{}class QW{resolveComponentFactory(e){throw function KW(t){const e=Error(`No component factory found for ${nt(t)}.`);return e.ngComponent=t,e}(e)}}let Sl=(()=>{class t{static#e=this.NULL=new QW}return t})();function YW(){return Uo(Ct(),w())}function Uo(t,e){return new _n(en(t,e))}let _n=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=YW}return t})();class Al{}let Wr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function XW(){const t=w(),n=fn(Ct().index,t);return(Jt(n)?n:t)[j]}()}return t})(),JW=(()=>{class t{static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>null})}return t})();class Bo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const v0=new Bo("16.2.12"),$m={};function b0(t,e=null,n=null,r){const i=I0(t,e,n,r);return i.resolveInjectorInitializers(),i}function I0(t,e=null,n=null,r,i=new Set){const s=[n||re,AW(t)];return r=r||("object"==typeof t?void 0:nt(t)),new xo(s,e||Ad(),r||null,i)}let Ye=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ya;static#t=this.NULL=new bm;static create(n,r){if(Array.isArray(n))return b0({name:""},r,n,"");{const i=n.name??"";return b0({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=N({token:t,providedIn:"any",factory:()=>M(r0)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Hm(t){return t.ngOriginalError}class zr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hm(e);for(;n&&Hm(n);)n=Hm(n);return n||null}}function zm(t){return e=>{setTimeout(t,void 0,e)}}const Be=class oz extends at{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=zm(s),i&&(i=zm(i)),o&&(o=zm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Yt&&e.add(a),a}};function D0(...t){}class J{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function az(){const t="function"==typeof we.requestAnimationFrame;let e=we[t?"requestAnimationFrame":"setTimeout"],n=we[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function cz(t){const e=()=>{!function uz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qm(t),t.isCheckStableRunning=!0,Gm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function hz(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return S0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),A0(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return S0(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),A0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,qm(t),Gm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!J.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(J.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,lz,D0,D0);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const lz={};function Gm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function S0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function A0(t){t._nesting--,Gm(t)}class dz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const M0=new R("",{providedIn:"root",factory:R0});function R0(){const t=A(J);let e=!0;return function u$(...t){const e=Qa(t),n=function n$(t,e){return"number"==typeof dg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?cn(r[0]):uo(n)(lt(r,e)):ar}(new Ve(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ve(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{J.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(FD()))}function Gr(t){return t instanceof Function?t():t}let Km=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ml(t){for(;t;){t[W]|=64;const e=vl(t);if(Rg(t)&&!e)return t;t=e}return null}const x0=new R("",{providedIn:"root",factory:()=>!1});let Fd=null;function U0(t,e){return t[e]??j0()}function B0(t,e){const n=j0();n.producerNode?.length&&(t[e]=Fd,n.lView=t,Fd=$0())}const Cz={...uS,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ml(t.lView)},lView:null};function $0(){return Object.create(Cz)}function j0(){return Fd??=$0(),Fd}const H={};function $e(t){H0(te(),w(),Bt()+t,!1)}function H0(t,e,n,r){if(!r)if(3==(3&e[W])){const s=t.preOrderCheckHooks;null!==s&&ed(e,s,n)}else{const s=t.preOrderHooks;null!==s&&td(e,s,0,n)}ds(n)}function C(t,e=Y.Default){const n=w();return null===n?M(t,e):eA(Ct(),n,V(t),e)}function Ld(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[Ue]=i,d[W]=140|r,(null!==u||t&&2048&t[W])&&(d[W]|=2048),MS(d),d[Ae]=d[go]=t,d[ze]=n,d[po]=o||t&&t[po],d[j]=a||t&&t[j],d[Ii]=l||t&&t[Ii]||null,d[Mt]=s,d[rl]=function SH(){return DH++}(),d[Br]=c,d[sS]=u,d[Ge]=2==e.type?t[Ge]:d,d}function Ho(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Qm(t,e,n,r,i){const s=xS(),o=Vg(),l=t.data[e]=function Rz(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Eo(){return null!==L.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function Dj(){return L.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function cl(){const t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return fr(s,!0),s}function Rl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function z0(t,e,n,r,i){const s=U0(e,il),o=Bt(),a=2&r;try{ds(-1),a&&e.length>Z&&H0(t,e,Z,!1),hr(a?2:0,i);const u=a?s:null,c=Pg(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{kg(u,c)}}finally{a&&null===e[il]&&B0(e,il),ds(o),hr(a?3:1,i)}}function Ym(t,e,n){if(Mg(e)){const r=Pn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Pn(r)}}}function Zm(t,e,n){OS()&&(function Lz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;us(n)&&function Wz(t,e,n){const r=en(e,t),i=G0(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Vd(t,Ld(t,i,null,o,r,e,null,t[po].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rd(n,e),Rt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=hs(e,t,a,n);Rt(u,e),null!==o&&zz(0,a-i,u,l,0,o),Kn(l)&&(fn(n.index,e)[ze]=hs(e,t,a,n))}}(t,e,n,en(n,e)),64==(64&n.flags)&&Z0(t,e,n))}function Xm(t,e,n=en){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function G0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jm(t,e,n,r,i,s,o,a,l,u,c){const d=Z+r,h=d+i,f=function Iz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:H);return n}(d,h),p="function"==typeof u?u():u;return f[S]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let q0=t=>null;function K0(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Q0(n,e,i,s):r.hasOwnProperty(i)&&Q0(n,e,r[i],s)}return n}function Q0(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function yn(t,e,n,r,i,s,o,a){const l=en(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(i_(t,n,c,r,i),us(e)&&function kz(t,e){const n=fn(e,t);16&n[W]||(n[W]|=64)}(n,e.index)):3&e.type&&(r=function Pz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function e_(t,e,n,r){if(OS()){const i=null===r?null:{"":-1},s=function Uz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(JD(e,o.selectors,!1))if(r||(r=[]),Kn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),t_(t,e,a.length)}else r.unshift(o),t_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Y0(t,e,n,o,i,a),i&&function Bz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new E(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ja(n.mergedAttrs,n.attrs)}function Y0(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Yg(rd(n,e),t,r[u].type);!function jz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Rl(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Ja(n.mergedAttrs,c.hostAttrs),Hz(t,n,e,l,c),$z(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function Nz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=n?n.get(d):null,p=h?h.outputs:null;l=K0(d.inputs,c,l,h?h.inputs:null),u=K0(d.outputs,c,u,p);const g=null===l||null===o||XD(e)?null:Gz(l,c,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,s)}function Z0(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Aj(){return L.lFrame.currentDirectiveIndex}();try{ds(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Bg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Vz(l,u)}}finally{ds(-1),Bg(o)}}function Vz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function t_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $z(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function Hz(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=cs(i.type)),o=new dl(s,Kn(i),C);t.blueprint[r]=o,n[r]=o,function xz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Fz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Rl(t,n,i.hostVars,H),i)}function mr(t,e,n,r,i,s){const o=en(t,e);!function n_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?$(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[j],o,s,t.value,n,r,i)}function zz(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)X0(r,n,o[a++],o[a++],o[a++])}function X0(t,e,n,r,i){const s=Pn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Pn(s)}}function Gz(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function J0(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function eM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];jg(n[r]),o.contentQueries(2,e[s],s)}}}function Vd(t,e){return t[tl]?t[iS][qn]=e:t[tl]=e,t[iS]=e,e}function r_(t,e,n){jg(0);const r=Pn(null);try{e(t,n)}finally{Pn(r)}}function rM(t,e,n){return(null===t||Kn(t))&&(n=function Lg(t){for(;Array.isArray(t);){if("object"==typeof t[Ag])return t;t=t[Ue]}return null}(n[e.index])),n[j]}function iM(t,e){const n=t[Ii],r=n?n.get(zr,null):null;r&&r.handleError(e)}function i_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];X0(t.data[o],e[o],r,a,i)}}function qz(t,e){const n=fn(e,t),r=n[S];!function Kz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ue];null!==i&&null===n[Br]&&(n[Br]=Vm(i,n[Ii])),s_(r,n,n[ze])}function s_(t,e,n){Hg(e);try{const r=t.viewQuery;null!==r&&r_(1,r,n);const i=t.template;null!==i&&z0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&eM(t,e),t.staticViewQueries&&r_(2,t.viewQuery,n);const s=t.components;null!==s&&function Qz(t,e){for(let n=0;n<e.length;n++)qz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Wg()}}let sM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function ij(t,e,n){const r=Object.create(sj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>fS(r),run:()=>{if(r.dirty=!1,r.hasRun&&!pS(r))return;r.hasRun=!0;const o=Pg(r);try{r.cleanupFn(),r.cleanupFn=CS,r.fn(i)}finally{kg(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ud(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=fg(i,a):2==s&&(r=fg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Nl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Ce(s)),Vt(s)&&oM(s,r);const o=n.type;if(8&o)Nl(t,e,n.child,r);else if(32&o){const a=lm(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=UA(e,n);if(Array.isArray(a))r.push(...a);else{const l=vl(e[Ge]);Nl(l[S],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oM(t,e){for(let n=Et;n<t.length;n++){const r=t[n],i=r[S].firstChild;null!==i&&Nl(r[S],r,i,e)}t[dr]!==t[Ue]&&e.push(t[dr])}function Bd(t,e,n,r=!0){const i=e[po],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{aM(t,e,t.template,n)}catch(l){throw r&&iM(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function aM(t,e,n,r){const i=e[W];if(256!=(256&i)){e[po].effectManager?.flush(),Hg(e);try{MS(e),function LS(t){return L.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&z0(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&ed(e,u,null)}else{const u=t.preOrderHooks;null!==u&&td(e,u,0,null),zg(e,0)}if(function Xz(t){for(let e=SA(t);null!==e;e=AA(e)){if(!e[oS])continue;const n=e[_o];for(let r=0;r<n.length;r++){gj(n[r])}}}(e),lM(e,2),null!==t.contentQueries&&eM(t,e),o){const u=t.contentCheckHooks;null!==u&&ed(e,u)}else{const u=t.contentHooks;null!==u&&td(e,u,1),zg(e,1)}!function bz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=U0(e,sl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ds(~s);else{const o=s,a=n[++i],l=n[++i];Sj(a,o),r.dirty=!1;const u=Pg(r);try{l(2,e[o])}finally{kg(r,u)}}}}finally{null===e[sl]&&B0(e,sl),ds(-1)}}(t,e);const a=t.components;null!==a&&cM(e,a,0);const l=t.viewQuery;if(null!==l&&r_(2,l,r),o){const u=t.viewCheckHooks;null!==u&&ed(e,u)}else{const u=t.viewHooks;null!==u&&td(e,u,2),zg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[W]&=-73,RS(e)}finally{Wg()}}}function lM(t,e){for(let n=SA(t);null!==n;n=AA(n))for(let r=Et;r<n.length;r++)uM(n[r],e)}function Jz(t,e,n){uM(fn(e,t),n)}function uM(t,e){if(!function fj(t){return 128==(128&t[W])}(t))return;const n=t[S],r=t[W];if(80&r&&0===e||1024&r||2===e)aM(n,t,n.template,t[ze]);else if(t[el]>0){lM(t,1);const i=n.components;null!==i&&cM(t,i,1)}}function cM(t,e,n){for(let r=0;r<e.length;r++)Jz(t,e[r],n)}class Pl{get rootNodes(){const e=this._lView,n=e[S];return Nl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return 256==(256&this._lView[W])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ae];if(Vt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(yd(e,r),ad(n,r))}this._attachedToViewContainer=!1}cm(this._lView[S],this._lView)}onDestroy(e){!function PS(t,e){if(256==(256&t[W]))throw new E(911,!1);null===t[Ti]&&(t[Ti]=[]),t[Ti].push(e)}(this._lView,e)}markForCheck(){Ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){this._lView[W]|=128}detectChanges(){Bd(this._lView[S],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $H(t,e){wl(t,e,e[j],2,null,null)}(this._lView[S],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class eG extends Pl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Bd(e[S],e,e[ze],!1)}checkNoChanges(){}get context(){return null}}class dM extends Sl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ee(e);return new kl(n,this.ngModule)}}function hM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class nG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hc(r);const i=this.injector.get(e,$m,r);return i!==$m||n===$m?i:this.parentInjector.get(e,n,r)}}class kl extends _0{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=hM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function U$(t){return t.map(V$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof xn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new nG(e,s):e,a=o.get(Al,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:o.get(JW,null),effectManager:o.get(sM,null),afterRenderEventManager:o.get(Km,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function Tz(t,e,n,r){const s=r.get(x0,!1)||n===Nn.ShadowDom,o=t.selectRootElement(e,s);return function Dz(t){q0(t)}(o),o}(h,r,this.componentDef.encapsulation,o):_d(h,f,function tG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Vm(p,o,!0));const b=Jm(0,null,null,1,0,null,null,null,null,null,null),I=Ld(null,b,null,v,null,null,d,h,o,null,y);let k,X;Hg(I);try{const se=this.componentDef;let Pe,Ke=null;se.findHostDirectiveDefs?(Pe=[],Ke=new Map,se.findHostDirectiveDefs(se,Pe,Ke),Pe.push(se)):Pe=[se];const Sn=function iG(t,e){const n=t[S],r=Z;return t[r]=e,Ho(n,r,2,"#host",null)}(I,p),Jp=function sG(t,e,n,r,i,s,o){const a=i[S];!function oG(t,e,n,r){for(const i of t)e.mergedAttrs=Ja(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ud(e,e.mergedAttrs,!0),null!==n&&HA(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=Vm(e,i[Ii]));const u=s.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=Ld(i,G0(n),null,c,i[t.index],t,s,u,null,null,l);return a.firstCreatePass&&t_(a,t,r.length-1),Vd(i,d),i[t.index]=d}(Sn,p,se,Pe,I,d,h);X=AS(b,Z),p&&function lG(t,e,n,r){if(r)Sg(t,n,["ng-version",v0.full]);else{const{attrs:i,classes:s}=function B$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Gn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Sg(t,n,i),s&&s.length>0&&jA(t,n,s.join(" "))}}(h,se,p,r),void 0!==n&&function uG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(X,this.ngContentSelectors,n),k=function aG(t,e,n,r,i,s){const o=Ct(),a=i[S],l=en(o,i);Y0(a,i,o,n,null,r);for(let c=0;c<n.length;c++)Rt(hs(i,a,o.directiveStart+c,o),i);Z0(a,i,o),l&&Rt(l,i);const u=hs(i,a,o.directiveStart+o.componentOffset,o);if(t[ze]=i[ze]=u,null!==s)for(const c of s)c(u,e);return Ym(a,o,t),u}(Jp,se,Pe,Ke,I,[cG]),s_(b,I,null)}finally{Wg()}return new rG(this.componentType,k,Uo(X,I),I,X)}}class rG extends qW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new eG(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;i_(s[S],s,i,e,n),this.previousInputValues.set(e,n),Ml(fn(this._tNode.index,s))}}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function cG(){const t=Ct();Jc(w()[S],t)}function he(t){let e=function fM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=$d(t.inputs),o.inputTransforms=$d(t.inputTransforms),o.declaredInputs=$d(t.declaredInputs),o.outputs=$d(t.outputs);const a=i.hostBindings;a&&pG(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&hG(t,l),u&&fG(t,u),Lc(t.inputs,i.inputs),Lc(t.declaredInputs,i.declaredInputs),Lc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Lc(o.inputTransforms,i.inputTransforms)),Kn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===he&&(n=!1)}}e=Object.getPrototypeOf(e)}!function dG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ja(i.hostAttrs,n=Ja(n,i.hostAttrs))}}(r)}function $d(t){return t===ur?{}:t===re?[]:t}function hG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function fG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function pG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function _M(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Nt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function nn(t,e,n,r){const i=w();return Nt(i,wo(),e)&&(te(),mr(ke(),i,t,e,n,r)),nn}function vn(t,e,n,r,i,s,o,a){const l=w(),u=te(),c=t+Z,d=u.firstCreatePass?function UG(t,e,n,r,i,s,o,a,l){const u=e.consts,c=Ho(e,t,4,o||null,Si(u,a));e_(e,n,c,Si(u,l)),Jc(e,c);const d=c.tView=Jm(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];fr(d,!1);const h=RM(u,l,d,t);Xc()&&Ed(u,l,h,d),Rt(h,l),Vd(l,l[c]=J0(h,l,h,d)),Kc(d)&&Zm(u,l,d),null!=o&&Xm(l,d,a)}let RM=function NM(t,e,n,r){return Ai(!0),e[j].createComment("")};function h_(t){return function vo(t,e){return t[e]}(function Tj(){return L.lFrame.contextLView}(),Z+t)}function st(t,e,n){const r=w();return Nt(r,wo(),e)&&yn(te(),ke(),r,t,e,r[j],n,!1),st}function f_(t,e,n,r,i){const o=i?"class":"style";i_(t,n,e.inputs[o],o,r)}function oe(t,e,n,r){const i=w(),s=te(),o=Z+t,a=i[j],l=s.firstCreatePass?function HG(t,e,n,r,i,s){const o=e.consts,l=Ho(e,t,2,r,Si(o,i));return e_(e,n,l,Si(o,s)),null!==l.attrs&&Ud(l,l.attrs,!1),null!==l.mergedAttrs&&Ud(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],u=PM(s,i,l,a,e,t);i[o]=u;const c=Kc(l);return fr(l,!0),HA(a,u,l),32!=(32&l.flags)&&Xc()&&Ed(s,i,u,l),0===function _j(){return L.lFrame.elementDepthCount}()&&Rt(u,i),function yj(){L.lFrame.elementDepthCount++}(),c&&(Zm(s,i,l),Ym(s,l,i)),null!==r&&Xm(i,l),oe}function fe(){let t=Ct();Vg()?Ug():(t=t.parent,fr(t,!1));const e=t;(function Ej(t){return L.skipHydrationRootTNode===t})(e)&&function Ij(){L.skipHydrationRootTNode=null}(),function vj(){L.lFrame.elementDepthCount--}();const n=te();return n.firstCreatePass&&(Jc(n,t),Mg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Uj(t){return 0!=(8&t.flags)}(e)&&f_(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Bj(t){return 0!=(16&t.flags)}(e)&&f_(n,e,w(),e.stylesWithoutHost,!1),fe}function Ze(t,e,n,r){return oe(t,e,n,r),fe(),Ze}let PM=(t,e,n,r,i,s)=>(Ai(!0),_d(r,i,function zS(){return L.lFrame.currentNamespace}()));function Vl(t,e,n){const r=w(),i=te(),s=t+Z,o=i.firstCreatePass?function GG(t,e,n,r,i){const s=e.consts,o=Si(s,r),a=Ho(e,t,8,"ng-container",o);return null!==o&&Ud(a,o,!0),e_(e,n,a,Si(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];fr(o,!0);const a=OM(i,r,o,t);return r[s]=a,Xc()&&Ed(i,r,a,o),Rt(a,r),Kc(o)&&(Zm(i,r,o),Ym(i,o,r)),null!=n&&Xm(r,o),Vl}function Ul(){let t=Ct();const e=te();return Vg()?Ug():(t=t.parent,fr(t,!1)),e.firstCreatePass&&(Jc(e,t),Mg(t)&&e.queries.elementEnd(t)),Ul}let OM=(t,e,n,r)=>(Ai(!0),um(e[j],""));function qd(){return w()}function Bl(t){return!!t&&"function"==typeof t.then}function xM(t){return!!t&&"function"==typeof t.subscribe}function Xe(t,e,n,r){const i=w(),s=te(),o=Ct();return function LM(t,e,n,r,i,s,o){const a=Kc(r),u=t.firstCreatePass&&function nM(t){return t.cleanup||(t.cleanup=[])}(t),c=e[ze],d=function tM(t){return t[fo]||(t[fo]=[])}(e);let h=!0;if(3&r.type||o){const g=en(r,e),_=o?o(g):g,v=d.length,y=o?I=>o(Ce(I[r.index])):r.index;let b=null;if(!o&&a&&(b=function QG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[fo],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=UM(r,e,c,s,!1);const I=n.listen(_,i,s);d.push(s,I),u&&u.push(i,y,v,v+1)}}else s=UM(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const k=e[p[_]][p[_+1]].subscribe(s),X=d.length;d.push(s,k),u&&u.push(i,r.index,X,-(X+1))}}}(s,i,i[j],o,t,e,r),Xe}function VM(t,e,n,r){try{return hr(6,e,n),!1!==n(r)}catch(i){return iM(t,i),!1}finally{hr(7,e,n)}}function UM(t,e,n,r,i){return function s(o){if(o===Function)return r;Ml(t.componentOffset>-1?fn(t.index,e):e);let l=VM(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=VM(e,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function En(t=1){return function Rj(t){return(L.lFrame.contextLView=function Nj(t,e){for(;t>0;)e=e[go],t--;return e}(t,L.lFrame.contextLView))[ze]}(t)}function Kd(t,e){return t<<17|e<<2}function Ni(t){return t>>17&32767}function g_(t){return 2|t}function _s(t){return(131068&t)>>2}function m_(t,e){return-131069&t|e<<2}function __(t){return 1|t}function QM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ni(s):_s(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];i3(t[a],e)&&(l=!0,t[a+1]=r?__(c):g_(c)),a=r?Ni(c):_s(c)}l&&(t[n+1]=r?g_(s):__(s))}function i3(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Mo(t,e)>=0}const ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YM(t){return t.substring(ot.key,ot.keyEnd)}function ZM(t,e){const n=ot.textEnd;return n===e?-1:(e=ot.keyEnd=function l3(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ot.key=e,n),Jo(t,e,n))}function Jo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ea(t,e,n){return Qn(t,e,n,!1),ea}function Qd(t,e){return Qn(t,e,null,!0),Qd}function Kr(t){!function Yn(t,e,n,r){const i=te(),s=jr(2);i.firstUpdatePass&&rR(i,null,s,r);const o=w();if(n!==H&&Nt(o,s,n)){const a=i.data[Bt()];if(aR(a,r)&&!nR(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=fg(l,n||"")),f_(i,a,o,n,r)}else!function y3(t,e,n,r,i,s,o,a){i===H&&(i=re);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),null!==p&&sR(t,e,n,r,p,g,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[j],o[s+1],o[s+1]=function m3(t,e,n){if(null==n||""===n)return re;const r=[],i=gn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(_3,vr,t,!0)}function vr(t,e){for(let n=function o3(t){return function JM(t){ot.key=0,ot.keyEnd=0,ot.value=0,ot.valueEnd=0,ot.textEnd=t.length}(t),ZM(t,Jo(t,0,ot.textEnd))}(e);n>=0;n=ZM(e,n))pn(t,YM(e),!0)}function Qn(t,e,n,r){const i=w(),s=te(),o=jr(2);s.firstUpdatePass&&rR(s,t,o,r),e!==H&&Nt(i,o,e)&&sR(s,s.data[Bt()],i,i[j],t,i[o+1]=function v3(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=nt(gn(t)))),t}(e,n),r,o)}function nR(t,e){return e>=t.expandoStartIndex}function rR(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Bt()],o=nR(t,n);aR(s,r)&&null===e&&!o&&(e=!1),e=function h3(t,e,n,r){const i=$g(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$l(n=y_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=y_(i,t,e,n,r),null===s){let l=function f3(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==_s(r))return t[Ni(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=y_(null,t,e,l[1],r),l=$l(l,e.attrs,r),function p3(t,e,n,r){t[Ni(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function g3(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$l(r,t[s].hostAttrs,n);return $l(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function n3(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ni(o),l=_s(o);t[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||Mo(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const h=Ni(t[a+1]);t[r+1]=Kd(h,a),0!==h&&(t[h+1]=m_(t[h+1],r)),t[a+1]=function e3(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Kd(a,0),0!==a&&(t[a+1]=m_(t[a+1],r)),a=r;else t[r+1]=Kd(l,0),0===a?a=r:t[l+1]=m_(t[l+1],r),l=r;u&&(t[r+1]=g_(t[r+1])),QM(t,c,r,!0),QM(t,c,r,!1),function r3(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Mo(s,e)>=0&&(n[r+1]=__(n[r+1]))}(e,c,t,r,s),o=Kd(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function y_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=$l(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $l(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,o,!!n||e[++s]))}return void 0===t?null:t}function _3(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&pn(t,r,n)}function sR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],c=function t3(t){return 1==(1&t)}(u)?oR(l,e,n,i,_s(u),o):void 0;Yd(c)||(Yd(s)||function JG(t){return 2==(2&t)}(u)&&(s=oR(l,null,n,i,a,o)),function ZH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Mi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Mi.Important),t.setStyle(n,r,i,s))}}(r,o,Zc(Bt(),n),i,s))}function oR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===H&&(h=d?re:void 0);let f=d?Jg(h,r):c===r?h:void 0;if(u&&!Yd(f)&&(f=Jg(l,r)),Yd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Ni(p):_s(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Jg(l,r))}return a}function Yd(t){return void 0!==t}function aR(t,e){return 0!=(t.flags&(e?8:16))}function Pt(t,e=""){const n=w(),r=te(),i=t+Z,s=r.firstCreatePass?Ho(r,i,1,e,null):r.data[i],o=lR(r,n,s,e,t);n[i]=o,Xc()&&Ed(r,n,o,s),fr(s,!1)}let lR=(t,e,n,r,i)=>(Ai(!0),function md(t,e){return t.createText(e)}(e[j],r));function Qr(t,e,n){const r=w(),i=function zo(t,e,n,r){return Nt(t,wo(),n)?e+$(n)+r:H}(r,t,e,n);return i!==H&&function qr(t,e,n){const r=Zc(e,t);!function RA(t,e,n){t.setValue(e,n)}(t[j],r,n)}(r,Bt(),i),Qr}function v_(t,e,n){const r=w();if(Nt(r,wo(),e)){const s=te(),o=ke();yn(s,o,r,t,e,rM($g(s.data),o,r),n,!0)}return v_}const na="en-US";let RR=na;function C_(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let s=0;s<t.length;s++)C_(t[s],e,n,r,i);else{const s=te(),o=w(),a=Ct();let l=gs(t)?t:V(t.provide);const u=c0(t),c=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(gs(t)||!t.multi){const f=new dl(u,i,C),p=I_(l,e,i?c:c+h,d);-1===p?(Yg(rd(a,o),s,l),b_(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=I_(l,e,c+h,d),p=I_(l,e,c,c+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){Yg(rd(a,o),s,l);const v=function Bq(t,e,n,r,i){const s=new dl(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,tN(s,i,r&&!n),s}(i?Uq:Vq,n.length,i,r,u);!i&&_&&(n[p].providerFactory=v),b_(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else b_(s,t,f>-1?f:p,tN(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function b_(t,e,n,r){const i=gs(e),s=function RW(t){return!!t.useClass}(e);if(i||s){const l=(s?V(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function tN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function I_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Vq(t,e,n,r){return T_(this.multi,[])}function Uq(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=hs(n,n[S],this.providerFactory.index,r);s=a.slice(0,o),T_(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],T_(i,s);return s}function T_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Me(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Lq(t,e,n){const r=te();if(r.firstCreatePass){const i=Kn(t);C_(n,r.data,r.blueprint,i,!0),C_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class vs{}class nN{}class D_ extends vs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dM(this);const i=hn(e);this._bootstrapComponents=Gr(i.bootstrap),this._r3Injector=I0(e,n,[{provide:vs,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver},...r],nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class S_ extends nN{constructor(e){super(),this.moduleType=e}create(e){return new D_(this.moduleType,e,[])}}class rN extends vs{constructor(e){super(),this.componentFactoryResolver=new dM(this),this.instance=null;const n=new xo([...e.providers,{provide:vs,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver}],e.parent||Ad(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function A_(t,e,n=null){return new rN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Hq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=o0(0,n.type),i=r.length>0?A_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=N({token:t,providedIn:"environment",factory:()=>new t(M(xn))})}return t})();function th(t){t.getStandaloneInjector=e=>e.get(Hq).getOrCreateStandaloneInjector(t)}function _4(t,e,n,r=!0){const i=e[S];if(function HH(t,e,n,r){const i=Et+r,s=n.length;r>0&&(n[i-1][qn]=e),r<s-Et?(e[qn]=n[i],oA(n,Et+r,e)):(n.push(e),e[qn]=null),e[Ae]=n;const o=e[nl];null!==o&&n!==o&&function WH(t,e){const n=t[_o];e[Ge]!==e[Ae][Ae][Ge]&&(t[oS]=!0),null===n?t[_o]=[e]:n.push(e)}(o,e);const a=e[cr];null!==a&&a.insertView(t),e[W]|=128}(i,e,t,n),r){const s=pm(n,t),o=e[j],a=vd(o,t[dr]);null!==a&&function BH(t,e,n,r,i,s){r[Ue]=i,r[Mt]=e,wl(t,r,n,1,i,s)}(i,t[Mt],o,e,a,s)}}Symbol;let Yr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=E4}return t})();const y4=Yr,v4=class extends y4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function m4(t,e,n,r){const i=e.tView,a=Ld(t,i,n,4096&t[W]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[nl]=t[e.index];const u=t[cr];return null!==u&&(a[cr]=u.createEmbeddedView(i)),s_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Pl(i)}};function E4(){return function nh(t,e){return 4&t.type?new v4(e,t,Uo(t,e)):null}(Ct(),w())}let Zn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=D4}return t})();function D4(){return function wN(t,e){let n;const r=e[t.index];return Vt(r)?n=r:(n=J0(r,e,null,t),e[t.index]=n,Vd(e,n)),CN(n,e,t,r),new vN(n,t,e)}(Ct(),w())}const S4=Zn,vN=class extends S4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){const e=id(this._hostTNode,this._hostLView);if(qg(e)){const n=fl(e,this._hostLView),r=hl(e);return new $t(n[S].data[r+8],n)}return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=EN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function gl(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new kl(ee(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?u:this.parentInjector).get(xn,null);_&&(s=_)}ee(l.componentType??{});const f=l.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function pj(t){return Vt(t[Ae])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[Ae],c=new vN(u,u[Mt],u[Ae]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return _4(a,i,o,!r),e.attachToViewContainerRef(),oA(N_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=EN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);r&&(ad(N_(this._lContainer),n),cm(r[S],r))}detach(e){const n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);return r&&null!=ad(N_(this._lContainer),n)?new Pl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function EN(t){return t[8]}function N_(t){return t[8]||(t[8]=[])}let CN=function bN(t,e,n,r){if(t[dr])return;let i;i=8&n.type?Ce(r):function A4(t,e){const n=t[j],r=n.createComment(""),i=en(e,t);return fs(n,vd(n,i),r,function KH(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[dr]=i};const j_=new R("Application Initializer");let H_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=A(j_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Bl(s))n.push(s);else if(xM(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KN=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Zr=new R("LocaleId",{providedIn:"root",factory:()=>A(Zr,Y.Optional|Y.SkipSelf)||function s6(){return typeof $localize<"u"&&$localize.locale||na}()});let QN=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class l6{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let YN=(()=>{class t{compileModuleSync(n){return new S_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Gr(hn(n).declarations).reduce((o,a)=>{const l=ee(a);return l&&o.push(new kl(l)),o},[]);return new l6(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eP=new R(""),oh=new R("");let K_,G_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,K_||(function R6(t){K_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(M(J),M(q_),M(oh))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),q_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return K_?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Pi=null;const tP=new R("AllowMultipleToken"),Q_=new R("PlatformDestroyListeners"),Y_=new R("appBootstrapListener");class rP{constructor(e,n){this.name=e,this.token=n}}function sP(t,e,n=[]){const r=`Platform: ${e}`,i=new R(r);return(s=[])=>{let o=Z_();if(!o||o.injector.get(tP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function k6(t){if(Pi&&!Pi.get(tP,!1))throw new E(400,!1);(function nP(){!function J$(t){yS=t}(()=>{throw new E(600,!1)})})(),Pi=t;const e=t.get(aP);(function iP(t){t.get(d0,null)?.forEach(n=>n())})(t)}(function oP(t=[],e){return Ye.create({name:e,providers:[{provide:Sm,useValue:"platform"},{provide:Q_,useValue:new Set([()=>Pi=null])},...t]})}(a,r))}return function x6(t){const e=Z_();if(!e)throw new E(401,!1);return e}()}}function Z_(){return Pi?.get(aP)??null}let aP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function F6(t="zone.js",e){return"noop"===t?new dz:"zone.js"===t?new J(e):t}(r?.ngZone,function lP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function jq(t,e,n){return new D_(t,e,n)}(n.moduleType,this.injector,function fP(t){return[{provide:J,useFactory:t},{provide:Il,multi:!0,useFactory:()=>{const e=A(V6,{optional:!0});return()=>e.initialize()}},{provide:hP,useFactory:L6},{provide:M0,useFactory:R0}]}(()=>i)),o=s.injector.get(zr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{ah(this._modules,s),a.unsubscribe()})}),function uP(t,e,n){try{const r=n();return Bl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(H_);return a.runInitializers(),a.donePromise.then(()=>(function NR(t){Rn(t,"Expected localeId to be defined"),"string"==typeof t&&(RR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Zr,na)||na),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=cP({},r);return function N6(t,e,n){const r=new S_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new E(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Q_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(M(Ye))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cP(t,e){return Array.isArray(e)?e.reduce(cP,t):{...t,...e}}let Xr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(hP),this.zoneIsStable=A(M0),this.componentTypes=[],this.components=[],this.isStable=A(QN).hasPendingTasks.pipe(lr(n=>n?B(!1):this.zoneIsStable),function c$(t,e=wi){return t=t??d$,tt((n,r)=>{let i,s=!0;n.subscribe(Qe(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),FD()),this._injector=A(xn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof _0;if(!this._injector.get(H_).done)throw!i&&function ho(t){const e=ee(t)||vt(t)||Lt(t);return null!==e&&e.standalone}(n),new E(405,!1);let o;o=i?n:this._injector.get(Sl).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function P6(t){return t.isBoundToModule}(o)?void 0:this._injector.get(vs),u=o.create(Ye.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(eP,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),ah(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ah(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Y_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ah(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ah(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hP=new R("",{providedIn:"root",factory:()=>A(zr).handleError.bind(void 0)});function L6(){const t=A(J),e=A(zr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let V6=(()=>{class t{constructor(){this.zone=A(J),this.applicationRef=A(Xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let lh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=B6}return t})();function B6(t){return function $6(t,e,n){if(us(t)&&!n){const r=fn(t.index,e);return new Pl(r,r)}return 47&t.type?new Pl(e[Ge],e):null}(Ct(),w(),16==(16&t))}const e8=sP(null,"core",[]);let t8=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(M(Xr))};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({})}return t})();function sa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let ry=null;function ki(){return ry}class g8{}const ct=new R("DocumentToken");let iy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(_8)},providedIn:"platform"})}return t})();const m8=new R("Location Initialized");let _8=(()=>{class t extends iy{constructor(){super(),this._doc=A(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ki().getBaseHref(this._doc)}onPopState(n){const r=ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function sy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function NP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Jr(t){return t&&"?"!==t[0]?"?"+t:t}let ws=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(kP)},providedIn:"root"})}return t})();const PP=new R("appBaseHref");let kP=(()=>{class t extends ws{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Jr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Jr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(iy),M(PP,8))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),y8=(()=>{class t extends ws{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=sy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Jr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Jr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(iy),M(PP,8))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),oy=(()=>{class t{constructor(n){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function w8(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(NP(OP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Jr(r))}normalize(n){return t.stripTrailingSlash(function E8(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,OP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Jr;static#t=this.joinWithSlash=sy;static#n=this.stripTrailingSlash=NP;static#r=this.\u0275fac=function(r){return new(r||t)(M(ws))};static#i=this.\u0275prov=N({token:t,factory:function(){return function v8(){return new oy(M(ws))}()},providedIn:"root"})}return t})();function OP(t){return t.replace(/\/index.html$/,"")}let _y=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new c5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){GP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){GP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(Zn),C(Yr))};static#t=this.\u0275dir=U({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class c5{constructor(){this.$implicit=null,this.ngIf=null}}function GP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${nt(e)}'.`)}let x5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({})}return t})();function YP(t){return"server"===t}let U5=(()=>{class t{static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>new B5(M(ct),window)})}return t})();class B5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function $5(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class dK extends g8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Iy extends dK{static makeCurrent(){!function p8(t){ry||(ry=t)}(new Iy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function hK(){return tu=tu||document.querySelector("base"),tu?tu.getAttribute("href"):null}();return null==n?null:function fK(t){Th=Th||document.createElement("a"),Th.setAttribute("href",t);const e=Th.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function s5(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Th,tu=null,gK=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const Ty=new R("EventManagerPlugins");let tk=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(M(Ty),M(J))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class nk{constructor(e){this._doc=e}}const Dy="ng-app-id";let rk=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=YP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Dy}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Dy),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Dy,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(M(ct),M(Md),M(f0,8),M(Ri))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const Sy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ay=/%COMP%/g,vK=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function sk(t,e){return e.map(n=>n.replace(Ay,t))}let My=(()=>{class t{constructor(n,r,i,s,o,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=YP(a),this.defaultRenderer=new Ry(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Nn.ShadowDom&&(r={...r,encapsulation:Nn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof ak?i.applyToHost(n):i instanceof Ny&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Nn.Emulated:s=new ak(l,u,r,this.appId,c,o,a,d);break;case Nn.ShadowDom:return new bK(l,u,n,r,o,a,this.nonce,d);default:s=new Ny(l,u,r,c,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(M(tk),M(rk),M(Md),M(vK),M(ct),M(Ri),M(J),M(f0))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class Ry{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Sy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ok(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ok(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Sy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Sy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mi.DashCase|Mi.Important)?e.style.setProperty(n,r,i&Mi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ki().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function ok(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class bK extends Ry{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=sk(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ny extends Ry{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?sk(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ak extends Ny{constructor(e,n,r,i,s,o,a,l){const u=i+"-"+r.id;super(e,n,r,s,o,a,l,u),this.contentAttr=function EK(t){return"_ngcontent-%COMP%".replace(Ay,t)}(u),this.hostAttr=function wK(t){return"_nghost-%COMP%".replace(Ay,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let IK=(()=>{class t extends nk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(M(ct))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const lk=["alt","control","meta","shift"],TK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let SK=(()=>{class t extends nk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),lk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=TK[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lk.forEach(o=>{o!==i&&(0,DK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(M(ct))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const NK=sP(e8,"browser",[{provide:Ri,useValue:"browser"},{provide:d0,useValue:function AK(){Iy.makeCurrent()},multi:!0},{provide:ct,useFactory:function RK(){return function nW(t){_m=t}(document),document},deps:[]}]),PK=new R(""),dk=[{provide:oh,useClass:class pK{addToWindow(e){we.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new E(5103,!1);return s},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ki().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:eP,useClass:G_,deps:[J,q_,oh]},{provide:G_,useClass:G_,deps:[J,q_,oh]}],hk=[{provide:Sm,useValue:"root"},{provide:zr,useFactory:function MK(){return new zr},deps:[]},{provide:Ty,useClass:IK,multi:!0,deps:[ct,J,Ri]},{provide:Ty,useClass:SK,multi:!0,deps:[ct]},My,rk,tk,{provide:Al,useExisting:My},{provide:class j5{},useClass:gK,deps:[]},[]];let fk=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Md,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(M(PK,12))};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({providers:[...hk,...dk],imports:[x5,t8]})}return t})(),pk=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(M(ct))};static#t=this.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new r:function OK(){return new pk(M(ct))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let _k=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new(r||t):M(yk),i},providedIn:"root"})}return t})(),yk=(()=>{class t extends _k{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case mn.NONE:return r;case mn.HTML:return gr(r,"HTML")?gn(r):JA(this._doc,String(r)).toString();case mn.STYLE:return gr(r,"Style")?gn(r):r;case mn.SCRIPT:if(gr(r,"Script"))return gn(r);throw new E(5200,!1);case mn.URL:return gr(r,"URL")?gn(r):Id(String(r));case mn.RESOURCE_URL:if(gr(r,"ResourceURL"))return gn(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(n){return function uW(t){return new rW(t)}(n)}bypassSecurityTrustStyle(n){return function cW(t){return new iW(t)}(n)}bypassSecurityTrustScript(n){return function dW(t){return new sW(t)}(n)}bypassSecurityTrustUrl(n){return function hW(t){return new oW(t)}(n)}bypassSecurityTrustResourceUrl(n){return function fW(t){return new aW(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(ct))};static#t=this.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new r:function VK(t){return new yk(t.get(ct))}(M(Ye)),i},providedIn:"root"})}return t})();const{isArray:BK}=Array,{getPrototypeOf:$K,prototype:jK,keys:HK}=Object;function Ek(t){if(1===t.length){const e=t[0];if(BK(e))return{args:e,keys:null};if(function WK(t){return t&&"object"==typeof t&&$K(t)===jK}(e)){const n=HK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:zK}=Array;function wk(t){return _e(e=>function GK(t,e){return zK(e)?t(...e):t(e)}(t,e))}function Ck(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ky(...t){const e=Qa(t),n=OD(t),{args:r,keys:i}=Ek(t);if(0===r.length)return lt([],e);const s=new Ve(function qK(t,e,n=wi){return r=>{bk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)bk(e,()=>{const u=lt(t[l],e);let c=!1;u.subscribe(Qe(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Ck(i,o):wi));return n?s.pipe(wk(n)):s}function bk(t,e,n){t?Fr(n,t,e):e()}const Dh=qa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Oy(...t){return function KK(){return uo(1)}()(lt(t,Qa(t)))}function Ik(t){return new Ve(e=>{cn(t()).subscribe(e)})}function nu(t,e){const n=me(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function xy(){return tt((t,e)=>{let n=null;t._refCount++;const r=Qe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Tk extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yt;const n=this.getSubject();e.add(this.source.subscribe(Qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yt.EMPTY)}return e}refCount(){return xy()(this)}}function aa(t){return t<=0?()=>ar:tt((e,n)=>{let r=0;e.subscribe(Qe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xi(t,e){return tt((n,r)=>{let i=0;n.subscribe(Qe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Sh(t){return tt((e,n)=>{let r=!1;e.subscribe(Qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dk(t=YK){return tt((e,n)=>{let r=!1;e.subscribe(Qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YK(){return new Dh}function Cs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xi((i,s)=>t(i,s,r)):wi,aa(1),n?Sh(e):Dk(()=>new Dh))}function ru(t,e){return me(e)?_t(t,e,1):_t(t,1)}function It(t,e,n){const r=me(t)||e||n?{next:t,error:e,complete:n}:t;return r?tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Qe(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):wi}function bs(t){return tt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Qe(n,void 0,void 0,o=>{s=cn(t(o,bs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Fy(t){return t<=0?()=>ar:tt((e,n)=>{let r=[];e.subscribe(Qe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ly(t){return tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const G="primary",iu=Symbol("RouteTitle");class n7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function la(t){return new n7(t)}function r7(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Er(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Sk(t[i],e[i]))return!1;return!0}function Sk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function Ak(t){return t.length>0?t[t.length-1]:null}function Fi(t){return function UK(t){return!!t&&(t instanceof Ve||me(t.lift)&&me(t.subscribe))}(t)?t:Bl(t)?lt(Promise.resolve(t)):B(t)}const s7={exact:function Nk(t,e,n){if(!Is(t.segments,e.segments)||!Ah(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Nk(t.children[r],e.children[r],n))return!1;return!0},subset:Pk},Mk={exact:function o7(t,e){return Er(t,e)},subset:function a7(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Sk(t[n],e[n]))},ignored:()=>!0};function Rk(t,e,n){return s7[n.paths](t.root,e.root,n.matrixParams)&&Mk[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Pk(t,e,n){return kk(t,e,e.segments,n)}function kk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Is(i,n)||e.hasChildren()||!Ah(i,n,r))}if(t.segments.length===n.length){if(!Is(t.segments,n)||!Ah(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Pk(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Is(t.segments,i)&&Ah(t.segments,i,r)&&t.children[G])&&kk(t.children[G],e,s,r)}}function Ah(t,e,n){return e.every((r,i)=>Mk[n](t[i].parameters,r.parameters))}class ua{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=la(this.queryParams)),this._queryParamMap}toString(){return c7.serialize(this)}}class pe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mh(this)}}class su{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=la(this.parameters)),this._parameterMap}toString(){return Fk(this)}}function Is(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ou=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return new Vy},providedIn:"root"})}return t})();class Vy{parse(e){const n=new w7(e);return new ua(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${au(e.root,!0)}`,r=function f7(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Rh(n)}=${Rh(i)}`).join("&"):`${Rh(n)}=${Rh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function d7(t){return encodeURI(t)}(e.fragment)}`:""}`}}const c7=new Vy;function Mh(t){return t.segments.map(e=>Fk(e)).join("/")}function au(t,e){if(!t.hasChildren())return Mh(t);if(e){const n=t.children[G]?au(t.children[G],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==G&&r.push(`${i}:${au(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function u7(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===G&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==G&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===G?[au(t.children[G],!1)]:[`${i}:${au(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[G]?`${Mh(t)}/${n[0]}`:`${Mh(t)}/(${n.join("//")})`}}function Ok(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rh(t){return Ok(t).replace(/%3B/gi,";")}function Uy(t){return Ok(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nh(t){return decodeURIComponent(t)}function xk(t){return Nh(t.replace(/\+/g,"%20"))}function Fk(t){return`${Uy(t.path)}${function h7(t){return Object.keys(t).map(e=>`;${Uy(e)}=${Uy(t[e])}`).join("")}(t.parameters)}`}const p7=/^[^\/()?;#]+/;function By(t){const e=t.match(p7);return e?e[0]:""}const g7=/^[^\/()?;=#]+/,_7=/^[^=?&#]+/,v7=/^[^&#]+/;class w7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[G]=new pe(e,n)),r}parseSegment(){const e=By(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new su(Nh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function m7(t){const e=t.match(g7);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=By(this.remaining);i&&(r=i,this.capture(r))}e[Nh(n)]=Nh(r)}parseQueryParam(e){const n=function y7(t){const e=t.match(_7);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function E7(t){const e=t.match(v7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=xk(n),s=xk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=By(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=G);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[G]:new pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}}function Lk(t){return t.segments.length>0?new pe([],{[G]:t}):t}function Vk(t){const e={};for(const r of Object.keys(t.children)){const s=Vk(t.children[r]);if(r===G&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function C7(t){if(1===t.numberOfChildren&&t.children[G]){const e=t.children[G];return new pe(t.segments.concat(e.segments),e.children)}return t}(new pe(t.segments,e))}function Ts(t){return t instanceof ua}function Uk(t){let e;const i=Lk(function n(s){const o={};for(const l of s.children){const u=n(l);o[l.outlet]=u}const a=new pe(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function Bk(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return $y(i,i,i,n,r);const s=function I7(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new jk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new jk(n,e,r)}(e);if(s.toRoot())return $y(i,i,new pe([],{}),n,r);const o=function T7(t,e,n){if(t.isAbsolute)return new kh(e,!0,0);if(!n)return new kh(e,!1,NaN);if(null===n.parent)return new kh(n,!0,0);const r=Ph(t.commands[0])?0:1;return function D7(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new kh(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?uu(o.segmentGroup,o.index,s.commands):Hk(o.segmentGroup,o.index,s.commands);return $y(i,o.segmentGroup,a,n,r)}function Ph(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function lu(t){return"object"==typeof t&&null!=t&&t.outlets}function $y(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=t===e?n:$k(t,e,n);const a=Lk(Vk(o));return new ua(a,s,i)}function $k(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:$k(s,e,n)}),new pe(t.segments,r)}class jk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ph(r[0]))throw new E(4003,!1);const i=r.find(lu);if(i&&i!==Ak(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kh{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Hk(t,e,n){if(t||(t=new pe([],{})),0===t.segments.length&&t.hasChildren())return uu(t,e,n);const r=function A7(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(lu(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!zk(l,u,o))return s;r+=2}else{if(!zk(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new pe(t.segments.slice(0,r.pathIndex),{});return s.children[G]=new pe(t.segments.slice(r.pathIndex),t.children),uu(s,0,i)}return r.match&&0===i.length?new pe(t.segments,{}):r.match&&!t.hasChildren()?jy(t,e,n):r.match?uu(t,0,i):jy(t,e,n)}function uu(t,e,n){if(0===n.length)return new pe(t.segments,{});{const r=function S7(t){return lu(t[0])?t[0].outlets:{[G]:t}}(n),i={};if(Object.keys(r).some(s=>s!==G)&&t.children[G]&&1===t.numberOfChildren&&0===t.children[G].segments.length){const s=uu(t.children[G],e,n);return new pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Hk(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new pe(t.segments,i)}}function jy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(lu(s)){const l=M7(s.outlets);return new pe(r,l)}if(0===i&&Ph(n[0])){r.push(new su(t.segments[e].path,Wk(n[0]))),i++;continue}const o=lu(s)?s.outlets[G]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ph(a)?(r.push(new su(o,Wk(a))),i+=2):(r.push(new su(o,{})),i++)}return new pe(r,{})}function M7(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=jy(new pe([],{}),0,r))}),e}function Wk(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zk(t,e,n){return t==n.path&&Er(e,n.parameters)}const cu="imperative";class wr{constructor(e,n){this.id=e,this.url=n}}class Oh extends wr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends wr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class du extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ca extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class xh extends wr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gk extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R7 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N7 extends wr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class P7 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k7 extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class F7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Hy{}class Wy{constructor(e){this.url=e}}class B7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hu,this.attachRef=null}}let hu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new B7,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Kk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=zy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=zy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Gy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gy(e,this._root).map(n=>n.value)}}function zy(t,e){if(t===e.value)return e;for(const n of e.children){const r=zy(t,n);if(r)return r}return null}function Gy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Gy(t,n);if(r.length)return r.unshift(e),r}return[]}class ni{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function da(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Qk extends Kk{constructor(e,n){super(e),this.snapshot=n,qy(this,e)}toString(){return this.snapshot.toString()}}function Yk(t,e){const n=function $7(t,e){const o=new Fh([],{},{},"",{},G,e,null,{});return new Xk("",new ni(o,[]))}(0,e),r=new Mn([new su("",{})]),i=new Mn({}),s=new Mn({}),o=new Mn({}),a=new Mn(""),l=new ha(r,i,o,a,s,G,e,n.root);return l.snapshot=n.root,new Qk(new ni(l,[]),n)}class ha{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_e(u=>u[iu]))??B(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>la(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>la(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function j7(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Fh{get title(){return this.data?.[iu]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=la(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=la(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xk extends Kk{constructor(e,n){super(n),this.url=e,qy(this,n)}toString(){return Jk(this._root)}}function qy(t,e){e.value._routerState=t,e.children.forEach(n=>qy(t,n))}function Jk(t){const e=t.children.length>0?` { ${t.children.map(Jk).join(", ")} } `:"";return`${t.value}${e}`}function Ky(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Er(e.params,n.params)||t.paramsSubject.next(n.params),function i7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Er(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qy(t,e){const n=Er(t.params,e.params)&&function l7(t,e){return Is(t,e)&&t.every((n,r)=>Er(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Qy(t.parent,e.parent))}let Yy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=G,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=A(hu),this.location=A(Zn),this.changeDetector=A(lh),this.environmentInjector=A(xn),this.inputBinder=A(Lh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new H7(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=U({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]})}return t})();class H7{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ha?this.route:e===hu?this.childContexts:this.parent.get(e,n)}}const Lh=new R("");let eO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=ky([r.queryParams,r.params,r.data]).pipe(lr(([s,o,a],l)=>(a={...s,...o,...a},0===l?B(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function f8(t){const e=ee(t);if(!e)return null;const n=new kl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();function fu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function z7(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fu(t,r,i);return fu(t,r)})}(t,e,n);return new ni(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fu(t,a)),o}}const r=function G7(t){return new ha(new Mn(t.url),new Mn(t.params),new Mn(t.queryParams),new Mn(t.fragment),new Mn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>fu(t,s));return new ni(r,i)}}const Zy="ngNavigationCancelingError";function tO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function nO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Zy]=!0,r.cancellationCode=e,n&&(r.url=n),r}function rO(t){return t&&t[Zy]}let iO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ur({type:t,selectors:[["ng-component"]],standalone:!0,features:[th],decls:1,vars:0,template:function(r,i){1&r&&Ze(0,"router-outlet")},dependencies:[Yy],encapsulation:2})}return t})();function Xy(t){const e=t.children&&t.children.map(Xy),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==G&&(n.component=iO),n}function er(t){return t.outlet||G}function pu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class e9{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ky(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=da(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=da(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=da(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=da(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new U7(s.value.snapshot))}),e.children.length&&this.forwardEvent(new L7(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Ky(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ky(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=pu(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class sO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vh{constructor(e,n){this.component=e,this.route=n}}function t9(t,e,n){const r=t._root;return gu(r,e?e._root:null,n,[r.value])}function fa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function y$(t){return null!==Uc(t)}(t)?e.get(t):t:r}function gu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=da(e);return t.children.forEach(o=>{(function r9(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function i9(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Is(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Is(t.url,e.url)||!Er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qy(t,e)||!Er(t.queryParams,e.queryParams);default:return!Qy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),gu(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vh(a.outlet.component,o))}else o&&mu(e,a,i),i.canActivateChecks.push(new sO(r)),gu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>mu(a,n.getContext(o),i)),i}function mu(t,e,n){const r=da(t),i=t.value;Object.entries(r).forEach(([s,o])=>{mu(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Vh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function _u(t){return"function"==typeof t}function oO(t){return t instanceof Dh||"EmptyError"===t?.name}const Uh=Symbol("INITIAL_VALUE");function pa(){return lr(t=>ky(t.map(e=>e.pipe(aa(1),function QK(...t){const e=Qa(t);return tt((n,r)=>{(e?Oy(t,n,e):Oy(t,n)).subscribe(r)})}(Uh)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===Uh)return Uh;if(!1===n||n instanceof ua)return n}return!0}),xi(e=>e!==Uh),aa(1)))}function aO(t){return function wB(...t){return mD(t)}(It(e=>{if(Ts(e))throw tO(0,e)}),_e(e=>!0===e))}class Bh{constructor(e){this.segmentGroup=e||null}}class lO{constructor(e){this.urlTree=e}}function ga(t){return nu(new Bh(t))}function uO(t){return nu(new lO(t))}class I9{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new E(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[G])return nu(new E(4e3,!1));i=i.children[G]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ua(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Jy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T9(t,e,n,r,i){const s=ev(t,e,n);return s.matched?(r=function K7(t,e){return t.providers&&!t._injector&&(t._injector=A_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function w9(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?B(i.map(o=>{const a=fa(o,t);return Fi(function c9(t){return t&&_u(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(pa(),aO()):B(!0)}(r,e,n).pipe(_e(o=>!0===o?s:{...Jy}))):B(s)}function ev(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Jy}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||r7)(n,t,e);if(!i)return{...Jy};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function cO(t,e,n,r){return n.length>0&&function A9(t,e,n){return n.some(r=>$h(t,e,r)&&er(r)!==G)}(t,n,r)?{segmentGroup:new pe(e,S9(r,new pe(n,t.children))),slicedSegments:[]}:0===n.length&&function M9(t,e,n){return n.some(r=>$h(t,e,r))}(t,n,r)?{segmentGroup:new pe(t.segments,D9(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function D9(t,e,n,r,i){const s={};for(const o of r)if($h(t,n,o)&&!i[er(o)]){const a=new pe([],{});s[er(o)]=a}return{...i,...s}}function S9(t,e){const n={};n[G]=e;for(const r of t)if(""===r.path&&er(r)!==G){const i=new pe([],{});n[er(r)]=i}return n}function $h(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class k9{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new I9(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,!1)}recognize(){const e=cO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,G).pipe(bs(n=>{if(n instanceof lO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Bh?this.noMatchError(n):n}),_e(n=>{const r=new Fh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},G,this.rootComponentType,null,{}),i=new ni(r,n),s=new Xk("",i),o=function b7(t,e,n=null,r=null){return Bk(Uk(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,G).pipe(bs(r=>{throw r instanceof Bh?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Zk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return lt(i).pipe(ru(s=>{const o=r.children[s],a=function X7(t,e){const n=t.filter(r=>er(r)===e);return n.push(...t.filter(r=>er(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function XK(t,e){return tt(function ZK(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Qe(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Sh(null),function JK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xi((i,s)=>t(i,s,r)):wi,Fy(1),n?Sh(e):Dk(()=>new Dh))}(),_t(s=>{if(null===s)return ga(r);const o=dO(s);return function O9(t){t.sort((e,n)=>e.value.outlet===G?-1:n.value.outlet===G?1:e.value.outlet.localeCompare(n.value.outlet))}(o),B(o)}))}processSegment(e,n,r,i,s,o){return lt(n).pipe(ru(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(bs(l=>{if(l instanceof Bh)return B(null);throw l}))),Cs(a=>!!a),bs(a=>{if(oO(a))return function N9(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?B([]):ga(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function R9(t,e,n,r){return!!(er(t)===r||r!==G&&$h(e,n,t))&&("**"===t.path||ev(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ga(i):ga(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(_t(o=>{const a=new pe(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=ev(n,i,s);if(!a)return ga(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?uO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(_t(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?Ak(i).parameters:{};a=B({snapshot:new Fh(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hO(r),er(r),r.component??r._loadedComponent??null,r,fO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=T9(n,r,i,e).pipe(_e(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Fh(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hO(r),er(r),r.component??r._loadedComponent??null,r,fO(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(lr(l=>null===l?ga(n):this.getChildConfig(e=r._injector??e,r,i).pipe(lr(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=cO(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(_e(v=>null===v?null:[new ni(d,v)]));if(0===u.length&&0===g.length)return B([new ni(d,[])]);const _=er(r)===s;return this.processSegment(c,u,p,g,_?G:s,!0).pipe(_e(v=>[new ni(d,v)]))}))))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function E9(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(o=>{const a=fa(o,t);return Fi(function o9(t){return t&&_u(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(pa(),aO())}(e,n,r).pipe(_t(i=>i?this.configLoader.loadChildren(e,n).pipe(It(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function b9(t){return nu(nO(!1,3))}())):B({routes:[],injector:e})}}function x9(t){const e=t.value.routeConfig;return e&&""===e.path}function dO(t){const e=[],n=new Set;for(const r of t){if(!x9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=dO(r.children);e.push(new ni(r.value,i))}return e.filter(r=>!n.has(r))}function hO(t){return t.data||{}}function fO(t){return t.resolve||{}}function pO(t){return"string"==typeof t.title||null===t.title}function tv(t){return lr(e=>{const n=t(e);return n?lt(n).pipe(_e(()=>e)):B(e)})}const ma=new R("ROUTES");let nv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(YN)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Fi(n.loadComponent()).pipe(_e(gO),It(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ly(()=>{this.componentLoaders.delete(n)})),i=new Tk(r,()=>new at).pipe(xy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function j9(t,e,n,r){return Fi(t.loadChildren()).pipe(_e(gO),_t(i=>i instanceof nN||Array.isArray(i)?B(i):lt(e.compileModuleAsync(i))),_e(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(ma,[],{optional:!0,self:!0}).flat()),{routes:o.map(Xy),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ly(()=>{this.childrenLoaders.delete(r)})),o=new Tk(s,()=>new at).pipe(xy());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gO(t){return function H9(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let jh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=A(nv),this.environmentInjector=A(xn),this.urlSerializer=A(ou),this.rootContexts=A(hu),this.inputBindingEnabled=null!==A(Lh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new x7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new O7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Mn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xi(s=>0!==s.id),_e(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),lr(s=>{this.currentTransition=s;let o=!1,a=!1;return B(s).pipe(It(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lr(l=>{const u=l.currentBrowserUrl.toString(),c=!n.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new ca(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),ar}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return B(l).pipe(lr(h=>{const f=this.transitions?.getValue();return this.events.next(new Oh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ar:Promise.resolve(h)}),function F9(t,e,n,r,i,s){return _t(o=>function P9(t,e,n,r,i,s,o="emptyOnly"){return new k9(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(_e(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),It(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new Gk(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=l,v=new Oh(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const y=Yk(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},B(s)}{const h="";return this.events.next(new ca(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),ar}}),It(l=>{const u=new R7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),_e(l=>(this.currentTransition=s={...l,guards:t9(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function h9(t,e){return _t(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?B({...n,guardsResult:!0}):function f9(t,e,n,r){return lt(t).pipe(_t(i=>function v9(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?B(s.map(a=>{const l=pu(e)??i,u=fa(a,l);return Fi(function u9(t){return t&&_u(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Cs())})).pipe(pa()):B(!0)}(i.component,i.route,n,e,r)),Cs(i=>!0!==i,!0))}(o,r,i,t).pipe(_t(a=>a&&function s9(t){return"boolean"==typeof t}(a)?function p9(t,e,n,r){return lt(e).pipe(ru(i=>Oy(function m9(t,e){return null!==t&&e&&e(new F7(t)),B(!0)}(i.route.parent,r),function g9(t,e){return null!==t&&e&&e(new V7(t)),B(!0)}(i.route,r),function y9(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function n9(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ik(()=>B(o.guards.map(l=>{const u=pu(o.node)??n,c=fa(l,u);return Fi(function l9(t){return t&&_u(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Cs())})).pipe(pa())));return B(s).pipe(pa())}(t,i.path,n),function _9(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(s=>Ik(()=>{const o=pu(e)??n,a=fa(s,o);return Fi(function a9(t){return t&&_u(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Cs())}));return B(i).pipe(pa())}(t,i.route,n))),Cs(i=>!0!==i,!0))}(r,s,t,e):B(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),It(l=>{if(s.guardsResult=l.guardsResult,Ts(l.guardsResult))throw tO(0,l.guardsResult);const u=new N7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),xi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),tv(l=>{if(l.guards.canActivateChecks.length)return B(l).pipe(It(u=>{const c=new P7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),lr(u=>{let c=!1;return B(u).pipe(function L9(t,e){return _t(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let s=0;return lt(i).pipe(ru(o=>function V9(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!pO(i)&&(s[iu]=i.title),function U9(t,e,n,r){const i=function B9(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return B({});const s={};return lt(i).pipe(_t(o=>function $9(t,e,n,r){const i=pu(e)??r,s=fa(t,i);return Fi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Cs(),It(a=>{s[o]=a}))),Fy(1),function e7(t){return _e(()=>t)}(s),bs(o=>oO(o)?ar:nu(o)))}(s,t,e,r).pipe(_e(o=>(t._resolvedData=o,t.data=Zk(t,n).resolve,i&&pO(i)&&(t.data[iu]=i.title),null)))}(o.route,r,t,e)),It(()=>s++),Fy(1),_t(o=>s===i.length?B(n):ar))})}(n.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),It(u=>{const c=new k7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),tv(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(It(h=>{c.component=h}),_e(()=>{})));for(const h of c.children)d.push(...u(h));return d};return ky(u(l.targetSnapshot.root)).pipe(Sh(),aa(1))}),tv(()=>this.afterPreactivation()),_e(l=>{const u=function W7(t,e,n){const r=fu(t,e._root,n?n._root:void 0);return new Qk(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),It(()=>{this.events.next(new Hy)}),((t,e,n,r)=>_e(i=>(new e9(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),aa(1),It({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function t7(t){return tt((e,n)=>{cn(t).subscribe(Qe(n,()=>n.complete(),tg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(It(l=>{throw l}))),Ly(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),bs(l=>{if(a=!0,rO(l))this.events.next(new du(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function q7(t){return rO(t)&&Ts(t.url)}(l)?this.events.next(new Wy(l.url)):s.resolve(!1);else{this.events.next(new xh(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){s.reject(u)}}return ar}))}))}cancelNavigationTransition(n,r,i){const s=new du(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mO(t){return t!==cu}let _O=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===G);return r}getResolvedTitleForRoute(n){return n.data[iu]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(W9)},providedIn:"root"})}return t})(),W9=(()=>{class t extends _O{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(M(pk))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),z9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(q9)},providedIn:"root"})}return t})();class G9{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let q9=(()=>{class t extends G9{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Hh=new R("",{providedIn:"root",factory:()=>({})});let K9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(Q9)},providedIn:"root"})}return t})(),Q9=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(yu||{});function yO(t,e){t.events.pipe(xi(n=>n instanceof Li||n instanceof du||n instanceof xh||n instanceof ca),_e(n=>n instanceof Li||n instanceof ca?yu.COMPLETE:n instanceof du&&(0===n.code||1===n.code)?yu.REDIRECTING:yu.FAILED),xi(n=>n!==yu.REDIRECTING),aa(1)).subscribe(()=>{e()})}function Y9(t){throw t}function Z9(t,e,n){return e.parse("/")}const X9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=A(KN),this.isNgZoneEnabled=!1,this._events=new at,this.options=A(Hh,{optional:!0})||{},this.pendingTasks=A(QN),this.errorHandler=this.options.errorHandler||Y9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Z9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=A(K9),this.routeReuseStrategy=A(z9),this.titleStrategy=A(_O),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=A(ma,{optional:!0})?.flat()??[],this.navigationTransitions=A(jh),this.urlSerializer=A(ou),this.location=A(oy),this.componentInputBindingEnabled=!!A(Lh,{optional:!0}),this.eventsSubscription=new Yt,this.isNgZoneEnabled=A(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ua,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yk(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(vO(r)&&this._events.next(r));if(r instanceof Oh)mO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ca)this.rawUrlTree=i.rawUrl;else if(r instanceof Gk){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Hy)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof du)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Wy){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mO(i.source)};this.scheduleNavigation(s,cu,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof xh&&this.restoreHistory(i,!0),r instanceof Li&&(this.navigated=!0),vO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=Uk(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return Bk(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ts(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,cu,null,r)}navigate(n,r={skipLocationChange:!1}){return function eQ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new E(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...X9}:!1===r?{...J9}:r,Ts(n))return Rk(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Rk(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return yO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vO(t){return!(t instanceof Hy||t instanceof Wy)}let vu=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function n0(t,e,n){return function SW(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?t0:e0}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(C(Un),C(ha),function od(t){return function Wj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(KD(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ct(),t)}("tabindex"),C(Wr),C(_n),C(ws))};static#t=this.\u0275dir=U({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Xe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&nn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",sa],skipLocationChange:["skipLocationChange","skipLocationChange",sa],replaceUrl:["replaceUrl","replaceUrl",sa],routerLink:"routerLink"},standalone:!0,features:[_M,kn]})}return t})();class EO{}let rQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xi(n=>n instanceof Li),ru(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=A_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return lt(i).pipe(uo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const s=i.pipe(_t(o=>null===o?B(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?lt([s,this.loader.loadComponent(r)]).pipe(uo()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(M(Un),M(YN),M(xn),M(EO),M(nv))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const rv=new R("");let wO=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Oh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Li?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ca&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function W0(){throw new Error("invalid")}()};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();function ri(t,e){return{\u0275kind:t,\u0275providers:e}}function bO(){const t=A(Ye);return e=>{const n=t.get(Xr);if(e!==n.components[0])return;const r=t.get(Un),i=t.get(IO);1===t.get(iv)&&r.initialNavigation(),t.get(TO,null,Y.Optional)?.setUpPreloading(),t.get(rv,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const IO=new R("",{factory:()=>new at}),iv=new R("",{providedIn:"root",factory:()=>1}),TO=new R("");function aQ(t){return ri(0,[{provide:TO,useExisting:rQ},{provide:EO,useExisting:t}])}const DO=new R("ROUTER_FORROOT_GUARD"),uQ=[oy,{provide:ou,useClass:Vy},Un,hu,{provide:ha,useFactory:function CO(t){return t.routerState.root},deps:[Un]},nv,[]];function cQ(){return new rP("Router",Un)}let SO=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[uQ,[],{provide:ma,multi:!0,useValue:n},{provide:DO,useFactory:pQ,deps:[[Un,new it,new ud]]},{provide:Hh,useValue:r||{}},r?.useHash?{provide:ws,useClass:y8}:{provide:ws,useClass:kP},{provide:rv,useFactory:()=>{const t=A(U5),e=A(J),n=A(Hh),r=A(jh),i=A(ou);return n.scrollOffset&&t.setOffset(n.scrollOffset),new wO(i,r,t,e,n)}},r?.preloadingStrategy?aQ(r.preloadingStrategy).\u0275providers:[],{provide:rP,multi:!0,useFactory:cQ},r?.initialNavigation?gQ(r):[],r?.bindToComponentInputs?ri(8,[eO,{provide:Lh,useExisting:eO}]).\u0275providers:[],[{provide:AO,useFactory:bO},{provide:Y_,multi:!0,useExisting:AO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ma,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(M(DO,8))};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({})}return t})();function pQ(t){return"guarded"}function gQ(t){return["disabled"===t.initialNavigation?ri(3,[{provide:j_,multi:!0,useFactory:()=>{const e=A(Un);return()=>{e.setUpLocationChangeListener()}}},{provide:iv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ri(2,[{provide:iv,useValue:0},{provide:j_,multi:!0,deps:[Ye],useFactory:e=>{const n=e.get(m8,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Un),s=e.get(IO);yO(i,()=>{r(!0)}),e.get(jh).afterPreactivation=()=>(r(!0),s.closed?B(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const AO=new R("");function MO(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){MO(s,r,i,o,a,"next",l)}function a(l){MO(s,r,i,o,a,"throw",l)}o(void 0)})}}const D=function(t,e){if(!t)throw _a(e)},_a=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},RO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Wh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new yQ;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NO=function(t){const e=RO(t);return Wh.encodeByteArray(e,!0)},zh=function(t){return NO(t).replace(/\./g,"")},Gh=function(t){try{return Wh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vQ(t){return PO(void 0,t)}function PO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!EQ(n)||(t[n]=PO(t[n],e[n]));return t}function EQ(t){return"__proto__"!==t}const qh=()=>{try{return function wQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},kO=t=>{var e,n;return null===(n=null===(e=qh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},OO=t=>{const e=kO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xO=()=>{var t;return null===(t=qh())||void 0===t?void 0:t.config},FO=t=>{var e;return null===(e=qh())||void 0===e?void 0:e[`_${t}`]};class ya{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function LO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zh(JSON.stringify({alg:"none",type:"JWT"})),zh(JSON.stringify(o)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ov(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function av(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function VO(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ds(){try{return"object"==typeof indexedDB}catch{return!1}}function Eu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function lv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cr.prototype.create)}}class Cr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function AQ(t,e){return t.replace(MQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Bn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const MQ=/\{\$([^}]+)}/g;function wu(t){return JSON.parse(t)}function Tt(t){return JSON.stringify(t)}const Kh=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=wu(Gh(s[0])||""),n=wu(Gh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function va(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function uv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(UO(s)&&UO(o)){if(!Yh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function UO(t){return null!==t&&"object"==typeof t}function Ss(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class PQ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class OQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function xQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=cv),void 0===i.error&&(i.error=cv),void 0===i.complete&&(i.complete=cv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cv(){}const Xh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},LQ=1e3,VQ=2,UQ=144e5,BQ=.5;function dv(t,e=LQ,n=VQ){const r=e*Math.pow(n,t),i=Math.round(BQ*r*(Math.random()-.5)*2);return Math.min(UQ,r+i)}function $n(t){return t&&t._delegate?t._delegate:t}class Dt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const As="[DEFAULT]";class jQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ya;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function WQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===As?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const hv=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const BO={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},GQ=ge.INFO,qQ={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},KQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=qQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ea{constructor(e){this.name=e,this._logLevel=GQ,this._logHandler=KQ,this._userLogHandler=null,hv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const QQ=(t,e)=>e.some(n=>t instanceof n);let $O,jO;const HO=new WeakMap,fv=new WeakMap,WO=new WeakMap,pv=new WeakMap,gv=new WeakMap;let mv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return fv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nY(t){return"function"==typeof t?function tY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ZQ(){return jO||(jO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(_v(this),e),Vi(HO.get(this))}:function(...e){return Vi(t.apply(_v(this),e))}:function(e,...n){const r=t.call(_v(this),e,...n);return WO.set(r,e.sort?e.sort():[e]),Vi(r)}}(t):(t instanceof IDBTransaction&&function JQ(t){if(fv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fv.set(t,e)}(t),QQ(t,function YQ(){return $O||($O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,mv):t)}function Vi(t){if(t instanceof IDBRequest)return function XQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HO.set(n,t)}).catch(()=>{}),gv.set(e,t),e}(t);if(pv.has(t))return pv.get(t);const e=nY(t);return e!==t&&(pv.set(t,e),gv.set(e,t)),e}const _v=t=>gv.get(t),iY=["get","getKey","getAll","getAllKeys","count"],sY=["put","add","delete","clear"],yv=new Map;function zO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yv.get(e))return yv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!iY.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return yv.set(e,s),s}!function eY(t){mv=t(mv)}(t=>({...t,get:(e,n,r)=>zO(e,n)||t.get(e,n,r),has:(e,n)=>!!zO(e,n)||t.has(e,n)}));class oY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function aY(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const vv="@firebase/app",Ms=new Ea("@firebase/app"),Jh="[DEFAULT]",kY={[vv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rs=new Map,ef=new Map;function OY(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kt(t){const e=t.name;if(ef.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;ef.set(e,t);for(const n of Rs.values())OY(n,t);return!0}function Ns(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const oi=new Cr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class FY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const Ui="9.23.0";function qO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=xO()),!n)throw oi.create("no-options");const s=Rs.get(i);if(s){if(Yh(n,s.options)&&Yh(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const o=new zQ(i);for(const l of ef.values())o.addComponent(l);const a=new FY(n,r,o);return Rs.set(i,a),a}function tf(t=Jh){const e=Rs.get(t);if(!e&&t===Jh&&xO())return qO();if(!e)throw oi.create("no-app",{appName:t});return e}function KO(){return Array.from(Rs.values())}function Se(t,e,n){var r;let i=null!==(r=kY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ms.warn(a.join(" "))}kt(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const LY="firebase-heartbeat-database",VY=1,Cu="firebase-heartbeat-store";let wv=null;function QO(){return wv||(wv=function rY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Vi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vi(o.result),l.oldVersion,l.newVersion,Vi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(LY,VY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Cu)}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),wv}function Cv(){return(Cv=m(function*(t){try{return yield(yield QO()).transaction(Cu).objectStore(Cu).get(ZO(t))}catch(e){if(e instanceof Bn)Ms.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e?.message});Ms.warn(n.message)}}})).apply(this,arguments)}function YO(t,e){return bv.apply(this,arguments)}function bv(){return(bv=m(function*(t,e){try{const r=(yield QO()).transaction(Cu,"readwrite");yield r.objectStore(Cu).put(e,ZO(t)),yield r.done}catch(n){if(n instanceof Bn)Ms.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n?.message});Ms.warn(r.message)}}})).apply(this,arguments)}function ZO(t){return`${t.name}!${t.options.appId}`}class jY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=XO(),{heartbeatsToSend:r,unsentEntries:i}=function HY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=zh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function XO(){return(new Date).toISOString().substring(0,10)}class WY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ds()&&Eu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function UY(t){return Cv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function JO(t){return zh(JSON.stringify({version:2,heartbeats:t})).length}!function zY(t){kt(new Dt("platform-logger",e=>new oY(e),"PRIVATE")),kt(new Dt("heartbeat",e=>new jY(e),"PRIVATE")),Se(vv,"0.9.13",t),Se(vv,"0.9.13","esm2017"),Se("fire-js","")}("");const GY=function ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tx=new Cr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nf=new Ea("@firebase/auth");function rf(t,...e){nf.logLevel<=ge.ERROR&&nf.error(`Auth (${Ui}): ${t}`,...e)}function on(t,...e){throw Iv(t,...e)}function Cn(t,...e){return Iv(t,...e)}function nx(t,e,n){const r=Object.assign(Object.assign({},GY()),{[e]:n});return new Cr("auth","Firebase",r).create(e,{appName:t.name})}function Iv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tx.create(t,...e)}function T(t,e,...n){if(!t)throw Iv(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function ai(t,e){t||br(e)}function bu(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Tv(){return"http:"===rx()||"https:"===rx()}function rx(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=ov()||VO()}get(){return function KY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tv()||av()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dv(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ix{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ZY=new Iu(3e4,6e4);function Oe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function He(t,e,n,r){return Sv.apply(this,arguments)}function Sv(){return(Sv=m(function*(t,e,n,r,i={}){return sx(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ss(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ix.fetch()(ox(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function sx(t,e,n){return Av.apply(this,arguments)}function Av(){return(Av=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YY),e);try{const i=new XY(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Tu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Tu(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Tu(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw Tu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nx(t,c,u);on(t,c)}}catch(i){if(i instanceof Bn)throw i;on(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function li(t,e,n,r){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e,n,r,i={}){const s=yield He(t,e,n,r,i);return"mfaPendingCredential"in s&&on(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function ox(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dv(t.config,i):`${t.config.apiScheme}://${i}`}class XY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),ZY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(t,e,r);return i.customData._tokenResponse=n,i}function Rv(){return(Rv=m(function*(t,e){return He(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Pv(){return(Pv=m(function*(t,e){return He(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kv(){return(kv=m(function*(t,e=!1){const n=$n(t),r=yield n.getIdToken(e),i=sf(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Du(Ov(i.auth_time)),issuedAtTime:Du(Ov(i.iat)),expirationTime:Du(Ov(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Ov(t){return 1e3*Number(t)}function sf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gh(n);return i?JSON.parse(i):(rf("Failed to decode base64 JWT payload"),null)}catch(i){return rf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ui(t,e){return xv.apply(this,arguments)}function xv(){return(xv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Bn&&function iZ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class sZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ax{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Su(t){return Fv.apply(this,arguments)}function Fv(){return Fv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ui(t,function tZ(t,e){return Pv.apply(this,arguments)}(n,{idToken:r}));T(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lZ(t){return t.map(e=>{var{providerId:n}=e,r=Oc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function aZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ax(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),Fv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t){const e=$n(t);yield Su(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Vv(){return(Vv=m(function*(t,e){const n=yield sx(t,{},m(function*(){const r=Ss({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ox(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ix.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function rZ(t){const e=sf(t);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return T(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function uZ(t,e){return Vv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Au;return r&&(T("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(T("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(T("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Au,this.toJSON())}_performRefresh(){return br("not implemented")}}function Bi(t,e){T("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Oc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ax(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ui(n,n.stsTokenManager.getToken(n.auth,e));return T(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function nZ(t){return kv.apply(this,arguments)}(this,e)}reload(){return function oZ(t){return Lv.apply(this,arguments)}(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Su(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ui(e,function JY(t,e){return Rv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:I,isAnonymous:k,providerData:X,stsTokenManager:se}=n;T(b&&se,e,"internal-error");const Pe=Au.fromJSON(this.name,se);T("string"==typeof b,e,"internal-error"),Bi(d,e.name),Bi(h,e.name),T("boolean"==typeof I,e,"internal-error"),T("boolean"==typeof k,e,"internal-error"),Bi(f,e.name),Bi(p,e.name),Bi(g,e.name),Bi(_,e.name),Bi(v,e.name),Bi(y,e.name);const Ke=new Ps({uid:b,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Pe,createdAt:v,lastLoginAt:y});return X&&Array.isArray(X)&&(Ke.providerData=X.map(Sn=>Object.assign({},Sn))),_&&(Ke._redirectEventId=_),Ke}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Au;i.updateFromServerResponse(n);const s=new Ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Su(s),s})()}}const lx=new Map;function ci(t){ai(t instanceof Function,"Expected a class definition");let e=lx.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lx.set(t,e),e)}const ux=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function af(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,s),this.fullPersistenceKey=af("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ps._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ca(ci(ux),e,r);const i=(yield Promise.all(n.map(function(){var u=m(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||ci(ux);const o=af(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(o);if(c){const d=Ps._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=m(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new Ca(s,e,r)):new Ca(s,e,r)})()}}function cx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gx(e))return"Blackberry";if(mx(e))return"Webos";if(Uv(e))return"Safari";if((e.includes("chrome/")||hx(e))&&!e.includes("edge/"))return"Chrome";if(px(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dx(t=dt()){return/firefox\//i.test(t)}function Uv(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hx(t=dt()){return/crios\//i.test(t)}function fx(t=dt()){return/iemobile/i.test(t)}function px(t=dt()){return/android/i.test(t)}function gx(t=dt()){return/blackberry/i.test(t)}function mx(t=dt()){return/webos/i.test(t)}function lf(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _x(t=dt()){return lf(t)||px(t)||mx(t)||gx(t)||/windows phone/i.test(t)||fx(t)}function yx(t,e=[]){let n;switch(t){case"Browser":n=cx(dt());break;case"Worker":n=`${cx(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}function Bv(){return(Bv=m(function*(t){return(yield He(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vx(t,e){return $v.apply(this,arguments)}function $v(){return($v=m(function*(t,e){return He(t,"GET","/v2/recaptchaConfig",Oe(t,e))})).apply(this,arguments)}function Ex(t){return void 0!==t&&void 0!==t.getResponse}function wx(t){return void 0!==t&&void 0!==t.enterprise}class Cx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function jv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function pZ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function bx(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Ix{constructor(e){this.type="recaptcha-enterprise",this.auth=ht(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=m(function*(u,c){vx(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new Cx(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(u,c){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,u){const c=window.grecaptcha;wx(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&wx(window.grecaptcha))o(u,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));jv("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,l)}).catch(c=>{l(c)})}}).catch(u=>{l(u)})})})()}}class yZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class vZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tx(this),this.idTokenSubscription=new Tx(this),this.beforeStateQueue=new yZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ca.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return T(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Su(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function QY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?$n(e):null;return r&&T(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&T(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ci(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield vx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Cx(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Ix(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ci(e)||n._popupRedirectResolver;T(r,n,"argument-error"),n.redirectPersistenceManager=yield Ca.create(n,[ci(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return T(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function qY(t,...e){nf.logLevel<=ge.WARN&&nf.warn(`Auth (${Ui}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ht(t){return $n(t)}class Tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=function kQ(t,e){const n=new OQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Wv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}function di(t,e){return oE.apply(this,arguments)}function oE(){return(oE=m(function*(t,e){return li(t,"POST","/v1/accounts:signInWithIdp",Oe(t,e))})).apply(this,arguments)}class ba extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Oc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ba(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return di(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,di(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,di(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ss(n)}return e}}function aE(){return(aE=m(function*(t,e){return He(t,"POST","/v1/accounts:sendVerificationCode",Oe(t,e))})).apply(this,arguments)}function lE(){return(lE=m(function*(t,e){return li(t,"POST","/v1/accounts:signInWithPhoneNumber",Oe(t,e))})).apply(this,arguments)}function uE(){return(uE=m(function*(t,e){const n=yield li(t,"POST","/v1/accounts:signInWithPhoneNumber",Oe(t,e));if(n.temporaryProof)throw Tu(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const OZ={USER_NOT_FOUND:"user-not-found"};function cE(){return(cE=m(function*(t,e){return li(t,"POST","/v1/accounts:signInWithPhoneNumber",Oe(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),OZ)})).apply(this,arguments)}class Mu extends Wv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Mu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Mu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return function PZ(t,e){return lE.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return function kZ(t,e){return uE.apply(this,arguments)}(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function xZ(t,e){return cE.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||n||i||s?new Mu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class ji{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nx extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Px=(()=>{class t extends Nx{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ba._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class jn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield Ps._fromIdTokenResponse(e,r,i),o=kx(r);return new jn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=kx(r);return new jn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ff extends Bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ff(e,n,r,i)}}function Ox(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?ff._fromErrorAndOperation(t,s,e,r):s})}function mE(){return(mE=m(function*(t,e,n=!1){const r=yield ui(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return jn._forOperation(t,"link",r)})).apply(this,arguments)}function yE(){return(yE=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ui(t,Ox(r,i,e,t),n);T(s.idToken,r,"internal-error");const o=sf(s.idToken);T(o,r,"internal-error");const{sub:a}=o;return T(t.uid===a,r,"user-mismatch"),jn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&on(r,"user-mismatch"),s}})).apply(this,arguments)}function Lx(t,e){return vE.apply(this,arguments)}function vE(){return(vE=m(function*(t,e,n=!1){const r="signIn",i=yield Ox(t,r,e),s=yield jn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function wE(){return(wE=m(function*(t,e){return Lx(ht(t),e)})).apply(this,arguments)}const gf="__sak";class Ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oX=(()=>{class t extends Ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rX(){const t=dt();return Uv(t)||lf(t)}()&&function hZ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_x(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function dZ(){return function DQ(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Bx=(()=>{class t extends Ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let lX=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function aX(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function mf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class uX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=mf("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function et(){return window}function QE(){return typeof et().WorkerGlobalScope<"u"&&"function"==typeof et().importScripts}function YE(){return(YE=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $x="firebaseLocalStorageDb",_f="firebaseLocalStorage",jx="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function ZE(){const t=indexedDB.open($x,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_f,{keyPath:jx})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(_f)?e(r):(r.close(),yield function gX(){const t=indexedDB.deleteDatabase($x);return new Nu(t).toPromise()}(),e(yield ZE()))}))})}function Hx(t,e,n){return XE.apply(this,arguments)}function XE(){return(XE=m(function*(t,e,n){const r=yf(t,!0).put({[jx]:e,value:n});return new Nu(r).toPromise()})).apply(this,arguments)}function JE(){return(JE=m(function*(t,e){const n=yf(t,!1).get(e),r=yield new Nu(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Wx(t,e){const n=yf(t,!0).delete(e);return new Nu(n).toPromise()}const vX=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield ZE()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return QE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=lX._getInstance(function fX(){return QE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function dX(){return YE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new uX(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function hX(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield ZE();return yield Hx(n,gf,"1"),yield Wx(n,gf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>Hx(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function mX(t,e){return JE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>Wx(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=yf(o,!1).getAll();return new Nu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})(),vf=1e12;class TX{constructor(e){this.auth=e,this.counter=vf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new DX(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||vf;null===(n=this._widgets.get(r))||void 0===n||n.delete(),this._widgets.delete(r)}getResponse(e){var n;return(null===(n=this._widgets.get(e||vf))||void 0===n?void 0:n.getResponse())||""}execute(e){var n=this;return m(function*(){var r;return null===(r=n._widgets.get(e||vf))||void 0===r||r.execute(),""})()}}class DX{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;T(i,"argument-error",{appName:n}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function SX(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ew=bx("rcb"),AX=new Iu(3e4,6e4);class RX{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=et().grecaptcha)||void 0===e||!e.render)}load(e,n=""){return T(function NX(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ex(et().grecaptcha)?Promise.resolve(et().grecaptcha):new Promise((r,i)=>{const s=et().setTimeout(()=>{i(Cn(e,"network-request-failed"))},AX.get());et()[ew]=()=>{et().clearTimeout(s),delete et()[ew];const a=et().grecaptcha;if(!a||!Ex(a))return void i(Cn(e,"internal-error"));const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)},jv(`https://www.google.com/recaptcha/api.js??${Ss({onload:ew,render:"explicit",hl:n})}`).catch(()=>{clearTimeout(s),i(Cn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!(null===(n=et().grecaptcha)||void 0===n||!n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class PX{load(e){return m(function*(){return new TX(e)})()}clearedOneInstance(){}}const zx="recaptcha",kX={theme:"light",type:"image"};class OX{constructor(e,n=Object.assign({},kX),r){this.parameters=n,this.type=zx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(r),this.isInvisible="invisible"===this.parameters.size,T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;T(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new PX:new RX,this.validateStartingState()}verify(){var e=this;return m(function*(){e.assertNotDestroyed();const n=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(n)||new Promise(s=>{const o=a=>{a&&(e.tokenChangeListeners.delete(o),s(a))};e.tokenChangeListeners.add(o),e.isInvisible&&r.execute(n)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),"function"==typeof e)e(n);else if("string"==typeof e){const r=et()[e];"function"==typeof r&&r(n)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return m(function*(){if(yield e.init(),!e.widgetId){let n=e.container;if(!e.isInvisible){const r=document.createElement("div");n.appendChild(r),n=r}e.widgetId=e.getAssertedRecaptcha().render(n,e.parameters)}return e.widgetId})()}init(){var e=this;return m(function*(){T(Tv()&&!QE(),e.auth,"internal-error"),yield function xX(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const n=yield function fZ(t){return Bv.apply(this,arguments)}(e.auth);T(n,e.auth,"internal-error"),e.parameters.sitekey=n})()}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Mu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}function nw(){return(nw=m(function*(t,e,n){const r=ht(t),i=yield function sw(t,e,n){return ow.apply(this,arguments)}(r,e,$n(n));return new tw(i,s=>function EE(t,e){return wE.apply(this,arguments)}(r,s))})).apply(this,arguments)}function ow(){return ow=m(function*(t,e,n){var r;const i=yield n.verify();try{let s;if(T("string"==typeof i,t,"argument-error"),T(n.type===zx,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const o=s.session;if("phoneNumber"in s)return T("enroll"===o.type,t,"internal-error"),(yield function JZ(t,e){return He(t,"POST","/v2/accounts/mfaEnrollment:start",Oe(t,e))}(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{T("signin"===o.type,t,"internal-error");const a=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return T(a,t,"missing-multi-factor-info"),(yield function EX(t,e){return He(t,"POST","/v2/accounts/mfaSignIn:start",Oe(t,e))}(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield function NZ(t,e){return aE.apply(this,arguments)}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}),ow.apply(this,arguments)}function Os(t,e){return e?ci(e):(T(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class lw extends Wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return di(e,this._buildIdpRequest())}_linkToIdToken(e,n){return di(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return di(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LX(t){return Lx(t.auth,new lw(t),t.bypassAuthState)}function VX(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),function Fx(t,e){return yE.apply(this,arguments)}(n,new lw(t),t.bypassAuthState)}function UX(t){return uw.apply(this,arguments)}function uw(){return(uw=m(function*(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),function gE(t,e){return mE.apply(this,arguments)}(n,new lw(t),t.bypassAuthState)})).apply(this,arguments)}class Gx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LX;case"linkViaPopup":case"linkViaRedirect":return UX;case"reauthViaPopup":case"reauthViaRedirect":return VX;default:on(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BX=new Iu(2e3,1e4);function qx(t,e,n){return cw.apply(this,arguments)}function cw(){return(cw=m(function*(t,e,n){const r=ht(t);!function wa(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&on(t,"argument-error"),nx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,ji);const i=Os(r,n);return new fw(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let fw=(()=>{class t extends Gx{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return T(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){ai(1===n.filter.length,"Popup operations only handle one event");const r=mf();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Cn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,BX.get())};n()}}return t.currentPopupAction=null,t})();const $X="pendingRedirect",Pu=new Map;class jX extends Gx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Pu.get(n.auth._key());if(!r){try{const s=(yield function HX(t,e){return pw.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Pu.set(n.auth._key(),r)}return n.bypassAuthState||Pu.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function pw(){return(pw=m(function*(t,e){const n=function Qx(t){return af($X,t.config.apiKey,t.name)}(e),r=function Kx(t){return ci(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function WX(t,e){Pu.set(t._key(),e)}function Yx(t,e){return ww.apply(this,arguments)}function ww(){return(ww=m(function*(t,e,n=!1){const r=ht(t),i=Os(r,e),o=yield new jX(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class QX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function YX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jx(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jx(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xx(e))}saveEventToCache(e){this.cachedEventUids.add(Xx(e)),this.lastProcessedEventTime=Date.now()}}function Xx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jx({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function bw(){return(bw=m(function*(t,e={}){return He(t,"GET","/v1/projects",e)})).apply(this,arguments)}const XX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JX=/^https?/;function Iw(){return Iw=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function ZX(t){return bw.apply(this,arguments)}(t);for(const n of e)try{if(tJ(n))return}catch{}on(t,"unauthorized-domain")}),Iw.apply(this,arguments)}function tJ(t){const e=bu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!JX.test(n))return!1;if(XX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const nJ=new Iu(3e4,6e4);function e1(){const t=et().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Ef=null;const sJ=new Iu(5e3,15e3),oJ="__/auth/iframe",aJ="emulator/auth/iframe",lJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cJ(t){const e=t.config;T(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dv(e,aJ):`https://${t.config.authDomain}/${oJ}`,r={apiKey:e.apiKey,appName:t.name,v:Ui},i=uJ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ss(r).slice(1)}`}function Tw(){return Tw=m(function*(t){const e=yield function iJ(t){return Ef=Ef||function rJ(t){return new Promise((e,n)=>{var r,i,s;function o(){e1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e1(),n(Cn(t,"network-request-failed"))},timeout:nJ.get()})}if(null!==(i=null===(r=et().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=et().gapi)||void 0===s||!s.load){const a=bx("iframefcb");return et()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},jv(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw Ef=null,e})}(t),Ef}(t),n=et().gapi;return T(n,t,"internal-error"),e.open({where:document.body,url:cJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lJ,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Cn(t,"network-request-failed"),l=et().setTimeout(()=>{o(a)},sJ.get());function u(){et().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Tw.apply(this,arguments)}const hJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class t1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vJ="__/auth/handler",EJ="emulator/auth/handler",wJ=encodeURIComponent("fac");function n1(t,e,n,r,i,s){return Dw.apply(this,arguments)}function Dw(){return(Dw=m(function*(t,e,n,r,i,s){T(t.config.authDomain,t,"auth-domain-config-required"),T(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ui,eventId:i};if(e instanceof ji){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Nx){const c=e.getScopes().filter(d=>""!==d);c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=yield t._getAppCheckToken(),u=l?`#${wJ}=${encodeURIComponent(l)}`:"";return`${function CJ({config:t}){return t.emulator?Dv(t,EJ):`https://${t.authDomain}/${vJ}`}(t)}?${Ss(a).slice(1)}${u}`})).apply(this,arguments)}const Sw="webStorageSupport",IJ=class bJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bx,this._completeRedirectFn=Yx,this._overrideRedirectResult=WX}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;ai(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield n1(e,n,r,bu(),i);return function _J(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hJ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=dt().toLowerCase();n&&(a=hx(u)?"_blank":n),dx(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function cZ(t=dt()){var e;return lf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function yJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new t1(null);const d=window.open(e||"",a,c);T(d,t,"popup-blocked");try{d.focus()}catch{}return new t1(d)}(e,a,mf())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function cX(t){et().location.href=t}(yield n1(e,n,r,bu(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ai(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function dJ(t){return Tw.apply(this,arguments)}(e),i=new QX(e);return r.register("authEvent",s=>(T(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sw,{type:Sw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Sw];void 0!==o&&n(!!o),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function eJ(t){return Iw.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _x()||Uv()||lf()}};var s1="@firebase/auth";class TJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const MJ=FO("authIdTokenMaxAge")||300;let a1=null;const RJ=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>MJ)return;const s=r?.token;a1!==s&&(a1=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function NJ(t=tf()){const e=Ns(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function EZ(t,e){const n=Ns(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Yh(n.getOptions(),e??{}))return i;on(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:IJ,persistence:[vX,oX,Bx]}),r=FO("authTokenSyncURL");if(r){const s=RJ(r);(function XZ(t,e,n){$n(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function ZZ(t,e,n,r){$n(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=kO("auth");return i&&function CZ(t,e,n){const r=ht(t);T(r._canInitEmulator,r,"emulator-config-failed"),T(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=Dx(e),{host:o,port:a}=function bZ(t){const e=Dx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sx(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:Sx(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function IZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function SJ(t){kt(new Dt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;T(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(t)},u=new vZ(r,i,s,l);return function wZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kt(new Dt("auth-internal",e=>{const n=ht(e.getProvider("auth").getImmediate());return new TJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(s1,"0.23.2",function DJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Se(s1,"0.23.2","esm2017")}("Browser");let l1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Wr),C(_n))};static#t=this.\u0275dir=U({type:t})}return t})(),xs=(()=>{class t extends l1{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(t)))(i||t)}}();static#t=this.\u0275dir=U({type:t,features:[he]})}return t})();const Ir=new R("NgValueAccessor"),OJ={provide:Ir,useExisting:Ee(()=>Cf),multi:!0},FJ=new R("CompositionEventMode");let Cf=(()=>{class t extends l1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xJ(){const t=ki()?ki().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Wr),C(_n),C(FJ,8))};static#t=this.\u0275dir=U({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Me([OJ]),he]})}return t})();function Hi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function c1(t){return null!=t&&"number"==typeof t.length}const Ot=new R("NgValidators"),Wi=new R("NgAsyncValidators"),LJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fs{static min(e){return function d1(t){return e=>{if(Hi(e.value)||Hi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function h1(t){return e=>{if(Hi(e.value)||Hi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function f1(t){return Hi(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function p1(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function g1(t){return Hi(t.value)||LJ.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function m1(t){return e=>Hi(e.value)||!c1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function _1(t){return e=>c1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function y1(t){if(!t)return bf;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Hi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return I1(e)}static composeAsync(e){return T1(e)}}function bf(t){return null}function v1(t){return null!=t}function E1(t){return Bl(t)?lt(t):t}function w1(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function C1(t,e){return e.map(n=>n(t))}function b1(t){return t.map(e=>function VJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function I1(t){if(!t)return null;const e=t.filter(v1);return 0==e.length?null:function(n){return w1(C1(n,e))}}function Mw(t){return null!=t?I1(b1(t)):null}function T1(t){if(!t)return null;const e=t.filter(v1);return 0==e.length?null:function(n){return function PJ(...t){const e=OD(t),{args:n,keys:r}=Ek(t),i=new Ve(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;cn(n[c]).subscribe(Qe(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?Ck(r,a):a),s.complete())}))}});return e?i.pipe(wk(e)):i}(C1(n,e).map(E1)).pipe(_e(w1))}}function Rw(t){return null!=t?T1(b1(t)):null}function D1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function S1(t){return t._rawValidators}function A1(t){return t._rawAsyncValidators}function Nw(t){return t?Array.isArray(t)?t:[t]:[]}function If(t,e){return Array.isArray(t)?t.includes(e):t===e}function M1(t,e){const n=Nw(e);return Nw(t).forEach(i=>{If(n,i)||n.push(i)}),n}function R1(t,e){return Nw(e).filter(n=>!If(t,n))}class N1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zt extends N1{get formDirective(){return null}get path(){return null}}class zi extends N1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let k1=(()=>{class t extends P1{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(zi,2))};static#t=this.\u0275dir=U({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[he]})}return t})(),Pw=(()=>{class t extends P1{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(zt,10))};static#t=this.\u0275dir=U({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[he]})}return t})();const ku="VALID",Df="INVALID",Ta="PENDING",Ou="DISABLED";function xw(t){return(Sf(t)?t.validators:t)||null}function Fw(t,e){return(Sf(e)?e.asyncValidators:t)||null}function Sf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function x1(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new E(1e3,"");if(!r[n])throw new E(1001,"")}function F1(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new E(1002,"")})}class Af{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ku}get invalid(){return this.status===Df}get pending(){return this.status==Ta}get disabled(){return this.status===Ou}get enabled(){return this.status!==Ou}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(M1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(R1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(R1(e,this._rawAsyncValidators))}hasValidator(e){return If(this._rawValidators,e)}hasAsyncValidator(e){return If(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ta,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ou,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ku,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===Ta)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ou:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ta,this._hasOwnPendingAsyncValidator=!0;const n=E1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Ou:this.errors?Df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ta)?Ta:this._anyControlsHaveStatus(Df)?Df:ku}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jJ(t){return Array.isArray(t)?Mw(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function HJ(t){return Array.isArray(t)?Rw(t):t||null}(this._rawAsyncValidators)}}class xu extends Af{constructor(e,n,r){super(xw(n),Fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){F1(this,0,e),Object.keys(e).forEach(r=>{x1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class L1 extends xu{}const Ls=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Fu}),Fu="always";function Lu(t,e,n=Fu){Lw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function zJ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&V1(t,e)})}(t,e),function qJ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function GJ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&V1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function WJ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Rf(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Nf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Lw(t,e){const n=S1(t);null!==e.validator?t.setValidators(D1(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=A1(t);null!==e.asyncValidator?t.setAsyncValidators(D1(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Nf(e._rawValidators,i),Nf(e._rawAsyncValidators,i)}function Pf(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=S1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=A1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Nf(e._rawValidators,r),Nf(e._rawAsyncValidators,r),n}function V1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function j1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Uu=class extends Af{constructor(e=null,n,r){super(xw(n),Fw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=j1(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){j1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let jw=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=U({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),K1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({})}return t})();const Hw=new R("NgModelWithFormControlWarning"),aee={provide:zt,useExisting:Ee(()=>Bu)};let Bu=(()=>{class t extends zt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Lu(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rf(n.control||null,n,!1),function ZJ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function B1(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Rf(r||null,n),(t=>t instanceof Uu)(i)&&(Lu(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function U1(t,e){Lw(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function KJ(t,e){return Pf(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lw(this.form,this),this._oldForm&&Pf(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ot,10),C(Wi,10),C(Ls,8))};static#t=this.\u0275dir=U({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Xe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([aee]),he,kn]})}return t})();const cee={provide:zi,useExisting:Ee(()=>Gw)};let Gw=(()=>{class t extends zi{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Be,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Bw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Cf?n=s:function YJ(t){return Object.getPrototypeOf(t.constructor)===xs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function Uw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Mf(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(C(zt,13),C(Ot,10),C(Wi,10),C(Ir,10),C(Hw,8))};static#n=this.\u0275dir=U({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Me([cee]),he,kn]})}return t})(),cF=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({imports:[K1]})}return t})();class dF extends Af{constructor(e,n,r){super(xw(n),Fw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){F1(this,0,e),e.forEach((r,i)=>{x1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function hF(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let fF=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return hF(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new xu(i,s)}record(n,r=null){const i=this._reduceControls(n);return new L1(i,r)}control(n,r,i){let s={};return this.useNonNullable?(hF(r)?s=r:(s.validators=r,s.asyncValidators=i),new Uu(n,{...s,nonNullable:!0})):new Uu(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new dF(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Uu||n instanceof Af?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ls,useValue:n.callSetDisabledState??Fu}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({imports:[cF]})}return t})(),Dee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Hw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ls,useValue:n.callSetDisabledState??Fu}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({imports:[cF]})}return t})();Se("firebase","9.23.0","app");const Mee=(t,e)=>e.some(n=>t instanceof n);let pF,gF;const mF=new WeakMap,Yw=new WeakMap,_F=new WeakMap,Zw=new WeakMap,Xw=new WeakMap;let Jw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Yw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_F.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Fee(t){return"function"==typeof t?function xee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nee(){return gF||(gF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eC(this),e),Gi(mF.get(this))}:function(...e){return Gi(t.apply(eC(this),e))}:function(e,...n){const r=t.call(eC(this),e,...n);return _F.set(r,e.sort?e.sort():[e]),Gi(r)}}(t):(t instanceof IDBTransaction&&function kee(t){if(Yw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yw.set(t,e)}(t),Mee(t,function Ree(){return pF||(pF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jw):t)}function Gi(t){if(t instanceof IDBRequest)return function Pee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mF.set(n,t)}).catch(()=>{}),Xw.set(e,t),e}(t);if(Zw.has(t))return Zw.get(t);const e=Fee(t);return e!==t&&(Zw.set(t,e),Xw.set(e,t)),e}const eC=t=>Xw.get(t),Vee=["get","getKey","getAll","getAllKeys","count"],Uee=["put","add","delete","clear"],tC=new Map;function yF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tC.get(e))return tC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Uee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vee.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return tC.set(e,s),s}!function Oee(t){Jw=t(Jw)}(t=>({...t,get:(e,n,r)=>yF(e,n)||t.get(e,n,r),has:(e,n)=>!!yF(e,n)||t.has(e,n)}));const vF="@firebase/installations",nC="0.6.4",EF=1e4,wF=`w:${nC}`,CF="FIS_v2",Bee="https://firebaseinstallations.googleapis.com/v1",$ee=36e5,hi=new Cr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bF(t){return t instanceof Bn&&t.code.includes("request-failed")}function rC({projectId:t}){return`${Bee}/projects/${t}/installations`}function IF(t){return{token:t.token,requestStatus:2,expiresIn:zee(t.expiresIn),creationTime:Date.now()}}function iC(t,e){return sC.apply(this,arguments)}function sC(){return(sC=m(function*(t,e){const r=(yield e.json()).error;return hi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function TF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oC(t){return aC.apply(this,arguments)}function aC(){return(aC=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function zee(t){return Number(t.replace("s","000"))}function lC(){return(lC=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rC(t),i=TF(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:CF,appId:t.appId,sdkVersion:wF})},l=yield oC(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:IF(u.authToken)}}throw yield iC("Create Installation",l)})).apply(this,arguments)}function SF(t){return new Promise(e=>{setTimeout(e,t)})}const Qee=/^[cdef][\w-]{21}$/,uC="";function Yee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Zee(t){return function Kee(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Qee.test(n)?n:uC}catch{return uC}}function Da(t){return`${t.appName}!${t.appId}`}const Sa=new Map;function AF(t,e){const n=Da(t);MF(n,e),function ete(t,e){const n=function RF(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{MF(t.data.key,t.data.fid)}),Us}();n&&n.postMessage({key:t,fid:e}),function NF(){0===Sa.size&&Us&&(Us.close(),Us=null)}()}(n,e)}function MF(t,e){const n=Sa.get(t);if(n)for(const r of n)r(e)}let Us=null;const tte="firebase-installations-database",nte=1,Bs="firebase-installations-store";let cC=null;function dC(){return cC||(cC=function Lee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gi(o.result),l.oldVersion,l.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(tte,nte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Bs)}})),cC}function kf(t,e){return hC.apply(this,arguments)}function hC(){return(hC=m(function*(t,e){const n=Da(t),i=(yield dC()).transaction(Bs,"readwrite"),s=i.objectStore(Bs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&AF(t,e.fid),e})).apply(this,arguments)}function fC(t){return pC.apply(this,arguments)}function pC(){return(pC=m(function*(t){const e=Da(t),r=(yield dC()).transaction(Bs,"readwrite");yield r.objectStore(Bs).delete(e),yield r.done})).apply(this,arguments)}function $u(t,e){return gC.apply(this,arguments)}function gC(){return(gC=m(function*(t,e){const n=Da(t),i=(yield dC()).transaction(Bs,"readwrite"),s=i.objectStore(Bs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&AF(t,a.fid),a})).apply(this,arguments)}function mC(t){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t){let e;const n=yield $u(t.appConfig,r=>{const i=function rte(t){return kF(t||{fid:Yee(),registrationStatus:0})}(r),s=function ite(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(hi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ste(t,e){return yC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ote(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===uC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),_C.apply(this,arguments)}function yC(){return yC=m(function*(t,e){try{const n=yield function qee(t,e){return lC.apply(this,arguments)}(t,e);return kf(t.appConfig,n)}catch(n){throw bF(n)&&409===n.customData.serverCode?yield fC(t.appConfig):yield kf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),yC.apply(this,arguments)}function ote(t){return vC.apply(this,arguments)}function vC(){return(vC=m(function*(t){let e=yield PF(t.appConfig);for(;1===e.registrationStatus;)yield SF(100),e=yield PF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield mC(t);return r||n}return e})).apply(this,arguments)}function PF(t){return $u(t,e=>{if(!e)throw hi.create("installation-not-found");return kF(e)})}function kF(t){return function ate(t){return 1===t.registrationStatus&&t.registrationTime+EF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function EC(){return(EC=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function ute(t,{fid:e}){return`${rC(t)}/${e}/authTokens:generate`}(t,n),i=function DF(t,{refreshToken:e}){const n=TF(t);return n.append("Authorization",function Gee(t){return`${CF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:wF,appId:t.appId}})},l=yield oC(()=>fetch(r,a));if(l.ok)return IF(yield l.json());throw yield iC("Generate Auth Token",l)})).apply(this,arguments)}function wC(t){return CC.apply(this,arguments)}function CC(){return CC=m(function*(t,e=!1){let n;const r=yield $u(t.appConfig,s=>{if(!xF(s))throw hi.create("not-registered");const o=s.authToken;if(!e&&function hte(t){return 2===t.requestStatus&&!function fte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$ee}(t)}(o))return s;if(1===o.requestStatus)return n=function cte(t,e){return bC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw hi.create("app-offline");const a=function pte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function dte(t,e){return IC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),CC.apply(this,arguments)}function bC(){return(bC=m(function*(t,e){let n=yield OF(t.appConfig);for(;1===n.authToken.requestStatus;)yield SF(100),n=yield OF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?wC(t,e):r})).apply(this,arguments)}function OF(t){return $u(t,e=>{if(!xF(e))throw hi.create("not-registered");return function gte(t){return 1===t.requestStatus&&t.requestTime+EF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function IC(){return IC=m(function*(t,e){try{const n=yield function lte(t,e){return EC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield kf(t.appConfig,r),n}catch(n){if(!bF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield kf(t.appConfig,r)}else yield fC(t.appConfig);throw n}}),IC.apply(this,arguments)}function xF(t){return void 0!==t&&2===t.registrationStatus}function TC(){return(TC=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield mC(e);return r?r.catch(console.error):wC(e).catch(console.error),n.fid})).apply(this,arguments)}function DC(){return DC=m(function*(t,e=!1){const n=t;return yield function yte(t){return SC.apply(this,arguments)}(n),(yield wC(n,e)).token}),DC.apply(this,arguments)}function SC(){return(SC=m(function*(t){const{registrationPromise:e}=yield mC(t);e&&(yield e)})).apply(this,arguments)}function RC(t){return hi.create("missing-app-config-values",{valueName:t})}const FF="installations",bte=t=>{const e=t.getProvider("app").getImmediate(),n=function wte(t){if(!t||!t.options)throw RC("App Configuration");if(!t.name)throw RC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw RC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ns(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ite=t=>{const n=Ns(t.getProvider("app").getImmediate(),FF).getImmediate();return{getId:()=>function mte(t){return TC.apply(this,arguments)}(n),getToken:i=>function _te(t){return DC.apply(this,arguments)}(n,i)}};(function Tte(){kt(new Dt(FF,bte,"PUBLIC")),kt(new Dt("installations-internal",Ite,"PRIVATE"))})(),Se(vF,nC),Se(vF,nC,"esm2017");const NC="@firebase/remote-config",an=new Cr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Lte(t=navigator){return t.languages&&t.languages[0]||t.language}class Vte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Lte()},u={method:"POST",headers:a,body:JSON.stringify(l)},c=fetch(o,u),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",y(b)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),an.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw an.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw an.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class $te{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function Ute(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Bte(t){if(!(t instanceof Bn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+dv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Wte{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xf(t,e){const n=t.target.error||void 0;return an.create(e,{originalErrorMessage:n&&n?.message})}const $s="app_namespace_store";class Kte{constructor(e,n,r,i=function qte(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(xf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($s,{keyPath:"compositeKey"})}}catch(n){e(an.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$s],"readonly").objectStore($s),l=n.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{s(xf(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(u){s(an.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([$s],"readwrite").objectStore($s),u=r.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{o(xf(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(an.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([$s],"readwrite").objectStore($s),l=n.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{s(xf(c,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(an.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Qte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Zte(){return FC.apply(this,arguments)}function FC(){return(FC=m(function*(){if(!Ds())return!1;try{return yield Eu()}catch{return!1}})).apply(this,arguments)}!function Yte(){kt(new Dt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw an.create("registration-window");if(!Ds())throw an.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw an.create("registration-project-id");if(!o)throw an.create("registration-api-key");if(!a)throw an.create("registration-app-id");const l=new Kte(a,r.name,n=n||"firebase"),u=new Qte(l),c=new Ea(NC);c.logLevel=ge.ERROR;const d=new Vte(i,Ui,n,s,o,a),h=new $te(d,l),f=new Fte(h,l,u,c),p=new Wte(r,f,u,l,c);return function kte(t){const e=$n(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Se(NC,"0.4.4"),Se(NC,"0.4.4","esm2017")}();const Xte=(t,e)=>e.some(n=>t instanceof n);let BF,$F;const jF=new WeakMap,LC=new WeakMap,HF=new WeakMap,VC=new WeakMap,UC=new WeakMap;let BC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return LC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||HF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function sne(t){return"function"==typeof t?function ine(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ene(){return $F||($F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($C(this),e),fi(jF.get(this))}:function(...e){return fi(t.apply($C(this),e))}:function(e,...n){const r=t.call($C(this),e,...n);return HF.set(r,e.sort?e.sort():[e]),fi(r)}}(t):(t instanceof IDBTransaction&&function nne(t){if(LC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});LC.set(t,e)}(t),Xte(t,function Jte(){return BF||(BF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,BC):t)}function fi(t){if(t instanceof IDBRequest)return function tne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jF.set(n,t)}).catch(()=>{}),UC.set(e,t),e}(t);if(VC.has(t))return VC.get(t);const e=sne(t);return e!==t&&(VC.set(t,e),UC.set(e,t)),e}const $C=t=>UC.get(t);function WF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fi(o.result),l.oldVersion,l.newVersion,fi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function jC(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),fi(n).then(()=>{})}const one=["get","getKey","getAll","getAllKeys","count"],ane=["put","add","delete","clear"],HC=new Map;function zF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(HC.get(e))return HC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ane.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!one.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return HC.set(e,s),s}!function rne(t){BC=t(BC)}(t=>({...t,get:(e,n,r)=>zF(e,n)||t.get(e,n,r),has:(e,n)=>!!zF(e,n)||t.has(e,n)}));const lne="/firebase-messaging-sw.js",une="/firebase-cloud-messaging-push-scope",GF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cne="https://fcmregistrations.googleapis.com/v1",qF="google.c.a.c_id",dne="google.c.a.c_l",hne="google.c.a.ts";var Ff=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Ff||{});function pi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const WC="fcm_token_details_db",mne=5,KF="fcm_token_object_Store";function zC(){return zC=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(WC))return null;let e=null;return(yield WF(WC,mne,{upgrade:(r=m(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(KF))return;const u=a.objectStore(KF),c=yield u.index("fcmSenderId").get(t);if(yield u.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:pi(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:pi(d.auth),p256dh:pi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:pi(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:pi(d.auth),p256dh:pi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:pi(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield jC(WC),yield jC("fcm_vapid_details_db"),yield jC("undefined"),function yne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),zC.apply(this,arguments)}const vne="firebase-messaging-database",Ene=1,js="firebase-messaging-store";let GC=null;function qC(){return GC||(GC=WF(vne,Ene,{upgrade:(t,e)=>{0===e&&t.createObjectStore(js)}})),GC}function QF(t){return KC.apply(this,arguments)}function KC(){return KC=m(function*(t){const e=XC(t),r=yield(yield qC()).transaction(js).objectStore(js).get(e);if(r)return r;{const i=yield function _ne(t){return zC.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield QC(t,i),i}}),KC.apply(this,arguments)}function QC(t,e){return YC.apply(this,arguments)}function YC(){return(YC=m(function*(t,e){const n=XC(t),i=(yield qC()).transaction(js,"readwrite");return yield i.objectStore(js).put(e,n),yield i.done,e})).apply(this,arguments)}function ZC(){return(ZC=m(function*(t){const e=XC(t),r=(yield qC()).transaction(js,"readwrite");yield r.objectStore(js).delete(e),yield r.done})).apply(this,arguments)}function XC({appConfig:t}){return t.appId}const St=new Cr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bne(t,e){return JC.apply(this,arguments)}function JC(){return(JC=m(function*(t,e){const n=yield rb(t),r=ZF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(nb(t.appConfig),i)).json()}catch(o){throw St.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw St.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw St.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function eb(){return(eb=m(function*(t,e){const n=yield rb(t),r=ZF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${nb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw St.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw St.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw St.create("token-update-no-token");return s.token})).apply(this,arguments)}function YF(t,e){return tb.apply(this,arguments)}function tb(){return(tb=m(function*(t,e){const r={method:"DELETE",headers:yield rb(t)};try{const s=yield(yield fetch(`${nb(t.appConfig)}/${e}`,r)).json();if(s.error)throw St.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw St.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function nb({projectId:t}){return`${cne}/projects/${t}/registrations`}function rb(t){return ib.apply(this,arguments)}function ib(){return(ib=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ZF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==GF&&(i.web.applicationPubKey=r),i}const Tne=6048e5;function sb(){return sb=m(function*(t){const e=yield function Ane(t,e){return ub.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:pi(e.getKey("auth")),p256dh:pi(e.getKey("p256dh"))},r=yield QF(t.firebaseDependencies);if(r){if(function Mne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Tne?function Sne(t,e){return ab.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield YF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return JF(t.firebaseDependencies,n)}return JF(t.firebaseDependencies,n)}),sb.apply(this,arguments)}function ob(){return ob=m(function*(t){const e=yield QF(t.firebaseDependencies);e&&(yield YF(t.firebaseDependencies,e.token),yield function wne(t){return ZC.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),ob.apply(this,arguments)}function ab(){return ab=m(function*(t,e){try{const n=yield function Ine(t,e){return eb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield QC(t.firebaseDependencies,r),n}catch(n){throw yield function XF(t){return ob.apply(this,arguments)}(t),n}}),ab.apply(this,arguments)}function JF(t,e){return lb.apply(this,arguments)}function lb(){return(lb=m(function*(t,e){const r={token:yield bne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield QC(t,r),r.token})).apply(this,arguments)}function ub(){return(ub=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gne(e)})})).apply(this,arguments)}function eL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Rne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Nne(t,e){e.data&&(t.data=e.data)}(e,t),function Pne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function tL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function cb(t){return St.create("missing-app-config-values",{valueName:t})}tL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function One(t){if(!t||!t.options)throw cb("App Configuration Object");if(!t.name)throw cb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw cb(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function db(){return(db=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(lne,{scope:une}),t.swRegistration.update().catch(()=>{})}catch(e){throw St.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function hb(){return(hb=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function nL(t){return db.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function fb(){return(fb=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=GF)})).apply(this,arguments)}function pb(){return pb=m(function*(t,e){if(!navigator)throw St.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw St.create("permission-blocked");return yield function Lne(t,e){return fb.apply(this,arguments)}(t,e?.vapidKey),yield function Fne(t,e){return hb.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Dne(t){return sb.apply(this,arguments)}(t)}),pb.apply(this,arguments)}function gb(){return(gb=m(function*(t,e,n){const r=function Une(t){switch(t){case Ff.NOTIFICATION_CLICKED:return"notification_open";case Ff.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[qF],message_name:n[dne],message_time:n[hne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mb(){return mb=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ff.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(eL(n)):t.onMessageHandler.next(eL(n)));const r=n.data;(function kne(t){return"object"==typeof t&&!!t&&qF in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Vne(t,e,n){return gb.apply(this,arguments)}(t,n.messageType,r))}),mb.apply(this,arguments)}const iL="@firebase/messaging",$ne=t=>{const e=new xne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Bne(t,e){return mb.apply(this,arguments)}(e,n)),e},jne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function rL(t,e){return pb.apply(this,arguments)}(e,r)}};function oL(){return _b.apply(this,arguments)}function _b(){return(_b=m(function*(){try{yield Eu()}catch{return!1}return typeof window<"u"&&Ds()&&lv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hne(){kt(new Dt("messaging",$ne,"PUBLIC")),kt(new Dt("messaging-internal",jne,"PRIVATE")),Se(iL,"0.12.4"),Se(iL,"0.12.4","esm2017")}();const Lf="analytics",Gne="firebase_id",qne="origin",Kne=6e4,Qne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eb="https://www.googletagmanager.com/gtag/js",ft=new Ea("@firebase/analytics"),Gt=new Cr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zne(t){if(!t.startsWith(Eb)){const e=Gt.create("invalid-gtag-resource",{gtagURL:t});return ft.warn(e.message),""}return t}function aL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wb(){return(wb=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield aL(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){ft.error(a)}t("config",i,s)})).apply(this,arguments)}function Cb(){return(Cb=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield aL(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ft.error(s)}})).apply(this,arguments)}const ore=30,lL=new class lre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ure(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function bb(){return(bb=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ure(r)},s=Qne.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Gt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Ib(){return(Ib=m(function*(t,e=lL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Gt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Gt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new pre;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Kne),uL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function uL(t,e,n){return Tb.apply(this,arguments)}function Tb(){return Tb=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=lL){var s;const{appId:o,measurementId:a}=t;try{yield function hre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Gt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function cre(t){return bb.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!function fre(t){if(!(t instanceof Bn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw l}const c=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?dv(n,i.intervalMillis,ore):dv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),ft.debug(`Calling attemptFetch again in ${c} millis`),uL(t,d,r,i)}}),Tb.apply(this,arguments)}class pre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Db,kb;function Sb(){return(Sb=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Ob(){return(Ob=m(function*(){if(!Ds())return ft.warn(Gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Eu()}catch(t){return ft.warn(Gt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function xb(){return xb=m(function*(t,e,n,r,i,s,o){var a;const l=function dre(t){return Ib.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ft.error(f)),e.push(l);const u=function wre(){return Ob.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);(function sre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Eb)&&n.src.includes(t))return n;return null})(s)||function Jne(t,e){const n=function Xne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Zne}),r=document.createElement("script"),i=`${Eb}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,c.measurementId),kb&&(i("consent","default",kb),function cL(t){kb=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[qne]="firebase",h.update=!0,null!=d&&(h[Gne]=d),i("config",c.measurementId,h),Db&&(i("set",Db),function dL(t){Db=t}(void 0)),c.measurementId}),xb.apply(this,arguments)}class bre{constructor(e){this.app=e}_delete(){return delete Tr[this.app.options.appId],Promise.resolve()}}let Tr={},hL=[];const fL={};let gL,Dr,Vf="dataLayer",Fb=!1;function Tre(t,e,n){!function Ire(){const t=[];if(av()&&t.push("This is a browser extension environment."),lv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Gt.create("invalid-analytics-context",{errorInfo:e});ft.warn(n.message)}}();const r=t.options.appId;if(!r)throw Gt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Gt.create("no-api-key");ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tr[r])throw Gt.create("already-exists",{id:r});if(!Fb){!function ere(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Vf);const{wrappedGtag:s,gtagCore:o}=function ire(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function rre(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[l,u]=a;yield function nre(t,e,n,r,i){return Cb.apply(this,arguments)}(t,e,n,l,u)}else if("config"===o){const[l,u]=a;yield function tre(t,e,n,r,i,s){return wb.apply(this,arguments)}(t,e,n,r,l,u)}else if("consent"===o){const[l]=a;t("consent","update",l)}else if("get"===o){const[l,u,c]=a;t("get",l,u,c)}else if("set"===o){const[l]=a;t("set",l)}else t(o,...a)}catch(l){ft.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Tr,hL,fL,Vf,"gtag");Dr=s,gL=o,Fb=!0}return Tr[r]=function Cre(t,e,n,r,i,s,o){return xb.apply(this,arguments)}(t,hL,fL,e,gL,Vf,n),new bre(t)}function Sre(){return Lb.apply(this,arguments)}function Lb(){return(Lb=m(function*(){if(av()||!lv()||!Ds())return!1;try{return yield Eu()}catch{return!1}})).apply(this,arguments)}const mL="@firebase/analytics";!function Mre(){kt(new Dt(Lf,(e,{options:n})=>Tre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),kt(new Dt("analytics-internal",function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,i,s)=>function Are(t,e,n,r){t=$n(t),function gre(t,e,n,r,i){return Sb.apply(this,arguments)}(Dr,Tr[t.app.options.appId],e,n,r).catch(i=>ft.error(i))}(n,r,i,s)}}catch(n){throw Gt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Se(mL,"0.10.0"),Se(mL,"0.10.0","esm2017")}();class Rre extends Yt{constructor(e,n){super()}schedule(e,n=0){return this}}const Uf={setInterval(t,e,...n){const{delegate:r}=Uf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Uf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class yL extends Rre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Uf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Uf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const vL={now:()=>(vL.delegate||Date).now(),delegate:void 0};class ju{constructor(e,n=ju.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ju.now=vL.now;class EL extends ju{constructor(e,n=ju.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const kre=new class Pre extends EL{}(class Nre extends yL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Ore=new EL(yL),Hu=new Bo("7.6.1"),Ub="__angularfire_symbol__analyticsIsSupportedValue",Bb="__angularfire_symbol__analyticsIsSupported",$b="__angularfire_symbol__remoteConfigIsSupportedValue",jb="__angularfire_symbol__remoteConfigIsSupported",Hb="__angularfire_symbol__messagingIsSupportedValue",Wb="__angularfire_symbol__messagingIsSupported";function Bf(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Bb]||(globalThis[Bb]=Sre().then(t=>globalThis[Ub]=t).catch(()=>globalThis[Ub]=!1)),globalThis[Wb]||(globalThis[Wb]=oL().then(t=>globalThis[Hb]=t).catch(()=>globalThis[Hb]=!1)),globalThis[jb]||(globalThis[jb]=Zte().then(t=>globalThis[$b]=t).catch(()=>globalThis[$b]=!1));const $f=(t,e)=>{const n=e?[e]:KO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Aa(){}class wL{constructor(e,n=kre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class xre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)),n.pipe(It({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jf=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wL(Zone.current)),this.insideAngular=n.run(()=>new wL(Zone.current,Ore)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(M(J))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ws(t){return Hs().ngZone.run(()=>t())}function Lre(t){return Hs(),function Vre(t){return function(n){return(n=n.lift(new xre(t.ngZone))).pipe(Fc(t.outsideAngular),xc(t.insideAngular))}}(Hs())(t)}const Ure=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ws(()=>t.apply(void 0,r))},Hf=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)))),r[s]=Ure(r[s],n));const i=function Fre(t){return Hs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ve){const s=Hs();return i.pipe(Fc(s.outsideAngular),xc(s.insideAngular))}return Ws(()=>i)}return i instanceof Ve?i.pipe(Lre):i instanceof Promise?Ws(()=>new Promise((s,o)=>i.then(a=>Ws(()=>s(a)),a=>Ws(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ws(()=>i)};class zs{constructor(e){return e}}class Wf{constructor(){return KO()}}const Gb=new R("angularfire2._apps"),$re={provide:zs,useFactory:function Bre(t){return t&&1===t.length?t[0]:new zs(tf())},deps:[[new it,Gb]]},jre={provide:Wf,deps:[[new it,Gb]]};function Hre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zs(r)}}let Wre=(()=>{class t{constructor(n){Se("angularfire",Hu.full,"core"),Se("angularfire",Hu.full,"app"),Se("angular",v0.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(M(Ri))},t.\u0275mod=yt({type:t}),t.\u0275inj=ut({providers:[$re,jre]}),t})();function zre(t,...e){return{ngModule:Wre,providers:[{provide:Gb,useFactory:Hre(t),multi:!0,deps:[J,Ye,jf,...e]}]}}const Gre=Hf(qO,!0),qb=new Map,CL={activated:!1,tokenObservers:[]},qre={initialized:!1,enabled:!1};function We(t){return qb.get(t)||Object.assign({},CL)}function zf(){return qre}const Kb="https://content-firebaseappcheck.googleapis.com/v1",Zre="exchangeDebugToken",bL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Jre{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new ya,yield function eie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ya,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const At=new Cr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qb(t){if(!We(t).activated)throw At.create("use-before-activation",{appName:t.name})}function Kf(t,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw At.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw At.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw At.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw At.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(l[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}})).apply(this,arguments)}function IL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Kb}/projects/${n}/apps/${r}:${Zre}?key=${i}`,body:{debug_token:e}}}const iie="firebase-app-check-database",sie=1,Wu="firebase-app-check-store";let Qf=null;function Xb(){return(Xb=m(function*(t,e){const r=(yield function DL(){return Qf||(Qf=new Promise((t,e)=>{try{const n=indexedDB.open(iie,sie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(At.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Wu,{keyPath:"compositeKey"})}}catch(n){e(At.create("storage-open",{originalErrorMessage:n?.message}))}}),Qf)}()).transaction(Wu,"readwrite"),s=r.objectStore(Wu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(At.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const zu=new Ea("@firebase/app-check");function tI(t,e){return Ds()?function aie(t,e){return function SL(t,e){return Xb.apply(this,arguments)}(function ML(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{zu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rI(){return zf().enabled}function iI(){return sI.apply(this,arguments)}function sI(){return(sI=m(function*(){const t=zf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fie={error:"UNKNOWN_ERROR"};function pie(t){return Wh.encodeString(JSON.stringify(t),!1)}function Yf(t){return oI.apply(this,arguments)}function oI(){return(oI=m(function*(t,e=!1){const n=t.app;Qb(n);const r=We(n);let s,i=r.token;if(i&&!Ma(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Ma(l)?i=l:yield tI(n,void 0))}if(!e&&i&&Ma(i))return{token:i.token};let a,o=!1;if(rI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Kf(IL(n,yield iI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield tI(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield We(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?zu.warn(l.message):zu.error(l),s=l}return i?s?a=Ma(i)?{token:i.token,internalError:s}:kL(s):(a={token:i.token},r.token=i,yield tI(n,i)):a=kL(s),o&&function PL(t,e){const n=We(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function RL(t){return aI.apply(this,arguments)}function aI(){return(aI=m(function*(t){const e=t.app;Qb(e);const{provider:n}=We(e);if(rI()){const r=yield iI(),{token:i}=yield Kf(IL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function uI(t,e){const n=We(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function NL(t){const{app:e}=t,n=We(e);let r=n.tokenRefresher;r||(r=function gie(t){const{app:e}=t;return new Jre(m(function*(){let r;if(r=We(e).token?yield Yf(t,!0):yield Yf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=We(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},bL.RETRIAL_MIN_WAIT,bL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ma(t){return t.expireTimeMillis-Date.now()>0}function kL(t){return{token:pie(fie),error:t}}class mie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=We(this.app);for(const n of e)uI(this.app,n.next);return Promise.resolve()}}const $L="app-check-internal";!function Rie(){kt(new Dt("app-check",t=>function _ie(t,e){return new mie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($L).initialize()})),kt(new Dt($L,t=>function yie(t){return{getToken:e=>Yf(t,e),getLimitedUseToken:()=>RL(t),addTokenListener:e=>function lI(t,e,n,r){const{app:i}=t,s=We(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ma(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),NL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>NL(t))}(t,"INTERNAL",e),removeTokenListener:e=>uI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Se("@firebase/app-check","0.8.0")}();class Xf{constructor(){return $f("app-check")}}typeof window<"u"&&window;class Gu{constructor(e){return e}}class pI{constructor(){return $f("auth")}}const gI=new R("angularfire2.auth-instances");function Fie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gu(r)}}const Lie={provide:pI,deps:[[new it,gI]]},Vie={provide:Gu,useFactory:function xie(t,e){const n=Bf("auth",t,e);return n&&new Gu(n)},deps:[[new it,gI],zs]};let Uie=(()=>{class t{constructor(){Se("angularfire",Hu.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ut({providers:[Vie,Lie]}),t})();function Bie(t,...e){return{ngModule:Uie,providers:[{provide:gI,useFactory:Fie(t),multi:!0,deps:[J,Ye,jf,Wf,[new it,Xf],...e]}]}}const $ie=Hf(NJ,!0);let jie=(()=>{class t{get wondowRef(){return window}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WL=(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.auth=r,this.windowService=i,this.OTPButton=!1,this.login=this.formBuilder.group({email:["",Fs.required],pass:["",Fs.required]}),r.languageCode="it",this.windowRef=i.wondowRef}google(){qx(this.auth,new Px).then(n=>{console.log(n)})}phone(n){(function FX(t,e,n){return nw.apply(this,arguments)})(this.auth,n,this.windowRef.RecaptchaVerifier).then(r=>{this.windowRef.confirmationResult=r,console.log(r)}).catch(r=>{})}sendOTP(n){this.windowRef.confirmationResult.confirm(n).then(()=>{console.log("login successfully")})}ngAfterViewInit(){this.windowRef.RecaptchaVerifier=new OX("receptcha-container",{size:"normal",callback:()=>{}},this.auth),this.windowRef.RecaptchaVerifier.render()}static#e=this.\u0275fac=function(r){return new(r||t)(C(fF),C(Gu),C(jie))};static#t=this.\u0275cmp=Ur({type:t,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"col-12","login-div-container"],[1,"col-sm-4","text-center","login-div"],[1,"p-2",3,"formGroup"],[1,"login-word"],[1,"form-group"],["type","tel","placeholder","phone",1,"form-control"],["tel",""],["id","receptcha-container"],[1,"btn","btn-login",3,"disabled","click"],["type","tel","placeholder","otp",1,"form-control"],["otp",""],[1,"text-center","btn-login-div"],[1,"btn","btn-login",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[3,"click"],[1,"bi","bi-google","icon-login"],["href",""],[1,"bi","bi-facebook","icon-login"],["routerLink","/sign-up",1,"signUp"]],template:function(r,i){if(1&r){const s=qd();oe(0,"div",0)(1,"div",1)(2,"form",2)(3,"p",3),Pt(4," login"),fe(),oe(5,"div",4),Ze(6,"input",5,6),fe(),Ze(8,"div",7),oe(9,"button",8),Xe("click",function(){ll(s);const a=h_(7);return ul(i.phone(a.value))}),Pt(10,"send Otp"),fe(),oe(11,"div",4),Ze(12,"input",9,10),fe(),oe(14,"div",11)(15,"button",12),Xe("click",function(){ll(s);const a=h_(13);return ul(i.sendOTP(a.value))}),Pt(16,"verify"),fe()(),oe(17,"div",13)(18,"div")(19,"a",14),Xe("click",function(){return i.google()}),Ze(20,"i",15),fe(),oe(21,"a",16),Ze(22,"i",17),fe()(),oe(23,"a",18),Pt(24,"sign up now? "),fe()()()()()}2&r&&($e(2),st("formGroup",i.login),$e(7),st("disabled",i.OTPButton))},dependencies:[vu,jw,Pw,Bu],styles:[".bi[_ngcontent-%COMP%]{margin:15px 10px!important}",".login-div-container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-image:linear-gradient(to right,#107797,#ff9dae)}form[_ngcontent-%COMP%]{border-radius:15px;box-shadow:inset -3px -3px 5px #d3d3d3,inset 3px 3px 5px #d3d3d3;padding:40px 7%!important}.btn-login-div[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;margin-top:20px}.btn-login[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;width:125px;border:none;background-image:linear-gradient(to right,#00c2ff,#ff9cad)}input[_ngcontent-%COMP%]{margin:15px 0;background:transparent!important;color:#fff}input[_ngcontent-%COMP%]:focus{background:transparent;color:#fff}input[_ngcontent-%COMP%]::placeholder{color:#d3d3d3}.icon-login[_ngcontent-%COMP%]{margin:5px;font-size:35px}.bi-facebook[_ngcontent-%COMP%]{color:#00f}.bi-google[_ngcontent-%COMP%]{color:#d1007c}.bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px white}.signUp[_ngcontent-%COMP%]{color:#fff;font-size:17px}.bi[_ngcontent-%COMP%]{margin:15px 20px}a[_ngcontent-%COMP%]:hover   .bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px #44f6ff!important}.login-word[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:Lobster,sans-serif;font-weight:400;font-style:normal;font-size:30px}@media screen and (max-width:700px){.login-div-container[_ngcontent-%COMP%]{display:block;padding-top:185px}form[_ngcontent-%COMP%]{width:96%;margin-left:2%}}"]})}return t})();const Hie=[{path:"",component:WL},{path:"login",component:WL},{path:"sign-up",component:(()=>{class t{constructor(n,r){this.formBuilder=n,this.auth=r,this.signUp=this.formBuilder.group({name:["",Fs.required],phone:["",Fs.required],photo:["",Fs.required],email:["",Fs.required],pass:["",Fs.required]})}google(){qx(this.auth,new Px).then(n=>{console.log(n)})}static#e=this.\u0275fac=function(r){return new(r||t)(C(fF),C(Gu))};static#t=this.\u0275cmp=Ur({type:t,selectors:[["app-sign-up"]],decls:26,vars:1,consts:[[1,"col-12","login-div-container"],[1,"col-sm-4","text-center","login-div"],["action","",1,"p-2",3,"formGroup"],[1,"login-word"],[1,"form-group"],["type","name","placeholder","name","formControlName","name",1,"form-control"],["type","phone","placeholder","phone","formControlName","phone",1,"form-control"],["type","email","placeholder","email","formControlName","email",1,"form-control"],["type","password","placeholder","password","formControlName","pass",1,"form-control"],["type","file","placeholder","file",1,"form-control"],[1,"text-center","btn-login-div"],[1,"btn","btn-login"],[1,"d-flex","justify-content-between","align-items-center"],[3,"click"],[1,"bi","bi-google","icon-login"],["href",""],[1,"bi","bi-facebook","icon-login"],["routerLink","/login",1,"signUp"]],template:function(r,i){1&r&&(oe(0,"div",0)(1,"div",1)(2,"form",2)(3,"p",3),Pt(4," create an accout"),fe(),oe(5,"div",4),Ze(6,"input",5),fe(),oe(7,"div",4),Ze(8,"input",6),fe(),oe(9,"div",4),Ze(10,"input",7),fe(),oe(11,"div",4),Ze(12,"input",8),fe(),oe(13,"div",4),Ze(14,"input",9),fe(),oe(15,"div",10)(16,"button",11),Pt(17,"create"),fe()(),oe(18,"div",12)(19,"div")(20,"a",13),Xe("click",function(){return i.google()}),Ze(21,"i",14),fe(),oe(22,"a",15),Ze(23,"i",16),fe()(),oe(24,"a",17),Pt(25,"login now ? "),fe()()()()()),2&r&&($e(2),st("formGroup",i.signUp))},dependencies:[vu,jw,Cf,k1,Pw,Bu,Gw],styles:["@media screen and (max-width: 700px){.login-div-container[_ngcontent-%COMP%]{padding-top:25px!important}}",".login-div-container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-image:linear-gradient(to right,#107797,#ff9dae)}form[_ngcontent-%COMP%]{border-radius:15px;box-shadow:inset -3px -3px 5px #d3d3d3,inset 3px 3px 5px #d3d3d3;padding:40px 7%!important}.btn-login-div[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;margin-top:20px}.btn-login[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;width:125px;border:none;background-image:linear-gradient(to right,#00c2ff,#ff9cad)}input[_ngcontent-%COMP%]{margin:15px 0;background:transparent!important;color:#fff}input[_ngcontent-%COMP%]:focus{background:transparent;color:#fff}input[_ngcontent-%COMP%]::placeholder{color:#d3d3d3}.icon-login[_ngcontent-%COMP%]{margin:5px;font-size:35px}.bi-facebook[_ngcontent-%COMP%]{color:#00f}.bi-google[_ngcontent-%COMP%]{color:#d1007c}.bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px white}.signUp[_ngcontent-%COMP%]{color:#fff;font-size:17px}.bi[_ngcontent-%COMP%]{margin:15px 20px}a[_ngcontent-%COMP%]:hover   .bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px #44f6ff!important}.login-word[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:Lobster,sans-serif;font-weight:400;font-style:normal;font-size:30px}@media screen and (max-width:700px){.login-div-container[_ngcontent-%COMP%]{display:block;padding-top:185px}form[_ngcontent-%COMP%]{width:96%;margin-left:2%}}"]})}return t})()}];let Wie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({imports:[SO.forRoot(Hie),SO]})}return t})(),zie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ur({type:t,selectors:[["app-z-footer"]],decls:0,vars:0,template:function(r,i){}})}return t})(),Gie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ur({type:t,selectors:[["app-header"]],decls:0,vars:0,template:function(r,i){}})}return t})(),qie=(()=>{class t{constructor(){this.title="Merit-questions"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ur({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Ze(0,"app-header")(1,"router-outlet")(2,"app-z-footer")},dependencies:[Yy,zie,Gie]})}return t})();class zL{}class Kie{}const gi="*";function Qie(t,e){return{type:7,name:t,definitions:e,options:{}}}function GL(t,e=null){return{type:4,styles:e,timings:t}}function qL(t,e=null){return{type:2,steps:t,options:e}}function qu(t){return{type:6,styles:t,offset:null}}function mI(t,e,n){return{type:0,name:t,styles:e,options:n}}function KL(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class Ku{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class QL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}const YL=["toast-component",""];function Yie(t,e){if(1&t){const n=qd();oe(0,"button",5),Xe("click",function(){return ll(n),ul(En().remove())}),oe(1,"span",6),Pt(2,"\xd7"),fe()()}}function Zie(t,e){if(1&t&&(Vl(0),Pt(1),Ul()),2&t){const n=En(2);$e(1),Qr("[",n.duplicatesCount+1,"]")}}function Xie(t,e){if(1&t&&(oe(0,"div"),Pt(1),vn(2,Zie,2,1,"ng-container",4),fe()),2&t){const n=En();Kr(n.options.titleClass),nn("aria-label",n.title),$e(1),Qr(" ",n.title," "),$e(1),st("ngIf",n.duplicatesCount)}}function Jie(t,e){if(1&t&&Ze(0,"div",7),2&t){const n=En();Kr(n.options.messageClass),st("innerHTML",n.message,Cm)}}function ese(t,e){if(1&t&&(oe(0,"div",8),Pt(1),fe()),2&t){const n=En();Kr(n.options.messageClass),nn("aria-label",n.message),$e(1),Qr(" ",n.message," ")}}function tse(t,e){if(1&t&&(oe(0,"div"),Ze(1,"div",9),fe()),2&t){const n=En();$e(1),ea("width",n.width+"%")}}class lse{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class use{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class cse{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new at;_activate=new at;_manualClose=new at;_resetTimeout=new at;_countDuplicate=new at;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class Jf{toastId;config;message;title;toastType;toastRef;_onTap=new at;_onAction=new at;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const XL=new R("ToastConfig");class dse extends use{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hse=(()=>{class t{_document=A(ct);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class fse{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let pse=(()=>{class t{_overlayContainer=A(hse);_componentFactoryResolver=A(Sl);_appRef=A(Xr);_document=A(ct);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new dse(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new fse(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JL=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...n.default,...n.config},n.config.iconClasses&&(this.toastrConfig.iconClasses={...n.default.iconClasses,...n.config.iconClasses})}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===n)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(n={}){return{...this.toastrConfig,...n}}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(mn.HTML,r));const c=new cse(l),d=new Jf(this.index,s,u,i,n,c),f=Ye.create({providers:[{provide:Jf,useValue:d}],parent:this._injector}),p=new lse(s.toastComponent,f),g=l.attach(p,s.newestOnTop);c.componentInstance=g.instance;const _={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}static \u0275fac=function(r){return new(r||t)(M(XL),M(pse),M(Ye),M(_k),M(J))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gse={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(C(JL),C(Jf),C(J))};static \u0275cmp=Ur({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&Xe("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(v_("@flyInOut",i.state),Kr(i.toastClasses),ea("display",i.displayStyle))},standalone:!0,features:[th],attrs:YL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(vn(0,Yie,3,0,"button",0),vn(1,Xie,3,5,"div",1),vn(2,Jie,1,3,"div",2),vn(3,ese,2,4,"div",3),vn(4,tse,2,2,"div",4)),2&r&&(st("ngIf",i.options.closeButton),$e(1),st("ngIf",i.title),$e(1),st("ngIf",i.message&&i.options.enableHtml),$e(1),st("ngIf",i.message&&!i.options.enableHtml),$e(1),st("ngIf",i.options.progressBar))},dependencies:[_y],encapsulation:2,data:{animation:[Qie("flyInOut",[mI("inactive",qu({opacity:0})),mI("active",qu({opacity:1})),mI("removed",qu({opacity:0})),KL("inactive => active",GL("{{ easeTime }}ms {{ easing }}")),KL("active => removed",GL("{{ easeTime }}ms {{ easing }}"))])]}})}return t})()},mse=(t={})=>function Im(t){return{\u0275providers:t}}([{provide:XL,useValue:{default:gse,config:t}}]);let _se=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[mse(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=yt({type:t});static \u0275inj=ut({})}return t})();function eV(t){return new E(3e3,!1)}function qi(t){switch(t.length){case 0:return new Ku;case 1:return t[0];default:return new QL(t)}}function tV(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),c=u==o,d=c&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case gi:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=u}),i.length)throw function Bse(t){return new E(3502,!1)}();return s}function yI(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&vI(n,"start",t)));break;case"done":t.onDone(()=>r(n&&vI(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&vI(n,"destroy",t)))}}function vI(t,e,n){const s=EI(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function EI(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function bn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function nV(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Xse=(()=>typeof document>"u"?null:document.documentElement)();function wI(t){const e=t.parentNode||t.host||null;return e===Xse?null:e}let Gs=null,rV=!1;function iV(t,e){for(;e;){if(e===t)return!0;e=wI(e)}return!1}function sV(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let oV=(()=>{class t{validateStyleProperty(n){return function eoe(t){Gs||(Gs=function toe(){return typeof document<"u"?document.body:null}()||{},rV=!!Gs.style&&"WebkitAppearance"in Gs.style);let e=!0;return Gs.style&&!function Jse(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Gs.style,!e&&rV&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Gs.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return iV(n,r)}getParentElement(n){return wI(n)}query(n,r,i){return sV(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new Ku(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),CI=(()=>{class t{static#e=this.NOOP=new oV}return t})();const noe=1e3,bI="ng-enter",ep="ng-leave",tp="ng-trigger",np=".ng-trigger",lV="ng-animating",II=".ng-animating";function mi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TI(parseFloat(e[1]),e[2])}function TI(t,e){return"s"===e?t*noe:t}function rp(t,e,n){return t.hasOwnProperty("duration")?t:function ioe(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(eV()),{duration:0,delay:0,easing:""};i=TI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=TI(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function yse(){return new E(3100,!1)}()),a=!0),s<0&&(e.push(function vse(){return new E(3101,!1)}()),a=!0),a&&e.splice(l,0,eV())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Qu(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function uV(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Ki(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Sr(t,e,n){e.forEach((r,i)=>{const s=SI(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function qs(t,e){e.forEach((n,r)=>{const i=SI(r);t.style[i]=""})}function Yu(t){return Array.isArray(t)?1==t.length?t[0]:qL(t):t}const DI=new RegExp("{{\\s*(.+?)\\s*}}","g");function dV(t){let e=[];if("string"==typeof t){let n;for(;n=DI.exec(t);)e.push(n[1]);DI.lastIndex=0}return e}function Zu(t,e,n){const r=t.toString(),i=r.replace(DI,(s,o)=>{let a=e[o];return null==a&&(n.push(function wse(t){return new E(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function ip(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const aoe=/-+([a-z0-9])/g;function SI(t){return t.replace(aoe,(...e)=>e[1].toUpperCase())}function In(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function Cse(t){return new E(3004,!1)}()}}function hV(t,e){return window.getComputedStyle(t)[e]}const sp="*";function coe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function doe(t,e,n){if(":"==t[0]){const l=function hoe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Fse(t){return new E(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function xse(t){return new E(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(fV(i,o));"<"==s[0]&&!(i==sp&&o==sp)&&e.push(fV(o,i))}(r,n,e)):n.push(t),n}const op=new Set(["true","1"]),ap=new Set(["false","0"]);function fV(t,e){const n=op.has(t)||ap.has(t),r=op.has(e)||ap.has(e);return(i,s)=>{let o=t==sp||t==i,a=e==sp||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?op.has(t):ap.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?op.has(e):ap.has(e)),o&&a}}const foe=new RegExp("s*:selfs*,?","g");function AI(t,e,n,r){return new poe(t).build(e,n,r)}class poe{constructor(e){this._driver=e}build(e,n,r){const i=new _oe(n);return this._resetContextStyleTimingState(i),In(this,Yu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function Ise(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,n))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function Tse(){return new E(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{dV(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(ip(s.values()),n.errors.push(function Dse(t,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=In(this,Yu(e.animation),n);return{type:1,matchers:coe(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ks(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>In(this,r,n)),options:Ks(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=In(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Ks(e.options)}}visitAnimate(e,n){const r=function voe(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return MI(rp(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=MI(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=rp(n,e);return MI(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:qu({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=qu(u)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===gi?r.push(a):n.errors.push(new E(3002,!1)):r.push(uV(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(n.errors.push(function Ase(t,e,n,r,i){return new E(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),n.options&&function ooe(t,e,n){const r=e.params||{},i=dV(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Ese(t){return new E(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Mse(){return new E(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=e.steps.map(v=>{const y=this._makeStyleAst(v,n);let b=null!=y.offset?y.offset:function yoe(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),I=0;return null!=b&&(s++,I=y.offset=b),l=l||I<0||I>1,a=a||I<u,u=I,o.push(I),y});l&&n.errors.push(function Rse(){return new E(3012,!1)}()),a&&n.errors.push(function Nse(){return new E(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function Pse(){return new E(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,_=g.duration;return c.forEach((v,y)=>{const b=h>0?y==f?1:h*y:o[y],I=b*_;n.currentTime=p+g.delay+I,g.duration=I,this._validateStyleAst(v,n),v.offset=b,r.styles.push(v)}),r}visitReference(e,n){return{type:8,animation:In(this,Yu(e.animation),n),options:Ks(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Ks(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Ks(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function goe(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(foe,"")),t=t.replace(/@\*/g,np).replace(/@\w+/g,n=>np+"-"+n.slice(1)).replace(/:animating/g,II),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,bn(n.collectedStyles,n.currentQuerySelector,new Map);const a=In(this,Yu(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ks(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function kse(){return new E(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rp(e.timings,n.errors,!0);return{type:12,animation:In(this,Yu(e.animation),n),timings:r,options:null}}}class _oe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ks(t){return t?(t=Qu(t)).params&&(t.params=function moe(t){return t?Qu(t):null}(t.params)):t={},t}function MI(t,e,n){return{duration:t,delay:e,easing:n}}function RI(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class lp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Coe=new RegExp(":enter","g"),Ioe=new RegExp(":leave","g");function NI(t,e,n,r,i,s=new Map,o=new Map,a,l,u=[]){return(new Toe).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class Toe{buildKeyframes(e,n,r,i,s,o,a,l,u,c=[]){u=u||new lp;const d=new PI(e,n,u,i,s,c,[]);d.options=l;const h=l.delay?mi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),In(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===n){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[RI(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:mi(Zu(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?mi(r.duration):null,a=null!=r.delay?mi(r.delay):null;return 0!==o&&e.forEach(l=>{const u=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),In(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=up);const o=mi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>In(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?mi(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),In(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return rp(n.params?Zu(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?mi(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=up);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{n.currentQueryIndex=c;const d=n.createSubContext(e.options,u);s&&d.delayNextStep(s),u===n.element&&(l=d.currentTimeline),In(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=n.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;In(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const up={};class PI{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=up,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new cp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=mi(r.duration)),null!=r.delay&&(i.delay=mi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Zu(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new PI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=up,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Doe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Coe,"."+this._enterClassName)).replace(Ioe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function Ose(t){return new E(3014,!1)}()),a}}class cp{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new cp(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||gi),this._currentKeyframe.set(n,gi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function Soe(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,gi)}else Ki(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=Zu(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??gi),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Ki(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?e.add(d):c===gi&&n.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=e.size?ip(e.values()):[],o=n.size?ip(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return RI(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Doe extends cp{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=Ki(e[0]);l.set("offset",0),s.push(l);const u=Ki(e[0]);u.set("offset",mV(a)),s.push(u);const c=e.length-1;for(let d=1;d<=c;d++){let h=Ki(e[d]);const f=h.get("offset");h.set("offset",mV((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return RI(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function mV(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class kI{}const Aoe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Moe extends kI{normalizePropertyName(e,n){return SI(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(Aoe.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function bse(t,e){return new E(3005,!1)}())}return o+s}}function _V(t,e,n,r,i,s,o,a,l,u,c,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const OI={};class yV{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function Roe(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,u,c){const d=[],h=this.ast.options&&this.ast.options.params||OI,p=this.buildStyles(r,a&&a.params||OI,d),g=l&&l.params||OI,_=this.buildStyles(i,g,d),v=new Set,y=new Map,b=new Map,I="void"===i,k={params:Noe(g,h),delay:this.ast.options?.delay},X=c?[]:NI(e,n,this.ast.animation,s,o,p,_,k,u,d);let se=0;if(X.forEach(Ke=>{se=Math.max(Ke.duration+Ke.delay,se)}),d.length)return _V(n,this._triggerName,r,i,I,p,_,[],[],y,b,se,d);X.forEach(Ke=>{const Sn=Ke.element,Jp=bn(y,Sn,new Set);Ke.preStyleProps.forEach(oo=>Jp.add(oo));const Mc=bn(b,Sn,new Set);Ke.postStyleProps.forEach(oo=>Mc.add(oo)),Sn!==n&&v.add(Sn)});const Pe=ip(v.values());return _V(n,this._triggerName,r,i,I,p,_,X,Pe,y,b,se)}}function Noe(t,e){const n=Qu(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class Poe{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Qu(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Zu(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class Ooe{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Poe(i.style,i.options&&i.options.params||{},r))}),vV(this.states,"true","1"),vV(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new yV(e,i,this.states))}),this.fallbackTransition=function xoe(t,e,n){return new yV(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function vV(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Foe=new lp;class Loe{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=AI(this._driver,n,r,[]);if(r.length)throw function $se(t){return new E(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=tV(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=NI(this._driver,n,s,bI,ep,new Map,new Map,r,Foe,i),o.forEach(c=>{const d=bn(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function jse(){return new E(3300,!1)}()),o=[]),i.length)throw function Hse(t){return new E(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,gi))})});const u=qi(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function Wse(t){return new E(3301,!1)}();return n}listen(e,n,r,i){const s=EI(n,"","","");return yI(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const EV="ng-animate-queued",xI="ng-animate-disabled",joe=[],wV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hoe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tr="__ng_removed";class FI{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function qoe(t){return t??null}(r?e.value:e),r){const s=Qu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Xu="void",LI=new FI(Xu);class Woe{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Hn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function zse(t,e){return new E(3302,!1)}();if(null==r||0==r.length)throw function Gse(t){return new E(3303,!1)}();if(!function Koe(t){return"start"==t||"done"==t}(r))throw function qse(t,e){return new E(3400,!1)}();const s=bn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=bn(this._engine.statesByElement,e,new Map);return a.has(n)||(Hn(e,tp),Hn(e,tp+"-"+n),a.set(n,LI)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Kse(t){return new E(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new VI(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Hn(e,tp),Hn(e,tp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const u=new FI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=LI),u.value!==Xu&&l.value===u.value){if(!function Zoe(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,u.params)){const g=[],_=s.matchStyles(l.value,l.params,g),v=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{qs(e,_),Sr(e,v)})}return}const h=bn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(Hn(e,EV),o.onStart(()=>{Ra(e,EV)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,np,!0);r.forEach(i=>{if(i[tr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(e,u,Xu,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&qi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||LI,c=new FI(Xu),d=new VI(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[tr];(!s||s===wV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Hn(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=EI(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,yI(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class zoe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new Woe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(dp(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!dp(n))return;const s=n[tr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Hn(e,xI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ra(e,xI))}removeNode(e,n,r){if(dp(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[tr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return dp(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,np,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,II,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return qi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[tr];if(n&&n.setForRemoval){if(e[tr]=wV,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(xI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Hn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?qi(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Qse(t){return new E(3402,!1)}()}_flushAnimations(e,n){const r=new lp,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(P=>{c.add(P);const O=this.driver.query(P,".ng-animate-queued",!0);for(let x=0;x<O.length;x++)c.add(O[x])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=IV(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((P,O)=>{const x=bI+g++;p.set(O,x),P.forEach(ne=>Hn(ne,x))});const _=[],v=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const O=this.collectedLeaveElements[P],x=O[tr];x&&x.setForRemoval&&(_.push(O),v.add(O),x.hasAnimation?this.driver.query(O,".ng-star-inserted",!0).forEach(ne=>v.add(ne)):y.add(O))}const b=new Map,I=IV(h,Array.from(v));I.forEach((P,O)=>{const x=ep+g++;b.set(O,x),P.forEach(ne=>Hn(ne,x))}),e.push(()=>{f.forEach((P,O)=>{const x=p.get(O);P.forEach(ne=>Ra(ne,x))}),I.forEach((P,O)=>{const x=b.get(O);P.forEach(ne=>Ra(ne,x))}),_.forEach(P=>{this.processLeaveNode(P)})});const k=[],X=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(n).forEach(x=>{const ne=x.player,mt=x.element;if(k.push(ne),this.collectedEnterElements.length){const Ft=mt[tr];if(Ft&&Ft.setForMove){if(Ft.previousTriggersValues&&Ft.previousTriggersValues.has(x.triggerName)){const ao=Ft.previousTriggersValues.get(x.triggerName),zn=this.statesByElement.get(x.element);if(zn&&zn.has(x.triggerName)){const eg=zn.get(x.triggerName);eg.value=ao,zn.set(x.triggerName,eg)}}return void ne.destroy()}}const xr=!d||!this.driver.containsElement(d,mt),An=b.get(mt),ss=p.get(mt),Le=this._buildInstruction(x,r,ss,An,xr);if(Le.errors&&Le.errors.length)return void X.push(Le);if(xr)return ne.onStart(()=>qs(mt,Le.fromStyles)),ne.onDestroy(()=>Sr(mt,Le.toStyles)),void i.push(ne);if(x.isFallbackTransition)return ne.onStart(()=>qs(mt,Le.fromStyles)),ne.onDestroy(()=>Sr(mt,Le.toStyles)),void i.push(ne);const hB=[];Le.timelines.forEach(Ft=>{Ft.stretchStartingKeyframe=!0,this.disabledNodes.has(Ft.element)||hB.push(Ft)}),Le.timelines=hB,r.append(mt,Le.timelines),o.push({instruction:Le,player:ne,element:mt}),Le.queriedElements.forEach(Ft=>bn(a,Ft,[]).push(ne)),Le.preStyleProps.forEach((Ft,ao)=>{if(Ft.size){let zn=l.get(ao);zn||l.set(ao,zn=new Set),Ft.forEach((eg,dD)=>zn.add(dD))}}),Le.postStyleProps.forEach((Ft,ao)=>{let zn=u.get(ao);zn||u.set(ao,zn=new Set),Ft.forEach((eg,dD)=>zn.add(dD))})});if(X.length){const P=[];X.forEach(O=>{P.push(function Yse(t,e){return new E(3505,!1)}())}),k.forEach(O=>O.destroy()),this.reportError(P)}const se=new Map,Pe=new Map;o.forEach(P=>{const O=P.element;r.has(O)&&(Pe.set(O,O),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,se))}),i.forEach(P=>{const O=P.element;this._getPreviousPlayers(O,!1,P.namespaceId,P.triggerName,null).forEach(ne=>{bn(se,O,[]).push(ne),ne.destroy()})});const Ke=_.filter(P=>DV(P,l,u)),Sn=new Map;bV(Sn,this.driver,y,u,gi).forEach(P=>{DV(P,l,u)&&Ke.push(P)});const Mc=new Map;f.forEach((P,O)=>{bV(Mc,this.driver,new Set(P),l,"!")}),Ke.forEach(P=>{const O=Sn.get(P),x=Mc.get(P);Sn.set(P,new Map([...O?.entries()??[],...x?.entries()??[]]))});const oo=[],cB=[],dB={};o.forEach(P=>{const{element:O,player:x,instruction:ne}=P;if(r.has(O)){if(c.has(O))return x.onDestroy(()=>Sr(O,ne.toStyles)),x.disabled=!0,x.overrideTotalTime(ne.totalTime),void i.push(x);let mt=dB;if(Pe.size>1){let An=O;const ss=[];for(;An=An.parentNode;){const Le=Pe.get(An);if(Le){mt=Le;break}ss.push(An)}ss.forEach(Le=>Pe.set(Le,mt))}const xr=this._buildAnimation(x.namespaceId,ne,se,s,Mc,Sn);if(x.setRealPlayer(xr),mt===dB)oo.push(x);else{const An=this.playersByElement.get(mt);An&&An.length&&(x.parentPlayer=qi(An)),i.push(x)}}else qs(O,ne.fromStyles),x.onDestroy(()=>Sr(O,ne.toStyles)),cB.push(x),c.has(O)&&i.push(x)}),cB.forEach(P=>{const O=s.get(P.element);if(O&&O.length){const x=qi(O);P.setRealPlayer(x)}}),i.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<_.length;P++){const O=_[P],x=O[tr];if(Ra(O,ep),x&&x.hasAnimation)continue;let ne=[];if(a.size){let xr=a.get(O);xr&&xr.length&&ne.push(...xr);let An=this.driver.query(O,II,!0);for(let ss=0;ss<An.length;ss++){let Le=a.get(An[ss]);Le&&Le.length&&ne.push(...Le)}}const mt=ne.filter(xr=>!xr.destroyed);mt.length?Qoe(this,O,mt):this.processLeaveNode(O)}return _.length=0,oo.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const O=this.players.indexOf(P);this.players.splice(O,1)}),P.play()}),oo}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Xu;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,c=u!==s,d=bn(r,u,[]);this._getPreviousPlayers(u,c,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}qs(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,l=n.element,u=[],c=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;c.add(g);const _=g[tr];if(_&&_.removedBeforeQueried)return new Ku(p.duration,p.delay);const v=g!==l,y=function Yoe(t){const e=[];return TV(t,e),e}((r.get(g)||joe).map(se=>se.getRealPlayer())).filter(se=>!!se.element&&se.element===g),b=s.get(g),I=o.get(g),k=tV(this._normalizer,p.keyframes,b,I),X=this._buildPlayer(p,k,y);if(p.subTimeline&&i&&d.add(g),v){const se=new VI(e,a,g);se.setRealPlayer(X),u.push(se)}return X});u.forEach(p=>{bn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Goe(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Hn(p,lV));const f=qi(h);return f.onDestroy(()=>{c.forEach(p=>Ra(p,lV)),Sr(l,n.toStyles)}),d.forEach(p=>{bn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Ku(e.duration,e.delay)}}class VI{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Ku,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>yI(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){bn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function dp(t){return t&&1===t.nodeType}function CV(t,e){const n=t.style.display;return t.style.display=e??"none",n}function bV(t,e,n,r,i){const s=[];n.forEach(l=>s.push(CV(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const h=e.computeStyle(u,d,i);c.set(d,h),(!h||0==h.length)&&(u[tr]=Hoe,o.push(u))}),t.set(u,c)});let a=0;return n.forEach(l=>CV(l,s[a++])),o}function IV(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Hn(t,e){t.classList?.add(e)}function Ra(t,e){t.classList?.remove(e)}function Qoe(t,e,n){qi(n).onDone(()=>t.processLeaveNode(e))}function TV(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof QL?TV(r.players,e):e.push(r)}}function DV(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class hp{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new zoe(e,n,r),this._timelineEngine=new Loe(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=AI(this._driver,s,l,[]);if(l.length)throw function Use(t,e){return new E(3404,!1)}();a=function koe(t,e,n){return new Ooe(t,e,n)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=nV(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=nV(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Joe=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(qs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qs(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return t})();function UI(t){let e=null;return t.forEach((n,r)=>{(function eae(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class SV{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:hV(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class tae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return iV(e,n)}getParentElement(e){return wI(e)}query(e,n,r){return sV(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(f=>f instanceof SV);(function loe(t,e){return 0===t||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function soe(t){return t.length?t[0]instanceof Map?t:t.map(e=>uV(e)):[]}(n).map(f=>Ki(f));d=function uoe(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,hV(t,a)))}}return e}(e,d,u);const h=function Xoe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=UI(e[0]),e.length>1&&(r=UI(e[e.length-1]))):e instanceof Map&&(n=UI(e)),n||r?new Joe(t,n,r):null}(e,d);return new SV(e,d,l,h)}}let nae=(()=>{class t extends zL{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:Nn.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?qL(n):n;return AV(this._renderer,null,r,"register",[i]),new rae(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(M(Al),M(ct))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class rae extends Kie{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new iae(this._id,e,n||{},this._renderer)}}class iae{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return AV(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function AV(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const MV="@.disabled";let sae=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new RV("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,n,c.name,c)};return r.data.animation.forEach(l),new oae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(M(Al),M(hp),M(J))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class RV{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==MV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class oae extends RV{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==MV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function aae(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function lae(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}const NV=[{provide:zL,useClass:nae},{provide:kI,useFactory:function cae(){return new Moe}},{provide:hp,useClass:(()=>{class t extends hp{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(M(ct),M(CI),M(kI),M(Xr))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})()},{provide:Al,useFactory:function dae(t,e,n){return new sae(t,e,n)},deps:[My,hp,J]}],BI=[{provide:CI,useFactory:()=>new tae},{provide:h0,useValue:"BrowserAnimations"},...NV],PV=[{provide:CI,useClass:oV},{provide:h0,useValue:"NoopAnimations"},...NV];let hae=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?PV:BI}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t});static#n=this.\u0275inj=ut({providers:BI,imports:[fk]})}return t})();const fae_firebase={projectId:"studying-at-university",appId:"1:452521654922:web:2458d5c4693cdd6fc44b73",databaseURL:"https://studying-at-university-default-rtdb.firebaseio.com",storageBucket:"studying-at-university.appspot.com",locationId:"us-central",apiKey:"AIzaSyD_1FF6DNJ0cPzdbQbXA4r8xxzMMaGg3H0",authDomain:"studying-at-university.firebaseapp.com",messagingSenderId:"452521654922",measurementId:"G-7RFQKTKWX5"},kV="@firebase/database";let $I="";class gae{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:wu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const xV=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gae(e)}}catch{}return new mae},Qs=xV("localStorage"),jI=xV("sessionStorage"),Na=new Ea("@firebase/database"),FV=function(){let t=1;return function(){return t++}}(),LV=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new PQ;n.update(e);const r=n.digest();return Wh.encodeByteArray(r)},Ju=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ju.apply(null,r):e+="object"==typeof r?Tt(r):r,e+=" "}return e};let Ys=null,VV=!0;const pt=function(...t){if(!0===VV&&(VV=!1,null===Ys&&!0===jI.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Na.logLevel=ge.VERBOSE,Ys=Na.log.bind(Na),e&&jI.set("logging_enabled",!0)):"function"==typeof t?Ys=t:(Ys=null,jI.remove("logging_enabled"))}(!0)),Ys){const e=Ju.apply(null,t);Ys(e)}},ec=function(t){return function(...e){pt(t,...e)}},HI=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ju(...t);Na.error(e)},Ar=function(...t){const e=`FIREBASE FATAL ERROR: ${Ju(...t)}`;throw Na.error(e),new Error(e)},xt=function(...t){const e="FIREBASE WARNING: "+Ju(...t);Na.warn(e)},pp=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Qi="[MIN_NAME]",_i="[MAX_NAME]",Zs=function(t,e){if(t===e)return 0;if(t===Qi||e===_i)return-1;if(e===Qi||t===_i)return 1;{const n=jV(t),r=jV(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},vae=function(t,e){return t===e?0:t<e?-1:1},tc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tt(e))},WI=function(t){if("object"!=typeof t||null===t)return Tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Tt(e[r]),n+=":",n+=WI(t[e[r]]);return n+="}",n},BV=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $V=function(t){D(!pp(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},bae=new RegExp("^-?(0*)\\d{1,10}$"),jV=function(t){if(bae.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Pa=function(t){try{t()}catch(e){setTimeout(()=>{throw xt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},nc=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Sae{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Aae{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}let rc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const qV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,YV="websocket",ZV="long_polling";class GI{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qs.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function XV(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===YV)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ZV)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Mae(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return gt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Rae{constructor(){this.counters_={}}incrementCounter(e,n=1){si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return vQ(this.counters_)}}const qI={},KI={};function QI(t){const e=t.toString();return qI[e]||(qI[e]=new Rae),qI[e]}class Pae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ec(e),this.stats_=QI(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),XV(n,ZV,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new YI((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&qV.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yi.forceAllow_=!0}static forceDisallow(){Yi.forceDisallow_=!0}static isAvailable(){return!(!Yi.forceAllow_&&(Yi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NO(n),i=BV(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class YI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=YI.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){pt("frame writing exception"),a.stack&&pt(a.stack),pt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let mp=null;typeof MozWebSocket<"u"?mp=MozWebSocket:typeof WebSocket<"u"&&(mp=WebSocket);let ka=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ec(this.connId),this.stats_=QI(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&qV.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),XV(n,YV,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qs.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new mp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==mp&&!t.forceDisallow_}static previouslyFailed(){return Qs.isInMemoryStorage||!0===Qs.get("previous_websocket_failure")}markConnectionHealthy(){Qs.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=wu(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Tt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=BV(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),sU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Yi,ka]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ka&&ka.isAvailable();let i=r&&!ka.previouslyFailed();if(n.webSocketOnly&&(r||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ka];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class hU{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ec("c:"+this.id+":"),this.transportManager_=new sU(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=nc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=tc("t",e),r=tc("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=tc("t",e),r=tc("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=tc("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?HI("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HI("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),nc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fU{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class pU{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class _p extends pU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ov()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _p}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ce{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new ce("")}function q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zi(t){return t.pieces_.length-t.pieceNum_}function ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ce(t.pieces_,e)}function XI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ic(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _U(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ce(e,0)}function Re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function qt(t,e){const n=q(t),r=q(e);if(null===n)return e;if(n===r)return qt(ve(t),ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function JI(t,e){if(Zi(t)!==Zi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zi(t)>Zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class tle{constructor(e,n){this.errorPrefix_=n,this.parts_=ic(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xh(this.parts_[r]);yU(this)}}function yU(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xs(t))}function Xs(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class eT extends pU{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new eT}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const sc=1e3;let vp,Js=(()=>{class t extends fU{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=ec("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eT.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&_p.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Tt(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new ya,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&si(n,"w")){const i=va(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Kh(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Kh(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Tt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):HI("Unrecognized action received from server: "+Tt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,s())};n.realtime_={close:c,sendRequest:function(f){D(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new hU(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{xt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&xt(f),c())}}})()}interrupt(n){pt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],uv(this.interruptReasons_)&&(this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>WI(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ce(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){pt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){pt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+$I.replace(/\./g,"-")]=1,ov()?n["framework.cordova"]=1:VO()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=_p.getInstance().currentlyOnline();return uv(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}class yp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(Qi,e),i=new Q(Qi,n);return 0!==this.compare(r,i)}minPost(){return Q.MIN}}class wU extends yp{static get __EMPTY_NODE(){return vp}static set __EMPTY_NODE(e){vp=e}compare(e,n){return Zs(e.name,n.name)}isDefinedOn(e){throw _a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(_i,vp)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new Q(e,vp)}toString(){return".key"}}const Mr=new wU;class Ep{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let nT,nr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??ln.EMPTY_NODE,this.right=o??ln.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return ln.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ln{constructor(e,n=ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nr.BLACK,null,null))}remove(e){return new ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ep(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ep(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ep(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ep(this.root_,null,this.comparator_,!0,e)}}function ule(t,e){return Zs(t.name,e.name)}function tT(t,e){return Zs(t,e)}ln.EMPTY_NODE=new class lle{copy(e,n,r,i,s){return this}insert(e,n,r){return new nr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const CU=function(t){return"number"==typeof t?"number:"+$V(t):"string:"+t},bU=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&si(e,".sv"),"Priority must be a string or number.")}else D(t===nT||t.isEmpty(),"priority of unexpected type.");D(t===nT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let IU,TU,DU,Oa=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bU(this.priorityNode_)}static set __childrenNodeConstructor(n){IU=n}static get __childrenNodeConstructor(){return IU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:".priority"===q(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=q(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Zi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+CU(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?$V(this.value_):this.value_,this.lazyHash_=LV(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+r),D(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Te=new class fle extends yp{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Zs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(_i,new Oa("[PRIORITY-POST]",DU))}makePost(e,n){const r=TU(e);return new Q(n,new Oa("[PRIORITY-POST]",r))}toString(){return".priority"}},ple=Math.log(2);class gle{constructor(e){this.count=parseInt(Math.log(e+1)/ple,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new nr(h,d.node,nr.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new nr(h,d.node,nr.BLACK,p,g)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const _=d-p,v=d;d-=p;const y=i(_+1,v),b=t[_],I=n?n(b):b;f(new nr(I,b.node,g,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,nr.BLACK):(h(_,nr.BLACK),h(_,nr.RED))}return c}(new gle(t.length));return new ln(r||e,a)};let rT;const xa={};class yi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(xa&&Te,"ChildrenNode.ts has not been loaded"),rT=rT||new yi({".priority":xa},{".priority":Te}),rT}get(e){const n=va(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ln?n:null}hasIndex(e){return si(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Q.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?wp(r,e.getCompare()):xa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new yi(c,u)}addToIndexes(e,n){const r=Qh(this.indexes_,(i,s)=>{const o=va(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===xa){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Q.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),wp(a,o.getCompare())}return xa}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new yi(r,this.indexSet_)}removeFromIndexes(e,n){const r=Qh(this.indexes_,i=>{if(i===xa)return i;{const s=n.get(e.name);return s?i.remove(new Q(e.name,s)):i}});return new yi(r,this.indexSet_)}}let oc,z=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bU(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oc||(oc=new t(new ln(tT),null,yi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?oc:r}}getChild(n){const r=q(n);return null===r?this:this.getImmediateChild(r).getChild(ve(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Q(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?oc:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=q(n);if(null===i)return r;{D(".priority"!==q(n)||1===Zi(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ve(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Te,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+CU(this.getPriority().val())+":"),this.forEachChild(Te,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":LV(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Q(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,Q.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,Q.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ac?-1:0}withIndex(n){if(n===Mr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Mr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Te),s=r.getIterator(Te);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Mr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const ac=new class mle extends z{constructor(){super(new ln(tT),z.EMPTY_NODE,yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Q,{MIN:{value:new Q(Qi,z.EMPTY_NODE)},MAX:{value:new Q(_i,ac)}}),wU.__EMPTY_NODE=z.EMPTY_NODE,Oa.__childrenNodeConstructor=z,function cle(t){nT=t}(ac),function hle(t){DU=t}(ac);const _le=!0;function xe(t,e=null){if(null===t)return z.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Oa(t,xe(e));if(t instanceof Array||!_le){let n=z.EMPTY_NODE;return gt(t,(r,i)=>{if(si(t,r)&&"."!==r.substring(0,1)){const s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(e))}{const n=[];let r=!1;if(gt(t,(o,a)=>{if("."!==o.substring(0,1)){const l=xe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(o,l)))}}),0===n.length)return z.EMPTY_NODE;const s=wp(n,ule,o=>o.name,tT);if(r){const o=wp(n,Te.getCompare());return new z(s,xe(e),new yi({".priority":o},{".priority":Te}))}return new z(s,xe(e),yi.Default)}}!function dle(t){TU=t}(xe);class iT extends yp{constructor(e){super(),this.indexPath_=e,D(!K(e)&&".priority"!==q(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Zs(e.name,n.name):s}makePost(e,n){const r=xe(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,ac);return new Q(_i,e)}toString(){return ic(this.indexPath_,0).join("/")}}const sT=new class yle extends yp{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Zs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=xe(e);return new Q(n,r)}toString(){return".value"}};function uc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class aT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){const e=new aT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function AU(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Te?n="$priority":t.index_===sT?n="$value":t.index_===Mr?n="$key":(D(t.index_ instanceof iT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function MU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Te&&(e.i=t.index_.toString()),e}class bp extends fU{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ec("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=bp.getListenId_(e,r),a={};this.listens_[o]=a;const l=AU(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(s,d,!1,r),va(this.listens_,o)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=bp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=AU(e._queryParams),r=e._path.toString(),i=new ya;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ss(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wu(a.responseText)}catch{xt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&xt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Dle{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Ip(){return{value:null,children:new Map}}function La(t,e,n){if(K(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=q(e);t.children.has(r)||t.children.set(r,Ip()),La(t.children.get(r),e=ve(e),n)}}function dT(t,e,n){null!==t.value?n(e,t.value):function Sle(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{dT(i,new ce(e.toString()+"/"+r),n)})}class Ale{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Nle{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ale(e);const r=1e4+2e4*Math.random();nc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;gt(e,(i,s)=>{s>0&&si(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),nc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Rr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Rr||{});function pT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Tp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(K(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ce(e));return new Tp(ie(),n,this.revert)}}return D(q(this.path)===e,"operationForChild called for unrelated child."),new Tp(ve(this.path),this.affectedTree,this.revert)}}class eo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rr.OVERWRITE}operationForChild(e){return K(this.path)?new eo(this.source,ie(),this.snap.getImmediateChild(e)):new eo(this.source,ve(this.path),this.snap)}}class Va{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rr.MERGE}operationForChild(e){if(K(this.path)){const n=this.children.subtree(new ce(e));return n.isEmpty()?null:n.value?new eo(this.source,ie(),n.value):new Va(this.source,ie(),n)}return D(q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Va(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;const n=q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function hc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function xle(t,e,n){if(null==e.childName||null==n.childName)throw _a("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function Ole(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Dp(t,e){return{eventCache:t,serverCache:e}}function fc(t,e,n,r){return Dp(new Xi(e,n,r),t.serverCache)}function NU(t,e,n,r){return Dp(t.eventCache,new Xi(e,n,r))}function Sp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function to(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let gT;class De{constructor(e,n=(()=>(gT||(gT=new ln(vae)),gT))()){this.value=e,this.children=n}static fromObject(e){let n=new De(null);return gt(e,(r,i)=>{n=n.set(new ce(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ie(),value:this.value};if(K(e))return null;{const r=q(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ve(e),n);return null!=s?{path:Re(new ce(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{const n=q(e),r=this.children.get(n);return null!==r?r.subtree(ve(e)):new De(null)}}set(e,n){if(K(e))return new De(n,this.children);{const r=q(e),s=(this.children.get(r)||new De(null)).set(ve(e),n),o=this.children.insert(r,s);return new De(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=q(e),r=this.children.get(n);if(r){const i=r.remove(ve(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new De(null):new De(this.value,s)}return this}}get(e){if(K(e))return this.value;{const n=q(e),r=this.children.get(n);return r?r.get(ve(e)):null}}setTree(e,n){if(K(e))return n;{const r=q(e),s=(this.children.get(r)||new De(null)).setTree(ve(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new De(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(K(e))return null;{const s=q(e),o=this.children.get(s);return o?o.findOnPath_(ve(e),Re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);const i=q(e),s=this.children.get(i);return s?s.foreachOnPath_(ve(e),Re(n,i),r):new De(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class rr{constructor(e){this.writeTree_=e}static empty(){return new rr(new De(null))}}function pc(t,e,n){if(K(e))return new rr(new De(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=qt(i,e);return s=s.updateChild(o,n),new rr(t.writeTree_.set(i,s))}{const i=new De(n),s=t.writeTree_.setTree(e,i);return new rr(s)}}}function mT(t,e,n){let r=t;return gt(n,(i,s)=>{r=pc(r,Re(e,i),s)}),r}function PU(t,e){if(K(e))return rr.empty();{const n=t.writeTree_.setTree(e,new De(null));return new rr(n)}}function _T(t,e){return null!=no(t,e)}function no(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(qt(n.path,e)):null}function kU(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Te,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Q(r,i.value))}),e}function Ji(t,e){if(K(e))return t;{const n=no(t,e);return new rr(null!=n?new De(n):t.writeTree_.subtree(e))}}function yT(t){return t.writeTree_.isEmpty()}function Ua(t,e){return OU(ie(),t.writeTree_,e)}function OU(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(D(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=OU(Re(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Re(t,".priority"),r)),n}}function Ap(t,e){return UU(e,t)}function $le(t,e){if(t.snap)return Wn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Wn(Re(t.path,n),e))return!0;return!1}function Hle(t){return t.visible}function xU(t,e,n){let r=rr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Wn(n,o)?(a=qt(n,o),r=pc(r,a,s.snap)):Wn(o,n)&&(a=qt(o,n),r=pc(r,ie(),s.snap.getChild(a)));else{if(!s.children)throw _a("WriteRecord should have .snap or .children");if(Wn(n,o))a=qt(n,o),r=mT(r,a,s.children);else if(Wn(o,n))if(a=qt(o,n),K(a))r=mT(r,ie(),s.children);else{const l=va(s.children,q(a));if(l){const u=l.getChild(ve(a));r=pc(r,ie(),u)}}}}}return r}function FU(t,e,n,r,i){if(r||i){const s=Ji(t.visibleWrites,e);return!i&&yT(s)?n:i||null!=n||_T(s,ie())?Ua(xU(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Wn(u.path,e)||Wn(e,u.path))},e),n||z.EMPTY_NODE):null}{const s=no(t.visibleWrites,e);if(null!=s)return s;{const o=Ji(t.visibleWrites,e);return yT(o)?n:null!=n||_T(o,ie())?Ua(o,n||z.EMPTY_NODE):null}}}function Mp(t,e,n,r){return FU(t.writeTree,t.treePath,e,n,r)}function vT(t,e){return function Wle(t,e,n){let r=z.EMPTY_NODE;const i=no(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Te,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ji(t.visibleWrites,e);return n.forEachChild(Te,(o,a)=>{const l=Ua(Ji(s,new ce(o)),a);r=r.updateImmediateChild(o,l)}),kU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return kU(Ji(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function LU(t,e,n,r){return function zle(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Re(e,n);if(_T(t.visibleWrites,s))return null;{const o=Ji(t.visibleWrites,s);return yT(o)?i.getChild(n):Ua(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Rp(t,e){return function qle(t,e){return no(t.visibleWrites,e)}(t.writeTree,Re(t.treePath,e))}function ET(t,e,n){return function Gle(t,e,n,r){const i=Re(e,n),s=no(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Ua(Ji(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function VU(t,e){return UU(Re(t.treePath,e),t.writeTree)}function UU(t,e){return{treePath:t,writeTree:e}}class Zle{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,uc(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function lc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Fa(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw _a("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,uc(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const BU=new class Xle{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class wT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ET(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:to(this.viewCache_),s=function Yle(t,e,n,r,i,s){return function Kle(t,e,n,r,i,s,o){let a;const l=Ji(t.visibleWrites,e),u=no(l,ie());if(null!=u)a=u;else{if(null==n)return[];a=Ua(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function $U(t,e,n,r,i,s){const o=e.eventCache;if(null!=Rp(r,n))return e;{let a,l;if(K(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=to(e),d=vT(r,u instanceof z?u:z.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Mp(r,to(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=q(n);if(".priority"===u){D(1===Zi(n),"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=LU(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):o.getNode()}else{const c=ve(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=LU(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(u).updateChild(c,h):o.getNode().getImmediateChild(u)}else d=ET(r,u,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),u,d,c,i,s):o.getNode()}}return fc(e,a,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function Np(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(K(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=q(n);if(!l.isCompleteForPath(n)&&Zi(n)>1)return e;const p=ve(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),_):c.updateChild(l.getNode(),f,_,p,BU,null)}const d=NU(e,u,l.isFullyInitialized()||K(n),c.filtersNodes());return $U(t,d,n,i,new wT(i,d,s),a)}function CT(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new wT(i,e,s);if(K(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fc(e,u,!0,t.filter.filtersNodes());else{const d=q(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=fc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ve(n),f=a.getNode().getImmediateChild(d);let p;if(K(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===XI(h)&&g.getChild(_U(h)).isEmpty()?g:g.updateChild(h,r):z.EMPTY_NODE}l=f.equals(p)?e:fc(e,t.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function jU(t,e){return t.eventCache.isCompleteForChild(e)}function HU(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function bT(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=K(n)?r:new De(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=HU(0,e.serverCache.getNode().getImmediateChild(d),h);l=Np(t,l,new ce(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=HU(0,e.serverCache.getNode().getImmediateChild(d),h);l=Np(t,l,new ce(d),g,i,s,o,a)}}),l}function cue(t,e){const n=to(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(q(e)).isEmpty())?n.getChild(e):null}function GU(t,e,n,r){e.type===Rr.MERGE&&null!==e.source.queryId&&(D(to(t.viewCache_),"We should always have a full cache before handling merges"),D(Sp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function tue(t,e,n,r,i){const s=new Zle;let o,a;if(n.type===Rr.OVERWRITE){const u=n;u.source.fromUser?o=CT(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!K(u.path),o=Np(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Rr.MERGE){const u=n;u.source.fromUser?o=function rue(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Re(n,l);jU(e,q(c))&&(a=CT(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Re(n,l);jU(e,q(c))||(a=CT(t,a,c,u,i,s,o))}),a}(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=bT(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Rr.ACK_USER_WRITE){const u=n;o=u.revert?function oue(t,e,n,r,i,s){let o;if(null!=Rp(r,n))return e;{const a=new wT(r,e,i),l=e.eventCache.getNode();let u;if(K(n)||".priority"===q(n)){let c;if(e.serverCache.isFullyInitialized())c=Mp(r,to(e));else{const d=e.serverCache.getNode();D(d instanceof z,"serverChildren would be complete if leaf node"),c=vT(r,d)}u=t.filter.updateFullNode(l,c,s)}else{const c=q(n);let d=ET(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,ve(n),a,s):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,z.EMPTY_NODE,ve(n),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mp(r,to(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Rp(r,ie()),fc(e,u,o,t.filter.filtersNodes())}}(t,e,u.path,r,i,s):function iue(t,e,n,r,i,s,o){if(null!=Rp(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Np(t,e,n,l.getNode().getChild(n),i,s,a,o);if(K(n)){let u=new De(null);return l.getNode().forEachChild(Mr,(c,d)=>{u=u.set(new ce(c),d)}),bT(t,e,n,u,i,s,a,o)}return e}{let u=new De(null);return r.foreach((c,d)=>{const h=Re(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),bT(t,e,n,u,i,s,a,o)}}(t,e,u.path,u.affectedTree,r,i,s)}else{if(n.type!==Rr.LISTEN_COMPLETE)throw _a("Unknown operation type: "+n.type);o=function sue(t,e,n,r,i){const s=e.serverCache;return $U(t,NU(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered()),n,r,BU,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function nue(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Sp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function SU(t){return{type:"value",snapshotNode:t}}(Sp(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function eue(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function qU(t,e,n,r){return function kle(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function vle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),hc(t,i,"child_removed",e,r,n),hc(t,i,"child_added",e,r,n),hc(t,i,"child_moved",s,r,n),hc(t,i,"child_changed",e,r,n),hc(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let Pp,Op;function IT(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return D(null!=s,"SyncTree gave us an op for an invalid query."),GU(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(GU(o,e,n,r));return s}}function es(t,e){let n=null;for(const r of t.views.values())n=n||cue(r,e);return n}class JU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=function Qle(){return{visibleWrites:rr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TT(t,e,n,r,i){return function Lle(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pc(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ba(t,new eo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ns(t,e,n=!1){const r=function Ule(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Ble(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&$le(a,r.path)?i=!1:Wn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function jle(t){t.visibleWrites=xU(t.allWrites,Hle,ie()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=PU(t.visibleWrites,r.path):gt(r.children,l=>{t.visibleWrites=PU(t.visibleWrites,Re(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new De(null);return null!=r.snap?s=s.set(ie(),!0):gt(r.children,o=>{s=s.set(new ce(o),!0)}),Ba(t,new Tp(r.path,s,n))}return[]}function gc(t,e,n){return Ba(t,new eo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Fp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=es(a,qt(o,e));if(u)return u});return FU(i,e,s,n,!0)}function Ba(t,e){return t2(e,t.syncPointTree_,null,Ap(t.pendingWriteTree_,ie()))}function t2(t,e,n,r){if(K(t.path))return n2(t,e,n,r);{const i=e.get(ie());null==n&&null!=i&&(n=es(i,ie()));let s=[];const o=q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=VU(r,o);s=s.concat(t2(a,l,u,c))}return i&&(s=s.concat(IT(i,t,r,n))),s}}function n2(t,e,n,r){const i=e.get(ie());null==n&&null!=i&&(n=es(i,ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=VU(r,o),c=t.operationForChild(o);c&&(s=s.concat(n2(c,a,l,u)))}),i&&(s=s.concat(IT(i,t,r,n))),s}function ST(t,e){return t.tagToQueryMap.get(e)}function AT(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ce(t.substr(0,e))}}function MT(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),IT(r,n,Ap(t.pendingWriteTree_,e),null)}class RT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new RT(n)}node(){return this.node_}}class NT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Re(this.path_,e);return new NT(this.syncTree_,n)}node(){return Fp(this.syncTree_,this.path_)}}const Nue=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},i2=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Pue(t[".sv"],e,n):"object"==typeof t[".sv"]?kue(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Pue=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},kue=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},s2=function(t,e,n,r){return kT(e,new NT(n,t),r)},PT=function(t,e,n){return kT(t,new RT(e),n)};function kT(t,e,n){const r=t.getPriority().val(),i=i2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=i2(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Oa(a,xe(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Oa(i))),o.forEachChild(Te,(a,l)=>{const u=kT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class OT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Vp(t,e){let n=e instanceof ce?e:new ce(e),r=t,i=q(n);for(;null!==i;){const s=va(r.node.children,i)||{children:{},childCount:0};r=new OT(i,r,s),n=ve(n),i=q(n)}return r}function ro(t){return t.node.value}function xT(t,e){t.node.value=e,FT(t)}function o2(t){return t.node.childCount>0}function Up(t,e){gt(t.node.children,(n,r)=>{e(new OT(n,t,r))})}function a2(t,e,n,r){n&&!r&&e(t),Up(t,i=>{a2(i,e,!0,r)}),n&&r&&e(t)}function yc(t){return new ce(null===t.parent?t.name:yc(t.parent)+"/"+t.name)}function FT(t){null!==t.parent&&function Fue(t,e,n){const r=function Oue(t){return void 0===ro(t)&&!o2(t)}(n),i=si(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,FT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,FT(t))}(t.parent,t.name,t)}const Lue=/[\[\].#$\/\u0000-\u001F\u007F]/,Vue=/[\[\].#$\u0000-\u001F\u007F]/,LT=10485760,Bp=function(t){return"string"==typeof t&&0!==t.length&&!Lue.test(t)},Ec=function(t,e,n){const r=n instanceof ce?new tle(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Xs(r));if("function"==typeof e)throw new Error(t+"contains a function "+Xs(r)+" with contents = "+e.toString());if(pp(e))throw new Error(t+"contains "+e.toString()+" "+Xs(r));if("string"==typeof e&&e.length>LT/3&&Xh(e)>LT)throw new Error(t+"contains a string greater than "+LT+" utf8 bytes "+Xs(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(gt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Bp(o)))throw new Error(t+" contains an invalid key ("+o+") "+Xs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nle(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xh(e),yU(t)})(r,o),Ec(t,a,r),function rle(t){const e=t.parts_.pop();t.byteLength_-=Xh(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Xs(r)+" in addition to actual children.")}},c2=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Bp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!Vue.test(t)}(t)}(n))throw new Error(function Zh(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tn(t,e,n){(function $p(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!JI(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function h2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Hue(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>Wn(r,e)||Wn(e,r))}function Hue(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Ys&&pt("event: "+n.toString()),Pa(r)}}}const Wue=25;class zue{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ip(),this.transactionQueueTree_=new OT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p2(t){const n=t.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Cc(t){return Nue({timestamp:p2(t)})}function g2(t,e,n,r,i){t.dataUpdateCount++;const s=new ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Qh(n,u=>xe(u));o=function Tue(t,e,n,r){const i=ST(t,r);if(i){const s=AT(i),o=s.path,a=s.queryId,l=qt(o,e),u=De.fromObject(n);return MT(t,o,new Va(pT(a),l,u))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=xe(n);o=function e2(t,e,n,r){const i=ST(t,r);if(null!=i){const s=AT(i),o=s.path,a=s.queryId,l=qt(o,e);return MT(t,o,new eo(pT(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=Qh(n,u=>xe(u));o=function Cue(t,e,n){const r=De.fromObject(n);return Ba(t,new Va({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=xe(n);o=gc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ja(t,s)),Tn(t.eventQueue_,a,o)}function m2(t,e){BT(t,"connected",e),!1===e&&function Yue(t){$a(t,"onDisconnectEvents");const e=Cc(t),n=Ip();dT(t.onDisconnect_,ie(),(i,s)=>{const o=s2(i,s,t.serverSyncTree_,e);La(n,i,o)});let r=[];dT(n,ie(),(i,s)=>{r=r.concat(gc(t.serverSyncTree_,i,s));const o=function WT(t,e){const n=yc(v2(t,e)),r=Vp(t.transactionQueueTree_,e);return function xue(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{zT(t,i)}),zT(t,r),a2(r,i=>{zT(t,i)}),n}(t,i);ja(t,o)}),t.onDisconnect_=Ip(),Tn(t.eventQueue_,ie(),r)}(t)}function BT(t,e,n){const r=new ce("/.info/"+e),i=xe(n);t.infoData_.updateSnapshot(r,i);const s=gc(t.infoSyncTree_,r,i);Tn(t.eventQueue_,r,s)}function jp(t){return t.nextWriteId_++}function $a(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),pt(n,...e)}function HT(t,e,n){return Fp(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function Hp(t,e=t.transactionQueueTree_){if(e||Wp(t,e),ro(e)){const n=E2(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function rce(t,e,n){const r=n.map(u=>u.currentWriteId),i=HT(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=qt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{$a(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ns(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Wp(t,Vp(t.transactionQueueTree_,e)),Hp(t,t.transactionQueueTree_),Tn(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Pa(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{xt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}ja(t,e)}},o)}(t,yc(e),n)}else o2(e)&&Up(e,n=>{Hp(t,n)})}function ja(t,e){const n=v2(t,e),r=yc(n);return function ice(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=qt(n,l.path);let d,c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(ns(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Wue)c=!0,d="maxretry",i=i.concat(ns(t.serverSyncTree_,l.currentWriteId,!0));else{const h=HT(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Ec("transaction failed: Data returned ",f,l.path);let p=xe(f);"object"==typeof f&&null!=f&&si(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=Cc(t),y=PT(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=jp(t),o.splice(o.indexOf(_),1),i=i.concat(TT(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(ns(t.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(ns(t.serverSyncTree_,l.currentWriteId,!0))}Tn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Wp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Pa(r[a]);Hp(t,t.transactionQueueTree_)}(t,E2(t,n),r),r}function v2(t,e){let n,r=t.transactionQueueTree_;for(n=q(e);null!==n&&void 0===ro(r);)r=Vp(r,n),n=q(e=ve(e));return r}function E2(t,e){const n=[];return w2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function w2(t,e,n){const r=ro(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Up(e,i=>{w2(t,i,n)})}function Wp(t,e){const n=ro(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xT(e,n.length>0?n:void 0)}Up(e,r=>{Wp(t,r)})}function zT(t,e){const n=ro(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ns(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?xT(e,void 0):n.length=s+1,Tn(t.eventQueue_,yc(e),i);for(let o=0;o<r.length;o++)Pa(r[o])}}const GT=function(t,e){const n=ace(t),r=n.namespace;return"firebase.com"===n.domain&&Ar(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Ar("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GI(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ce(n.pathString)}},ace=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function sce(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function oce(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Dn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:XI(this._path)}get ref(){return new ir(this._repo,this._path)}get _queryIdentifier(){const e=MU(this._queryParams),n=WI(e);return"{}"===n?"default":n}get _queryObject(){return MU(this._queryParams)}isEqual(e){if(!((e=$n(e))instanceof Dn))return!1;const n=this._repo===e._repo,r=JI(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Jae(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class ir extends Dn{constructor(e,n){super(e,n,new aT,!1)}get parent(){const e=_U(this._path);return null===e?null:new ir(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function fue(t){D(!Pp,"__referenceConstructor has already been defined"),Pp=t})(ir),function yue(t){D(!Op,"__referenceConstructor has already been defined"),Op=t}(ir);const KT={};class Sce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Gue(t,e,n){if(t.stats_=QI(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new bp(t.repoInfo_,(r,i,s,o)=>{g2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>m2(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Js(t.repoInfo_,e,(r,i,s,o)=>{g2(t,r,i,s,o)},r=>{m2(t,r)},r=>{!function que(t,e){gt(e,(n,r)=>{BT(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Nae(t,e){const n=t.toString();return KI[n]||(KI[n]=e()),KI[n]}(t.repoInfo_,()=>new Nle(t.stats_,t.server_)),t.infoData_=new Dle,t.infoSyncTree_=new JU({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),BT(t,"connected",!1),t.serverSyncTree_=new JU({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Tn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ir(this._repo,ie())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ice(t,e){const n=KT[e];(!n||n[t.key]!==t)&&Ar(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function y2(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ar("Cannot call "+e+" on a deleted database.")}}function Ace(t=tf(),e){const n=Ns(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=OO("database");r&&function Mce(t,e,n,r={}){(t=$n(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ar("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ar('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new rc(rc.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:LO(r.mockUserToken,t.app.options.projectId);s=new rc(o)}!function Cce(t,e,n,r){t.repoInfo_=new GI(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Js.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Js.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Rce(t){(function pae(t){$I=t})(Ui),kt(new Dt("database",(e,{instanceIdentifier:n})=>function bce(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Ar("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=GT(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=GT(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new rc(rc.OWNER):new Aae(t.name,t.options,e);c2("Invalid Firebase Database URL",o),K(o.path)||Ar("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Tce(t,e,n,r){let i=KT[e.name];i||(i={},KT[e.name]=i);let s=i[t.toURLString()];return s&&Ar("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new zue(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,c,new Sae(t.name,n));return new Sce(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Se(kV,"0.14.4",t),Se(kV,"0.14.4","esm2017")}();class QT{constructor(e){return e}}const R2="database",YT=new R("angularfire2.database-instances");function xce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new QT(r)}}const Fce={provide:class kce{constructor(){return $f(R2)}},deps:[[new it,YT]]},Lce={provide:QT,useFactory:function Oce(t,e){const n=Bf(R2,t,e);return n&&new QT(n)},deps:[[new it,YT],zs]};let Vce=(()=>{class t{constructor(){Se("angularfire",Hu.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ut({providers:[Lce,Fce]}),t})();function Uce(t,...e){return{ngModule:Vce,providers:[{provide:YT,useFactory:xce(t),multi:!0,deps:[J,Ye,jf,Wf,[new it,pI],[new it,Xf],...e]}]}}const Bce=Hf(Ace,!0),N2="firebasestorage.googleapis.com";class Fe extends Bn{constructor(e,n,r=0){super(ZT(e),`Firebase Storage: ${n} (${ZT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ZT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ne=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ne||{});function ZT(t){return"storage/"+t}function JT(t){return new Fe(Ne.INVALID_ARGUMENT,t)}function F2(){return new Fe(Ne.APP_DELETED,"The Firebase app was deleted.")}class Kt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kt.makeFromUrl(e,n)}catch{return new Kt(e,"")}if(""===r.path)return r;throw function Yce(t){return new Fe(Ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(I){I.path_=decodeURIComponent(I.path)}const d=n.replace(/[.]/g,"\\."),b=[{regex:a,indices:{bucket:1,path:3},postModify:function s(I){"/"===I.path.charAt(I.path.length-1)&&(I.path_=I.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===N2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<b.length;I++){const k=b[I],X=k.regex.exec(e);if(X){let Pe=X[k.indices.path];Pe||(Pe=""),r=new Kt(X[k.indices.bucket],Pe),k.postModify(r);break}}if(null==r)throw function Qce(t){return new Fe(Ne.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class nde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tD(t,e,n,r){if(r<e)throw JT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JT(`Invalid value for '${t}'. Expected ${n} or less.`)}var Wa=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Wa||{});class lde{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function sde(t){return void 0!==t}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=function XT(){return new Fe(Ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?F2():function O2(){return new Fe(Ne.CANCELED,"User canceled the upload/download.")}():function k2(){return new Fe(Ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Qp(!1,null,!0)):this.backoffId_=function rde(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,l())},_)}function h(){s&&clearTimeout(s)}function f(_,...v){if(u)return void h();if(_)return h(),void c.call(null,_,...v);if(l()||o)return h(),void c.call(null,_,...v);let b;r<64&&(r*=2),1===a?(a=2,b=0):b=1e3*(r+Math.random()),d(b)}let p=!1;function g(_){p||(p=!0,h(),!u&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new Qp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Wa.NO_ERROR,l=s.getStatus();if(!a||function U2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Wa.ABORT;return void r(!1,new Qp(!1,null,c))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new Qp(u,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ide(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class so{constructor(e,n){this._service=e,this._location=n instanceof Kt?n:Kt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new so(e,n)}get root(){const e=new Kt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function W2(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Cde(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Kt(this._location.bucket,e);return new so(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function tde(t){return new Fe(Ne.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function sB(t,e){const n=e?.storageBucket;return null==n?null:Kt.makeFromBucketSpec(n,t)}class lD{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=N2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Kt.makeFromBucketSpec(i,this._host):sB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Kt.makeFromBucketSpec(this._url,e):sB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return m(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return m(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nde(F2());{const o=function fde(t,e,n,r,i,s,o=!0){const a=function V2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function dde(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function ude(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function cde(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function hde(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new lde(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return m(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const oB="@firebase/storage",lB="storage";function ahe(t=tf(),e){const r=Ns(t=$n(t),lB).getImmediate({identifier:e}),i=OO("storage");return i&&function lhe(t,e,n,r={}){!function ohe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:LO(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function uhe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new lD(n,r,i,e,Ui)}!function che(){kt(new Dt(lB,uhe,"PUBLIC").setMultipleInstances(!0)),Se(oB,"0.11.2",""),Se(oB,"0.11.2","esm2017")}();class uD{constructor(e){return e}}const uB="storage",cD=new R("angularfire2.storage-instances");function fhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uD(r)}}const phe={provide:class dhe{constructor(){return $f(uB)}},deps:[[new it,cD]]},ghe={provide:uD,useFactory:function hhe(t,e){const n=Bf(uB,t,e);return n&&new uD(n)},deps:[[new it,cD],zs]};let mhe=(()=>{class t{constructor(){Se("angularfire",Hu.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yt({type:t}),t.\u0275inj=ut({providers:[ghe,phe]}),t})();function _he(t,...e){return{ngModule:mhe,providers:[{provide:cD,useFactory:fhe(t),multi:!0,deps:[J,Ye,jf,Wf,[new it,pI],[new it,Xf],...e]}]}}const yhe=Hf(ahe,!0);let vhe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=yt({type:t,bootstrap:[qie]});static#n=this.\u0275inj=ut({imports:[fk,Wie,_se,Tee,Dee,hae,zre(()=>Gre(fae_firebase)),Bie(()=>$ie()),Uce(()=>Bce()),_he(()=>yhe())]})}return t})();NK().bootstrapModule(vhe).catch(t=>console.error(t))}},me=>{me(me.s=101)}]);