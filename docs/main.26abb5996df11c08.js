"use strict";(self.webpackChunkMerit_questions=self.webpackChunkMerit_questions||[]).push([[179],{449:()=>{function ve(t){return"function"==typeof t}function Ya(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Uc=Ya(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function fo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Yt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ve(r))try{r()}catch(s){e=s instanceof Uc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{bD(s)}catch(o){e=e??[],o instanceof Uc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Uc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bD(e);else{if(e instanceof Yt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fo(n,e)}remove(e){const{_finalizers:n}=this;n&&fo(n,e),e instanceof Yt&&e._removeParent(this)}}Yt.EMPTY=(()=>{const t=new Yt;return t.closed=!0,t})();const CD=Yt.EMPTY;function wD(t){return t instanceof Yt||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function bD(t){ve(t)?t():t.unsubscribe()}const as={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bc={setTimeout(t,e,...n){const{delegate:r}=Bc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Bc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ID(t){Bc.setTimeout(()=>{const{onUnhandledError:e}=as;if(!e)throw t;e(t)})}function hg(){}const DB=fg("C",void 0,void 0);function fg(t,e,n){return{kind:t,value:e,error:n}}let ls=null;function $c(t){if(as.useDeprecatedSynchronousErrorHandling){const e=!ls;if(e&&(ls={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ls;if(ls=null,n)throw r}}else t()}class pg extends Yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wD(e)&&e.add(this)):this.destination=kB}static create(e,n,r){return new Za(e,n,r)}next(e){this.isStopped?mg(function AB(t){return fg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?mg(function SB(t){return fg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mg(DB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const RB=Function.prototype.bind;function gg(t,e){return RB.call(t,e)}class NB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jc(r)}else jc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jc(n)}}}class Za extends pg{constructor(e,n,r){let i;if(super(),ve(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&as.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gg(e.next,s),error:e.error&&gg(e.error,s),complete:e.complete&&gg(e.complete,s)}):i=e}this.destination=new NB(i)}}function jc(t){as.useDeprecatedSynchronousErrorHandling?function MB(t){as.useDeprecatedSynchronousErrorHandling&&ls&&(ls.errorThrown=!0,ls.error=t)}(t):ID(t)}function mg(t,e){const{onStoppedNotification:n}=as;n&&Bc.setTimeout(()=>n(t,e))}const kB={closed:!0,next:hg,error:function PB(t){throw t},complete:hg},_g="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ci(t){return t}function TD(t){return 0===t.length?Ci:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function FB(t){return t&&t instanceof pg||function xB(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}(t)&&wD(t)}(n)?n:new Za(n,r,i);return $c(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=DD(r))((i,s)=>{const o=new Za({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[_g](){return this}pipe(...n){return TD(n)(this)}toPromise(n){return new(n=DD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function DD(t){var e;return null!==(e=t??as.Promise)&&void 0!==e?e:Promise}const LB=Ya(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lt=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new SD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new LB}next(n){$c(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){$c(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$c(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?CD:(this.currentObservers=null,s.push(n),new Yt(()=>{this.currentObservers=null,fo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new SD(e,n),t})();class SD extends lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:CD}}function AD(t){return ve(t?.lift)}function rt(t){return e=>{if(AD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(t,e,n,r,i){return new VB(t,e,n,r,i)}class VB extends pg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(t,e){return rt((n,r)=>{let i=0;n.subscribe(Je(r,s=>{r.next(t.call(e,s,i++))}))})}function Hc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function wi(t){return this instanceof wi?(this.v=t,this):new wi(t)}function PD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Cg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const kD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function OD(t){return ve(t?.then)}function xD(t){return ve(t[_g])}function FD(t){return Symbol.asyncIterator&&ve(t?.[Symbol.asyncIterator])}function LD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const VD=function s$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UD(t){return ve(t?.[VD])}function BD(t){return function ND(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof wi?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield wi(n.read());if(i)return yield wi(void 0);yield yield wi(r)}}finally{n.releaseLock()}})}function $D(t){return ve(t?.getReader)}function cn(t){if(t instanceof He)return t;if(null!=t){if(xD(t))return function o$(t){return new He(e=>{const n=t[_g]();if(ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(kD(t))return function a$(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(OD(t))return function l$(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ID)})}(t);if(FD(t))return jD(t);if(UD(t))return function u$(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if($D(t))return function c$(t){return jD(BD(t))}(t)}throw LD(t)}function jD(t){return new He(e=>{(function d$(t,e){var n,r,i,s;return function MD(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=PD(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Lr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function yt(t,e,n=1/0){return ve(e)?yt((r,i)=>Ce((s,o)=>e(r,s,i,o))(cn(t(r,i))),n):("number"==typeof e&&(n=e),rt((r,i)=>function h$(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{s&&e.next(g),u++;let _=!1;cn(n(g,c++)).subscribe(Je(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const v=l.shift();o?Lr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Je(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function po(t=1/0){return yt(Ci,t)}const lr=new He(t=>t.complete());function wg(t){return t[t.length-1]}function HD(t){return ve(wg(t))?t.pop():void 0}function Xa(t){return function p$(t){return t&&ve(t.schedule)}(wg(t))?t.pop():void 0}function zc(t,e=0){return rt((n,r)=>{n.subscribe(Je(r,i=>Lr(r,t,()=>r.next(i),e),()=>Lr(r,t,()=>r.complete(),e),i=>Lr(r,t,()=>r.error(i),e)))})}function Wc(t,e=0){return rt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zD(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{Lr(n,e,()=>{const r=t[Symbol.asyncIterator]();Lr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ut(t,e){return e?function C$(t,e){if(null!=t){if(xD(t))return function m$(t,e){return cn(t).pipe(Wc(e),zc(e))}(t,e);if(kD(t))return function y$(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(OD(t))return function _$(t,e){return cn(t).pipe(Wc(e),zc(e))}(t,e);if(FD(t))return zD(t,e);if(UD(t))return function v$(t,e){return new He(n=>{let r;return Lr(n,e,()=>{r=t[VD](),Lr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ve(r?.return)&&r.return()})}(t,e);if($D(t))return function E$(t,e){return zD(BD(t),e)}(t,e)}throw LD(t)}(t,e):cn(t)}class Nn extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function j(...t){return ut(t,Xa(t))}function WD(t={}){const{connector:e=(()=>new lt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return rt((g,_)=>{u++,!d&&!c&&h();const v=l=l??e();_.add(()=>{u--,0===u&&!d&&!c&&(a=bg(p,i))}),v.subscribe(_),!o&&u>0&&(o=new Za({next:y=>v.next(y),error:y=>{d=!0,h(),a=bg(f,n,y),v.error(y)},complete:()=>{c=!0,h(),a=bg(f,r),v.complete()}}),cn(g).subscribe(o))})(s)}}function bg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Za({next:()=>{r.unsubscribe(),t()}});return cn(e(...n)).subscribe(r)}function ur(t,e){return rt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Je(r,l=>{i?.unsubscribe();let u=0;const c=s++;cn(t(l,c)).subscribe(i=Je(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function I$(t,e){return t===e}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function Gc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ig(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const T$=ge({__forward_ref__:ge});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return it(this())},t}function B(t){return Tg(t)?t():t}function Tg(t){return"function"==typeof t&&t.hasOwnProperty(T$)&&t.__forward_ref__===Te}function Dg(t){return t&&!!t.\u0275providers}const GD="https://g.co/ng/security#xss";class E extends Error{constructor(e,n){super(function qc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function Sg(t,e){throw new E(-201,!1)}function Pn(t,e){null==t&&function V(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kc(t){return qD(t,Yc)||qD(t,KD)}function qD(t,e){return t.hasOwnProperty(e)?t[e]:null}function Qc(t){return t&&(t.hasOwnProperty(Ag)||t.hasOwnProperty(k$))?t[Ag]:null}const Yc=ge({\u0275prov:ge}),Ag=ge({\u0275inj:ge}),KD=ge({ngInjectableDef:ge}),k$=ge({ngInjectorDef:ge});var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{});let Mg;function Zt(t){const e=Mg;return Mg=t,e}function YD(t,e,n){const r=Kc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&X.Optional?null:void 0!==e?e:void Sg(it(t))}const De=globalThis;class R{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ja={},Og="__NG_DI_FLAG__",Zc="ngTempTokenPath",F$=/\n/gm,XD="__source";let go;function bi(t){const e=go;return go=t,e}function U$(t,e=X.Default){if(void 0===go)throw new E(-203,!1);return null===go?YD(t,void 0,e):go.get(t,e&X.Optional?null:void 0,e)}function M(t,e=X.Default){return(function QD(){return Mg}()||U$)(B(t),e)}function A(t,e=X.Default){return M(t,Xc(e))}function Xc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xg(t){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){const a=r[o],l=B$(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function el(t,e){return t[Og]=e,t.prototype[Og]=e,t}function B$(t){return t[Og]}function Vr(t){return{toString:t}.toString()}var Jc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Jc||{}),kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(kn||{});const cr={},oe=[],ed=ge({\u0275cmp:ge}),Fg=ge({\u0275dir:ge}),Lg=ge({\u0275pipe:ge}),eS=ge({\u0275mod:ge}),Ur=ge({\u0275fac:ge}),tl=ge({__NG_ELEMENT_ID__:ge}),tS=ge({__NG_ENV_ID__:ge});function nS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Vg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];iS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rS(t){return 3===t||4===t||6===t}function iS(t){return 64===t.charCodeAt(0)}function nl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const oS="ng-template";function H$(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==nS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function aS(t){return 4===t.type&&t.value!==oS}function z$(t,e,n){return e===(4!==t.type||n?t.value:oS)}function W$(t,e,n){let r=4;const i=t.attrs||[],s=function K$(t){for(let e=0;e<t.length;e++)if(rS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!z$(t,l,n)||""===l&&1===e.length){if(Gn(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!H$(t.attrs,u,n)){if(Gn(r))return!1;o=!0}continue}const d=G$(8&r?"class":l,i,aS(t),n);if(-1===d){if(Gn(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==nS(f,u,0)||2&r&&u!==h){if(Gn(r))return!1;o=!0}}}}else{if(!o&&!Gn(r)&&!Gn(l))return!1;if(o&&Gn(l))continue;o=!1,r=l|1&r}}return Gn(r)||o}function Gn(t){return 0==(1&t)}function G$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Q$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function lS(t,e,n=!1){for(let r=0;r<e.length;r++)if(W$(t,e[r],n))return!0;return!1}function uS(t,e){return t?":not("+e.trim()+")":e}function Z$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Gn(o)&&(e+=uS(s,i),i=""),r=o,s=s||!Gn(r);n++}return""!==i&&(e+=uS(s,i)),e}function qn(t){return Vr(()=>{const e=dS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||oe,_:null,schemas:t.schemas||null,tView:null,id:""};hS(n);const r=t.dependencies;return n.directiveDefs=td(r,!1),n.pipeDefs=td(r,!0),n.id=function sj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function tj(t){return ne(t)||Et(t)}function nj(t){return null!==t}function vt(t){return Vr(()=>({type:t.type,bootstrap:t.bootstrap||oe,declarations:t.declarations||oe,imports:t.imports||oe,exports:t.exports||oe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cS(t,e){if(null==t)return cr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function $(t){return Vr(()=>{const e=dS(t);return hS(e),e})}function ne(t){return t[ed]||null}function Et(t){return t[Fg]||null}function Lt(t){return t[Lg]||null}function hn(t,e){const n=t[eS]||null;if(!n&&!0===e)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function dS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||oe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cS(t.inputs,e),outputs:cS(t.outputs)}}function hS(t){t.features?.forEach(e=>e(t))}function td(t,e){if(!t)return null;const n=e?Lt:tj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(nj)}const ze=0,S=1,G=2,ke=3,Kn=4,rl=5,Rt=6,_o=7,Qe=8,Ii=9,yo=10,z=11,il=12,fS=13,vo=14,Ye=15,sl=16,Eo=17,dr=18,ol=19,pS=20,Ti=21,Br=22,al=23,ll=24,J=25,Ug=1,gS=2,hr=7,Co=9,Ct=11;function Jt(t){return Array.isArray(t)&&"object"==typeof t[Ug]}function Vt(t){return Array.isArray(t)&&!0===t[Ug]}function Bg(t){return 0!=(4&t.flags)}function cs(t){return t.componentOffset>-1}function rd(t){return 1==(1&t.flags)}function Qn(t){return!!t.template}function $g(t){return 0!=(512&t[G])}function ds(t,e){return t.hasOwnProperty(Ur)?t[Ur]:null}let wt=null,id=!1;function On(t){const e=wt;return wt=t,e}const yS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ES(t){if(!cl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!bS(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function wS(t){t.dirty=!0,function CS(t){if(void 0===t.liveConsumerNode)return;const e=id;id=!0;try{for(const n of t.liveConsumerNode)n.dirty||wS(n)}finally{id=e}}(t),t.consumerMarkedDirty?.(t)}function Hg(t){return t&&(t.nextProducerIndex=0),On(t)}function zg(t,e){if(On(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(cl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bS(t){wo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ES(n),r!==n.version))return!0}return!1}function IS(t){if(wo(t),cl(t))for(let e=0;e<t.producerNode.length;e++)sd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sd(t,e){if(function DS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),wo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)sd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];wo(i),i.producerIndexOfThis[r]=e}}function cl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function wo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let SS=null;const NS=()=>{},yj=(()=>({...yS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:NS}))();class vj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xn(){return PS}function PS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cj),Ej}function Ej(){const t=OS(this),e=t?.current;if(e){const n=t.previous;if(n===cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Cj(t,e,n,r){const i=this.declaredInputs[n],s=OS(t)||function wj(t,e){return t[kS]=e}(t,{previous:cr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new vj(l&&l.currentValue,e,a===cr),t[r]=e}xn.ngInherit=!0;const kS="__ngSimpleChanges__";function OS(t){return t[kS]||null}const fr=function(t,e,n){};function Se(t){for(;Array.isArray(t);)t=t[ze];return t}function od(t,e){return Se(e[t])}function en(t,e){return Se(e[t.index])}function LS(t,e){return t.data[e]}function fn(t,e){const n=e[t];return Jt(n)?n:n[ze]}function Si(t,e){return null==e?null:t[e]}function VS(t){t[Eo]=0}function Aj(t){1024&t[G]||(t[G]|=1024,BS(t,1))}function US(t){1024&t[G]&&(t[G]&=-1025,BS(t,-1))}function BS(t,e){let n=t[ke];if(null===n)return;n[rl]+=e;let r=n;for(n=n[ke];null!==n&&(1===e&&1===r[rl]||-1===e&&0===r[rl]);)n[rl]+=e,r=n,n=n[ke]}const U={lFrame:ZS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function HS(){return U.bindingsEnabled}function w(){return U.lFrame.lView}function re(){return U.lFrame.tView}function hs(t){return U.lFrame.contextLView=t,t[Qe]}function fs(t){return U.lFrame.contextLView=null,t}function bt(){let t=zS();for(;null!==t&&64===t.type;)t=t.parent;return t}function zS(){return U.lFrame.currentTNode}function pr(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function Qg(){return U.lFrame.isParent}function Yg(){U.lFrame.isParent=!1}function To(){return U.lFrame.bindingIndex++}function jr(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Bj(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zg(e)}function Zg(t){U.lFrame.currentDirectiveIndex=t}function Xg(t){const e=U.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Jg(t){U.lFrame.currentQueryIndex=t}function jj(t){const e=t[S];return 2===e.type?e.declTNode:1===e.type?t[Rt]:null}function QS(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&X.Host||(i=jj(s),null===i||(s=s[vo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=YS();return r.currentTNode=e,r.lView=t,!0}function em(t){const e=YS(),n=t[S];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function YS(){const t=U.lFrame,e=null===t?null:t.child;return null===e?ZS(t):e}function ZS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function XS(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const JS=XS;function tm(){const t=XS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bt(){return U.lFrame.selectedIndex}function ps(t){U.lFrame.selectedIndex=t}function Ve(){const t=U.lFrame;return LS(t.tView,t.selectedIndex)}let tA=!0;function ad(){return tA}function Ai(t){tA=t}function ld(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function ud(t,e,n){nA(t,e,3,n)}function cd(t,e,n,r){(3&t[G])===n&&nA(t,e,n,r)}function nm(t,e){let n=t[G];(3&n)===e&&(n&=8191,n+=1,t[G]=n)}function nA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Eo]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Eo]+=65536),(a<s||-1==s)&&(Yj(t,n,e,l),t[Eo]=(4294901760&t[Eo])+l+2),l++}function rA(t,e){fr(4,t,e);const n=On(null);try{e.call(t)}finally{On(n),fr(5,t,e)}}function Yj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[G]>>13<t[Eo]>>16&&(3&t[G])===e&&(t[G]+=8192,rA(a,s)):rA(a,s)}const Do=-1;class hl{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function im(t){return t!==Do}function fl(t){return 32767&t}function pl(t,e){let n=function eH(t){return t>>16}(t),r=e;for(;n>0;)r=r[vo],n--;return r}let sm=!0;function dd(t){const e=sm;return sm=t,e}const iA=255,sA=5;let tH=0;const gr={};function hd(t,e){const n=oA(t,e);if(-1!==n)return n;const r=e[S];r.firstCreatePass&&(t.injectorIndex=e.length,om(r.data,t),om(e,null),om(r.blueprint,null));const i=fd(t,e),s=t.injectorIndex;if(im(i)){const o=fl(i),a=pl(i,e),l=a[S].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function om(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function fd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=fA(i),null===r)return Do;if(n++,i=i[vo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Do}function am(t,e,n){!function nH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(tl)&&(r=n[tl]),null==r&&(r=n[tl]=tH++);const i=r&iA;e.data[t+(i>>sA)]|=1<<i}(t,e,n)}function aA(t,e,n){if(n&X.Optional||void 0!==t)return t;Sg()}function lA(t,e,n,r){if(n&X.Optional&&void 0===r&&(r=null),!(n&(X.Self|X.Host))){const i=t[Ii],s=Zt(void 0);try{return i?i.get(e,r,n&X.Optional):YD(e,r,n&X.Optional)}finally{Zt(s)}}return aA(r,0,n)}function uA(t,e,n,r=X.Default,i){if(null!==t){if(2048&e[G]&&!(r&X.Self)){const o=function lH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[G]&&!(512&o[G]);){const a=cA(s,o,n,r|X.Self,gr);if(a!==gr)return a;let l=s.parent;if(!l){const u=o[pS];if(u){const c=u.get(n,gr,r);if(c!==gr)return c}l=fA(o),o=o[vo]}s=l}return i}(t,e,n,r,gr);if(o!==gr)return o}const s=cA(t,e,n,r,gr);if(s!==gr)return s}return lA(e,n,r,i)}function cA(t,e,n,r,i){const s=function sH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(tl)?t[tl]:void 0;return"number"==typeof e?e>=0?e&iA:aH:e}(n);if("function"==typeof s){if(!QS(e,t,r))return r&X.Host?aA(i,0,r):lA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&X.Optional)return o;Sg()}finally{JS()}}else if("number"==typeof s){let o=null,a=oA(t,e),l=Do,u=r&X.Host?e[Ye][Rt]:null;for((-1===a||r&X.SkipSelf)&&(l=-1===a?fd(t,e):e[a+8],l!==Do&&hA(r,!1)?(o=e[S],a=fl(l),e=pl(l,e)):a=-1);-1!==a;){const c=e[S];if(dA(s,a,c.data)){const d=iH(a,e,n,o,r,u);if(d!==gr)return d}l=e[a+8],l!==Do&&hA(r,e[S].data[a+8]===u)&&dA(s,a,e)?(o=c,a=fl(l),e=pl(l,e)):a=-1}}return i}function iH(t,e,n,r,i,s){const o=e[S],a=o.data[t+8],c=function pd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&Qn(f)&&f.type===n)return l}return null}(a,o,n,null==r?cs(a)&&sm:r!=o&&0!=(3&a.type),i&X.Host&&s===a);return null!==c?gs(e,o,c,a):gr}function gs(t,e,n,r){let i=t[n];const s=e.data;if(function Zj(t){return t instanceof hl}(i)){const o=i;o.resolving&&function D$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,`Circular dependency in DI detected for ${t}${n}`)}(function he(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}(s[n]));const a=dd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Zt(o.injectImpl):null;QS(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Qj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=PS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Zt(u),dd(a),o.resolving=!1,JS()}}return i}function dA(t,e,n){return!!(n[e+(t>>sA)]&1<<t)}function hA(t,e){return!(t&X.Self||t&X.Host&&e)}class $t{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uA(this._tNode,this._lView,e,Xc(r),n)}}function aH(){return new $t(bt(),w())}function It(t){return Vr(()=>{const e=t.prototype.constructor,n=e[Ur]||lm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ur]||lm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function lm(t){return Tg(t)?()=>{const e=lm(B(t));return e&&e()}:ds(t)}function fA(t){const e=t[S],n=e.type;return 2===n?e.declTNode:1===n?t[Rt]:null}const Ao="__parameters__";function Ro(t,e,n){return Vr(()=>{const r=function um(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Ao)?l[Ao]:Object.defineProperty(l,Ao,{value:[]})[Ao];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Po(t,e){t.forEach(n=>Array.isArray(n)?Po(n,e):e(n))}function gA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function md(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e,n){let r=ko(t,e);return r>=0?t[1|r]=n:(r=~r,function gH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function cm(t,e){const n=ko(t,e);if(n>=0)return t[1|n]}function ko(t,e){return function mA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ot=el(Ro("Optional"),8),yd=el(Ro("SkipSelf"),4);function bd(t){return 128==(128&t.flags)}var Mi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mi||{});const FH=/^>|^->|<!--|-->|--!>|<!-$/g,LH=/(<|>)/g,VH="\u200b$1\u200b";const gm=new Map;let UH=0;const _m="__ngContext__";function Nt(t,e){Jt(e)?(t[_m]=e[ol],function $H(t){gm.set(t[ol],t)}(e)):t[_m]=e}let ym;function vm(t,e){return ym(t,e)}function El(t){const e=t[ke];return Vt(e)?e[ke]:e}function FA(t){return VA(t[il])}function LA(t){return VA(t[Kn])}function VA(t){for(;null!==t&&!Vt(t);)t=t[Kn];return t}function Fo(t,e,n,r,i){if(null!=r){let s,o=!1;Vt(r)?s=r:Jt(r)&&(o=!0,r=r[ze]);const a=Se(r);0===t&&null!==n?null==i?jA(e,n,a):ms(e,n,a,i||null,!0):1===t&&null!==n?ms(e,n,a,i||null,!0):2===t?function Rd(t,e,n){const r=Ad(t,e);r&&function oz(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function uz(t,e,n,r,i){const s=n[hr];s!==Se(n)&&Fo(e,t,r,s,i);for(let a=Ct;a<n.length;a++){const l=n[a];wl(l[S],l,t,e,r,s)}}(e,t,s,n,i)}}function Em(t,e){return t.createComment(function AA(t){return t.replace(FH,e=>e.replace(LH,VH))}(e))}function Dd(t,e,n){return t.createElement(e,n)}function BA(t,e){const n=t[Co],r=n.indexOf(e);US(e),n.splice(r,1)}function Sd(t,e){if(t.length<=Ct)return;const n=Ct+e,r=t[n];if(r){const i=r[sl];null!==i&&i!==t&&BA(i,r),e>0&&(t[n-1][Kn]=r[Kn]);const s=md(t,Ct+e);!function XH(t,e){wl(t,e,e[z],2,null,null),e[ze]=null,e[Rt]=null}(r[S],r);const o=s[dr];null!==o&&o.detachView(s[S]),r[ke]=null,r[Kn]=null,r[G]&=-129}return r}function Cm(t,e){if(!(256&e[G])){const n=e[z];e[al]&&IS(e[al]),e[ll]&&IS(e[ll]),n.destroyNode&&wl(t,e,n,3,null,null),function tz(t){let e=t[il];if(!e)return wm(t[S],t);for(;e;){let n=null;if(Jt(e))n=e[il];else{const r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Kn]&&e!==t;)Jt(e)&&wm(e[S],e),e=e[ke];null===e&&(e=t),Jt(e)&&wm(e[S],e),n=e&&e[Kn]}e=n}}(e)}}function wm(t,e){if(!(256&e[G])){e[G]&=-129,e[G]|=256,function sz(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof hl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];fr(4,a,l);try{l.call(a)}finally{fr(5,a,l)}}else{fr(4,i,s);try{s.call(i)}finally{fr(5,i,s)}}}}}(t,e),function iz(t,e){const n=t.cleanup,r=e[_o];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[_o]=null);const i=e[Ti];if(null!==i){e[Ti]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[S].type&&e[z].destroy();const n=e[sl];if(null!==n&&Vt(e[ke])){n!==e[ke]&&BA(n,e);const r=e[dr];null!==r&&r.detachView(t)}!function jH(t){gm.delete(t[ol])}(e)}}function bm(t,e,n){return function $A(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ze];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===kn.None||s===kn.Emulated)return null}return en(r,n)}}(t,e.parent,n)}function ms(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jA(t,e,n){t.appendChild(e,n)}function HA(t,e,n,r,i){null!==r?ms(t,e,n,r,i):jA(t,e,n)}function Ad(t,e){return t.parentNode(e)}let Im,Nd,Am,Pd,GA=function WA(t,e,n){return 40&t.type?en(t,n):null};function Md(t,e,n,r){const i=bm(t,r,e),s=e[z],a=function zA(t,e,n){return GA(t,e,n)}(r.parent||e[Rt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)HA(s,i,n[l],a,!1);else HA(s,i,n,a,!1);void 0!==Im&&Im(s,r,e,n,i)}function Cl(t,e){if(null!==e){const n=e.type;if(3&n)return en(e,t);if(4&n)return Tm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Cl(t,r);{const i=t[e.index];return Vt(i)?Tm(-1,i):Se(i)}}if(32&n)return vm(e,t)()||Se(t[e.index]);{const r=KA(t,e);return null!==r?Array.isArray(r)?r[0]:Cl(El(t[Ye]),r):Cl(t,e.next)}}return null}function KA(t,e){return null!==e?t[Ye][Rt].projection[e.projection]:null}function Tm(t,e){const n=Ct+t+1;if(n<e.length){const r=e[n],i=r[S].firstChild;if(null!==i)return Cl(r,i)}return e[hr]}function Dm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Nt(Se(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Dm(t,e,n.child,r,i,s,!1),Fo(e,t,i,a,s);else if(32&l){const u=vm(n,r);let c;for(;c=u();)Fo(e,t,i,c,s);Fo(e,t,i,a,s)}else 16&l?YA(t,e,r,n,i,s):Fo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function wl(t,e,n,r,i,s){Dm(n,r,t.firstChild,e,i,s,!1)}function YA(t,e,n,r,i,s){const o=n[Ye],l=o[Rt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Fo(e,t,i,l[u],s);else{let u=l;const c=o[ke];bd(r)&&(u.flags|=128),Dm(t,e,u,c,i,s,!0)}}function ZA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function XA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Vg(t,e,r),null!==i&&ZA(t,e,i),null!==s&&function dz(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Lo(t){return function Sm(){if(void 0===Nd&&(Nd=null,De.trustedTypes))try{Nd=De.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nd}()?.createHTML(t)||t}function Vo(){if(void 0!==Am)return Am;if(typeof document<"u")return document;throw new E(210,!1)}function Mm(){if(void 0===Pd&&(Pd=null,De.trustedTypes))try{Pd=De.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pd}function JA(t){return Mm()?.createHTML(t)||t}function t0(t){return Mm()?.createScriptURL(t)||t}class _s{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${GD})`}}class mz extends _s{getTypeName(){return"HTML"}}class _z extends _s{getTypeName(){return"Style"}}class yz extends _s{getTypeName(){return"Script"}}class vz extends _s{getTypeName(){return"URL"}}class Ez extends _s{getTypeName(){return"ResourceURL"}}function gn(t){return t instanceof _s?t.changingThisBreaksApplicationSecurity:t}function mr(t,e){const n=function Cz(t){return t instanceof _s&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${GD})`)}return n===e}class Sz{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Lo(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Az{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Lo(e),n}}const Rz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kd(t){return(t=String(t)).match(Rz)?t:"unsafe:"+t}function Hr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function bl(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const r0=Hr("area,br,col,hr,img,wbr"),s0=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o0=Hr("rp,rt"),Rm=bl(r0,bl(s0,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bl(o0,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bl(o0,s0)),Nm=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),a0=bl(Nm,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nz=Hr("script,style,template");class Pz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Rm.hasOwnProperty(n))return this.sanitizedSomething=!0,!Nz.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!a0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Nm[a]&&(l=kd(l)),this.buf.push(" ",o,'="',l0(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Rm.hasOwnProperty(n)&&!r0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(l0(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const kz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Oz=/([^\#-~ |!])/g;function l0(t){return t.replace(/&/g,"&amp;").replace(kz,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Oz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Od;function u0(t,e){let n=null;try{Od=Od||function n0(t){const e=new Az(t);return function Mz(){try{return!!(new window.DOMParser).parseFromString(Lo(""),"text/html")}catch{return!1}}()?new Sz(e):e}(t);let r=e?String(e):"";n=Od.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Od.getInertBodyElement(r)}while(r!==s);return Lo((new Pz).sanitizeChildren(Pm(n)||n))}finally{if(n){const r=Pm(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Pm(t){return"content"in t&&function xz(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mn||{});function km(t){const e=Il();return e?JA(e.sanitize(mn.HTML,t)||""):mr(t,"HTML")?JA(gn(t)):u0(Vo(),H(t))}function c0(t){const e=Il();return e?e.sanitize(mn.URL,t)||"":mr(t,"URL")?gn(t):kd(H(t))}function d0(t){const e=Il();if(e)return t0(e.sanitize(mn.RESOURCE_URL,t)||"");if(mr(t,"ResourceURL"))return t0(gn(t));throw new E(904,!1)}function Il(){const t=w();return t&&t[yo].sanitizer}const Tl=new R("ENVIRONMENT_INITIALIZER"),f0=new R("INJECTOR",-1),p0=new R("INJECTOR_DEF_TYPES");class Om{get(e,n=Ja){if(n===Ja){const r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}}function $z(...t){return{\u0275providers:g0(0,t),\u0275fromNgModule:!0}}function g0(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Po(e,o=>{const a=o;xd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&m0(i,s),n}function m0(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Fm(i,s=>{e(s,r)})}}function xd(t,e,n,r){if(!(t=B(t)))return!1;let i=null,s=Qc(t);const o=!s&&ne(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Qc(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)xd(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Po(s.imports,c=>{xd(c,e,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&m0(u,e)}if(!a){const u=ds(i)||(()=>new i);e({provide:i,useFactory:u,deps:oe},i),e({provide:p0,useValue:i,multi:!0},i),e({provide:Tl,useValue:()=>M(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=t;Fm(l,c=>{e(c,u)})}}}return i!==t&&void 0!==t.providers}function Fm(t,e){for(let n of t)Dg(n)&&(n=n.\u0275providers),Array.isArray(n)?Fm(n,e):e(n)}const jz=ge({provide:String,useValue:ge});function Lm(t){return null!==t&&"object"==typeof t&&jz in t}function ys(t){return"function"==typeof t}const Vm=new R("Set Injector scope."),Fd={},zz={};let Um;function Ld(){return void 0===Um&&(Um=new Om),Um}class Ln{}class Uo extends Ln{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(e,o=>this.processProvider(o)),this.records.set(f0,Bo(void 0,this)),i.has("environment")&&this.records.set(Ln,Bo(void 0,this));const s=this.records.get(Vm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(p0.multi,oe,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=bi(this),r=Zt(void 0);try{return e()}finally{bi(n),Zt(r)}}get(e,n=Ja,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tS))return e[tS](this);r=Xc(r);const s=bi(this),o=Zt(void 0);try{if(!(r&X.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function Qz(t){return"function"==typeof t||"object"==typeof t&&t instanceof R}(e)&&Kc(e);l=u&&this.injectableDefInScope(u)?Bo(Bm(e),Fd):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&X.Self?Ld():this.parent).get(e,n=r&X.Optional&&n===Ja?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Zc]=a[Zc]||[]).unshift(it(e)),s)throw a;return function $$(t,e,n,r){const i=t[Zc];throw e[XD]&&i.unshift(e[XD]),t.message=function j$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(F$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Zc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Zt(o),bi(s)}}resolveInjectorInitializers(){const e=bi(this),n=Zt(void 0);try{const i=this.get(Tl.multi,oe,X.Self);for(const s of i)s()}finally{bi(e),Zt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let n=ys(e=B(e))?e:B(e&&e.provide);const r=function Gz(t){return Lm(t)?Bo(void 0,t.useValue):Bo(v0(t),Fd)}(e);if(ys(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Bo(void 0,Fd,!0),i.factory=()=>xg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Fd&&(n.value=zz,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Kz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=B(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bm(t){const e=Kc(t),n=null!==e?e.factory:ds(t);if(null!==n)return n;if(t instanceof R)throw new E(204,!1);if(t instanceof Function)return function Wz(t){const e=t.length;if(e>0)throw function _l(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new E(204,!1);const n=function P$(t){return t&&(t[Yc]||t[KD])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new E(204,!1)}function v0(t,e,n){let r;if(ys(t)){const i=B(t);return ds(i)||Bm(i)}if(Lm(t))r=()=>B(t.useValue);else if(function y0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...xg(t.deps||[]));else if(function _0(t){return!(!t||!t.useExisting)}(t))r=()=>M(B(t.useExisting));else{const i=B(t&&(t.useClass||t.provide));if(!function qz(t){return!!t.deps}(t))return ds(i)||Bm(i);r=()=>new i(...xg(t.deps))}return r}function Bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $m(t,e){for(const n of t)Array.isArray(n)?$m(n,e):n&&Dg(n)?$m(n.\u0275providers,e):e(n)}const Vd=new R("AppId",{providedIn:"root",factory:()=>Yz}),Yz="ng",E0=new R("Platform Initializer"),Ri=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),C0=new R("AnimationModuleType"),w0=new R("CSP nonce",{providedIn:"root",factory:()=>Vo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let b0=(t,e,n)=>null;function Qm(t,e,n=!1){return b0(t,e,n)}class oW{}class D0{}class lW{resolveComponentFactory(e){throw function aW(t){const e=Error(`No component factory found for ${it(t)}.`);return e.ngComponent=t,e}(e)}}let Al=(()=>{class t{static#e=this.NULL=new lW}return t})();function uW(){return Ho(bt(),w())}function Ho(t,e){return new _n(en(t,e))}let _n=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=uW}return t})();class Ml{}let zr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function dW(){const t=w(),n=fn(bt().index,t);return(Jt(n)?n:t)[z]}()}return t})(),hW=(()=>{class t{static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>null})}return t})();class zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const A0=new zo("16.2.12"),Xm={};function P0(t,e=null,n=null,r){const i=k0(t,e,n,r);return i.resolveInjectorInitializers(),i}function k0(t,e=null,n=null,r,i=new Set){const s=[n||oe,$z(t)];return r=r||("object"==typeof t?void 0:it(t)),new Uo(s,e||Ld(),r||null,i)}let et=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ja;static#t=this.NULL=new Om;static create(n,r){if(Array.isArray(n))return P0({name:""},r,n,"");{const i=n.name??"";return P0({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=N({token:t,providedIn:"any",factory:()=>M(f0)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function e_(t){return t.ngOriginalError}class Wr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&e_(e);for(;n&&e_(n);)n=e_(n);return n||null}}function n_(t){return e=>{setTimeout(t,void 0,e)}}const We=class vW extends lt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=n_(s),i&&(i=n_(i)),o&&(o=n_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Yt&&e.add(a),a}};function x0(...t){}class te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function EW(){const t="function"==typeof De.requestAnimationFrame;let e=De[t?"requestAnimationFrame":"setTimeout"],n=De[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function bW(t){const e=()=>{!function wW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(De,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,i_(t),t.isCheckStableRunning=!0,r_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),i_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function TW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return F0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),L0(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return F0(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),L0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,i_(t),r_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!te.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(te.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CW,x0,x0);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const CW={};function r_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function i_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function F0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function L0(t){t._nesting--,r_(t)}class IW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const V0=new R("",{providedIn:"root",factory:U0});function U0(){const t=A(te);let e=!0;return function w$(...t){const e=Xa(t),n=function g$(t,e){return"number"==typeof wg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?cn(r[0]):po(n)(ut(r,e)):lr}(new He(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new He(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(WD()))}function Gr(t){return t instanceof Function?t():t}let s_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})();function Rl(t){for(;t;){t[G]|=64;const e=El(t);if($g(t)&&!e)return t;t=e}return null}const z0=new R("",{providedIn:"root",factory:()=>!1});let Wd=null;function K0(t,e){return t[e]??Z0()}function Q0(t,e){const n=Z0();n.producerNode?.length&&(t[e]=Wd,n.lView=t,Wd=Y0())}const xW={...yS,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rl(t.lView)},lView:null};function Y0(){return Object.create(xW)}function Z0(){return Wd??=Y0(),Wd}const W={};function fe(t){X0(re(),w(),Bt()+t,!1)}function X0(t,e,n,r){if(!r)if(3==(3&e[G])){const s=t.preOrderCheckHooks;null!==s&&ud(e,s,n)}else{const s=t.preOrderHooks;null!==s&&cd(e,s,0,n)}ps(n)}function C(t,e=X.Default){const n=w();return null===n?M(t,e):uA(bt(),n,B(t),e)}function Gd(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[ze]=i,d[G]=140|r,(null!==u||t&&2048&t[G])&&(d[G]|=2048),VS(d),d[ke]=d[vo]=t,d[Qe]=n,d[yo]=o||t&&t[yo],d[z]=a||t&&t[z],d[Ii]=l||t&&t[Ii]||null,d[Rt]=s,d[ol]=function BH(){return UH++}(),d[Br]=c,d[pS]=u,d[Ye]=2==e.type?t[Ye]:d,d}function qo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function o_(t,e,n,r,i){const s=zS(),o=Qg(),l=t.data[e]=function HW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Io(){return null!==U.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function Uj(){return U.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function dl(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pr(s,!0),s}function Nl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eM(t,e,n,r,i){const s=K0(e,al),o=Bt(),a=2&r;try{ps(-1),a&&e.length>J&&X0(t,e,J,!1),fr(a?2:0,i);const u=a?s:null,c=Hg(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{zg(u,c)}}finally{a&&null===e[al]&&Q0(e,al),ps(o),fr(a?3:1,i)}}function a_(t,e,n){if(Bg(e)){const r=On(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{On(r)}}}function l_(t,e,n){HS()&&(function YW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;cs(n)&&function r3(t,e,n){const r=en(e,t),i=tM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=qd(t,Gd(t,i,null,o,r,e,null,t[yo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hd(n,e),Nt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=gs(e,t,a,n);Nt(u,e),null!==o&&i3(0,a-i,u,l,0,o),Qn(l)&&(fn(n.index,e)[Qe]=gs(e,t,a,n))}}(t,e,n,en(n,e)),64==(64&n.flags)&&oM(t,e,n))}function u_(t,e,n=en){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function tM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=c_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function c_(t,e,n,r,i,s,o,a,l,u,c){const d=J+r,h=d+i,f=function LW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(d,h),p="function"==typeof u?u():u;return f[S]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let nM=t=>null;function rM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?iM(n,e,i,s):r.hasOwnProperty(i)&&iM(n,e,r[i],s)}return n}function iM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function yn(t,e,n,r,i,s,o,a){const l=en(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(g_(t,n,c,r,i),cs(e)&&function GW(t,e){const n=fn(e,t);16&n[G]||(n[G]|=64)}(n,e.index)):3&e.type&&(r=function WW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function d_(t,e,n,r){if(HS()){const i=null===r?null:{"":-1},s=function XW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(lS(e,o.selectors,!1))if(r||(r=[]),Qn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),h_(t,e,a.length)}else r.unshift(o),h_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&sM(t,e,n,o,i,a),i&&function JW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new E(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=nl(n.mergedAttrs,n.attrs)}function sM(t,e,n,r,i,s){for(let u=0;u<r.length;u++)am(hd(n,e),t,r[u].type);!function t3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Nl(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=nl(n.mergedAttrs,c.hostAttrs),n3(t,n,e,l,c),e3(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function zW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=n?n.get(d):null,p=h?h.outputs:null;l=rM(d.inputs,c,l,h?h.inputs:null),u=rM(d.outputs,c,u,p);const g=null===l||null===o||aS(e)?null:s3(l,c,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,s)}function oM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function $j(){return U.lFrame.currentDirectiveIndex}();try{ps(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Zg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ZW(l,u)}}finally{ps(-1),Zg(o)}}function ZW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function h_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function e3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qn(e)&&(n[""]=t)}}function n3(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ds(i.type)),o=new hl(s,Qn(i),C);t.blueprint[r]=o,n[r]=o,function KW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function QW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Nl(t,n,i.hostVars,W),i)}function _r(t,e,n,r,i,s){const o=en(t,e);!function f_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?H(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[z],o,s,t.value,n,r,i)}function i3(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)aM(r,n,o[a++],o[a++],o[a++])}function aM(t,e,n,r,i){const s=On(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{On(s)}}function s3(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function lM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function uM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Jg(n[r]),o.contentQueries(2,e[s],s)}}}function qd(t,e){return t[il]?t[fS][Kn]=e:t[il]=e,t[fS]=e,e}function p_(t,e,n){Jg(0);const r=On(null);try{e(t,n)}finally{On(r)}}function hM(t,e,n){return(null===t||Qn(t))&&(n=function Kg(t){for(;Array.isArray(t);){if("object"==typeof t[Ug])return t;t=t[ze]}return null}(n[e.index])),n[z]}function fM(t,e){const n=t[Ii],r=n?n.get(Wr,null):null;r&&r.handleError(e)}function g_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];aM(t.data[o],e[o],r,a,i)}}function o3(t,e){const n=fn(e,t),r=n[S];!function a3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ze];null!==i&&null===n[Br]&&(n[Br]=Qm(i,n[Ii])),m_(r,n,n[Qe])}function m_(t,e,n){em(e);try{const r=t.viewQuery;null!==r&&p_(1,r,n);const i=t.template;null!==i&&eM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&uM(t,e),t.staticViewQueries&&p_(2,t.viewQuery,n);const s=t.components;null!==s&&function l3(t,e){for(let n=0;n<e.length;n++)o3(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,tm()}}let pM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function _j(t,e,n){const r=Object.create(yj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>wS(r),run:()=>{if(r.dirty=!1,r.hasRun&&!bS(r))return;r.hasRun=!0;const o=Hg(r);try{r.cleanupFn(),r.cleanupFn=NS,r.fn(i)}finally{zg(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ig(i,a):2==s&&(r=Ig(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Pl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Se(s)),Vt(s)&&gM(s,r);const o=n.type;if(8&o)Pl(t,e,n.child,r);else if(32&o){const a=vm(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=KA(e,n);if(Array.isArray(a))r.push(...a);else{const l=El(e[Ye]);Pl(l[S],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function gM(t,e){for(let n=Ct;n<t.length;n++){const r=t[n],i=r[S].firstChild;null!==i&&Pl(r[S],r,i,e)}t[hr]!==t[ze]&&e.push(t[hr])}function Qd(t,e,n,r=!0){const i=e[yo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{mM(t,e,t.template,n)}catch(l){throw r&&fM(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function mM(t,e,n,r){const i=e[G];if(256!=(256&i)){e[yo].effectManager?.flush(),em(e);try{VS(e),function GS(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&eM(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&ud(e,u,null)}else{const u=t.preOrderHooks;null!==u&&cd(e,u,0,null),nm(e,0)}if(function d3(t){for(let e=FA(t);null!==e;e=LA(e)){if(!e[gS])continue;const n=e[Co];for(let r=0;r<n.length;r++){Aj(n[r])}}}(e),_M(e,2),null!==t.contentQueries&&uM(t,e),o){const u=t.contentCheckHooks;null!==u&&ud(e,u)}else{const u=t.contentHooks;null!==u&&cd(e,u,1),nm(e,1)}!function FW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=K0(e,ll);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ps(~s);else{const o=s,a=n[++i],l=n[++i];Bj(a,o),r.dirty=!1;const u=Hg(r);try{l(2,e[o])}finally{zg(r,u)}}}}finally{null===e[ll]&&Q0(e,ll),ps(-1)}}(t,e);const a=t.components;null!==a&&vM(e,a,0);const l=t.viewQuery;if(null!==l&&p_(2,l,r),o){const u=t.viewCheckHooks;null!==u&&ud(e,u)}else{const u=t.viewHooks;null!==u&&cd(e,u,2),nm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[G]&=-73,US(e)}finally{tm()}}}function _M(t,e){for(let n=FA(t);null!==n;n=LA(n))for(let r=Ct;r<n.length;r++)yM(n[r],e)}function h3(t,e,n){yM(fn(e,t),n)}function yM(t,e){if(!function Dj(t){return 128==(128&t[G])}(t))return;const n=t[S],r=t[G];if(80&r&&0===e||1024&r||2===e)mM(n,t,n.template,t[Qe]);else if(t[rl]>0){_M(t,1);const i=n.components;null!==i&&vM(t,i,1)}}function vM(t,e,n){for(let r=0;r<e.length;r++)h3(t,e[r],n)}class kl{get rootNodes(){const e=this._lView,n=e[S];return Pl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qe]}set context(e){this._lView[Qe]=e}get destroyed(){return 256==(256&this._lView[G])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ke];if(Vt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Sd(e,r),md(n,r))}this._attachedToViewContainer=!1}Cm(this._lView[S],this._lView)}onDestroy(e){!function $S(t,e){if(256==(256&t[G]))throw new E(911,!1);null===t[Ti]&&(t[Ti]=[]),t[Ti].push(e)}(this._lView,e)}markForCheck(){Rl(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){this._lView[G]|=128}detectChanges(){Qd(this._lView[S],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ez(t,e){wl(t,e,e[z],2,null,null)}(this._lView[S],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class f3 extends kl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Qd(e[S],e,e[Qe],!1)}checkNoChanges(){}get context(){return null}}class EM extends Al{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ne(e);return new Ol(n,this.ngModule)}}function CM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class g3{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xc(r);const i=this.injector.get(e,Xm,r);return i!==Xm||n===Xm?i:this.parentInjector.get(e,n,r)}}class Ol extends D0{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=CM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return CM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function X$(t){return t.map(Z$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ln?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new g3(e,s):e,a=o.get(Ml,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:o.get(hW,null),effectManager:o.get(pM,null),afterRenderEventManager:o.get(s_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function VW(t,e,n,r){const s=r.get(z0,!1)||n===kn.ShadowDom,o=t.selectRootElement(e,s);return function UW(t){nM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Dd(h,f,function p3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Qm(p,o,!0));const b=c_(0,null,null,1,0,null,null,null,null,null,null),I=Gd(null,b,null,v,null,null,d,h,o,null,y);let O,ee;em(I);try{const le=this.componentDef;let Le,Xe=null;le.findHostDirectiveDefs?(Le=[],Xe=new Map,le.findHostDirectiveDefs(le,Le,Xe),Le.push(le)):Le=[le];const Mn=function _3(t,e){const n=t[S],r=J;return t[r]=e,qo(n,r,2,"#host",null)}(I,p),cg=function y3(t,e,n,r,i,s,o){const a=i[S];!function v3(t,e,n,r){for(const i of t)e.mergedAttrs=nl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Kd(e,e.mergedAttrs,!0),null!==n&&XA(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=Qm(e,i[Ii]));const u=s.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=Gd(i,tM(n),null,c,i[t.index],t,s,u,null,null,l);return a.firstCreatePass&&h_(a,t,r.length-1),qd(i,d),i[t.index]=d}(Mn,p,le,Le,I,d,h);ee=LS(b,J),p&&function C3(t,e,n,r){if(r)Vg(t,n,["ng-version",A0.full]);else{const{attrs:i,classes:s}=function J$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Gn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Vg(t,n,i),s&&s.length>0&&ZA(t,n,s.join(" "))}}(h,le,p,r),void 0!==n&&function w3(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(ee,this.ngContentSelectors,n),O=function E3(t,e,n,r,i,s){const o=bt(),a=i[S],l=en(o,i);sM(a,i,o,n,null,r);for(let c=0;c<n.length;c++)Nt(gs(i,a,o.directiveStart+c,o),i);oM(a,i,o),l&&Nt(l,i);const u=gs(i,a,o.directiveStart+o.componentOffset,o);if(t[Qe]=i[Qe]=u,null!==s)for(const c of s)c(u,e);return a_(a,o,t),u}(cg,le,Le,Xe,I,[b3]),m_(b,I,null)}finally{tm()}return new m3(this.componentType,O,Ho(ee,I),I,ee)}}class m3 extends oW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new f3(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;g_(s[S],s,i,e,n),this.previousInputValues.set(e,n),Rl(fn(this._tNode.index,s))}}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function b3(){const t=bt();ld(w()[S],t)}function me(t){let e=function wM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Qn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Yd(t.inputs),o.inputTransforms=Yd(t.inputTransforms),o.declaredInputs=Yd(t.declaredInputs),o.outputs=Yd(t.outputs);const a=i.hostBindings;a&&S3(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&T3(t,l),u&&D3(t,u),Gc(t.inputs,i.inputs),Gc(t.declaredInputs,i.declaredInputs),Gc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Gc(o.inputTransforms,i.inputTransforms)),Qn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function I3(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nl(i.hostAttrs,n=nl(n,i.hostAttrs))}}(r)}function Yd(t){return t===cr?{}:t===oe?[]:t}function T3(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function D3(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function S3(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function DM(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Zd(t){return!!__(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function __(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function nn(t,e,n,r){const i=w();return Pt(i,To(),e)&&(re(),_r(Ve(),i,t,e,n,r)),nn}function vn(t,e,n,r,i,s,o,a){const l=w(),u=re(),c=t+J,d=u.firstCreatePass?function X3(t,e,n,r,i,s,o,a,l){const u=e.consts,c=qo(e,t,4,o||null,Si(u,a));d_(e,n,c,Si(u,l)),ld(e,c);const d=c.tView=c_(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];pr(d,!1);const h=UM(u,l,d,t);ad()&&Md(u,l,h,d),Nt(h,l),qd(l,l[c]=lM(h,l,h,d)),rd(d)&&l_(u,l,d),null!=o&&u_(l,d,a)}let UM=function BM(t,e,n,r){return Ai(!0),e[z].createComment("")};function Ul(t){return function bo(t,e){return t[e]}(function Vj(){return U.lFrame.contextLView}(),J+t)}function we(t,e,n){const r=w();return Pt(r,To(),e)&&yn(re(),Ve(),r,t,e,r[z],n,!1),we}function b_(t,e,n,r,i){const o=i?"class":"style";g_(t,n,e.inputs[o],o,r)}function k(t,e,n,r){const i=w(),s=re(),o=J+t,a=i[z],l=s.firstCreatePass?function nG(t,e,n,r,i,s){const o=e.consts,l=qo(e,t,2,r,Si(o,i));return d_(e,n,l,Si(o,s)),null!==l.attrs&&Kd(l,l.attrs,!1),null!==l.mergedAttrs&&Kd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],u=$M(s,i,l,a,e,t);i[o]=u;const c=rd(l);return pr(l,!0),XA(a,u,l),32!=(32&l.flags)&&ad()&&Md(s,i,u,l),0===function Rj(){return U.lFrame.elementDepthCount}()&&Nt(u,i),function Nj(){U.lFrame.elementDepthCount++}(),c&&(l_(s,i,l),a_(s,l,i)),null!==r&&u_(i,l),k}function F(){let t=bt();Qg()?Yg():(t=t.parent,pr(t,!1));const e=t;(function kj(t){return U.skipHydrationRootTNode===t})(e)&&function Lj(){U.skipHydrationRootTNode=null}(),function Pj(){U.lFrame.elementDepthCount--}();const n=re();return n.firstCreatePass&&(ld(n,t),Bg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Xj(t){return 0!=(8&t.flags)}(e)&&b_(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Jj(t){return 0!=(16&t.flags)}(e)&&b_(n,e,w(),e.stylesWithoutHost,!1),F}function Ee(t,e,n,r){return k(t,e,n,r),F(),Ee}let $M=(t,e,n,r,i,s)=>(Ai(!0),Dd(r,i,function eA(){return U.lFrame.currentNamespace}()));function Bl(t,e,n){const r=w(),i=re(),s=t+J,o=i.firstCreatePass?function sG(t,e,n,r,i){const s=e.consts,o=Si(s,r),a=qo(e,t,8,"ng-container",o);return null!==o&&Kd(a,o,!0),d_(e,n,a,Si(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];pr(o,!0);const a=HM(i,r,o,t);return r[s]=a,ad()&&Md(i,r,a,o),Nt(a,r),rd(o)&&(l_(i,r,o),a_(i,o,r)),null!=n&&u_(r,o),Bl}function $l(){let t=bt();const e=re();return Qg()?Yg():(t=t.parent,pr(t,!1)),e.firstCreatePass&&(ld(e,t),Bg(t)&&e.queries.elementEnd(t)),$l}let HM=(t,e,n,r)=>(Ai(!0),Em(e[z],""));function jl(){return w()}function Hl(t){return!!t&&"function"==typeof t.then}function zM(t){return!!t&&"function"==typeof t.subscribe}function ie(t,e,n,r){const i=w(),s=re(),o=bt();return function GM(t,e,n,r,i,s,o){const a=rd(r),u=t.firstCreatePass&&function dM(t){return t.cleanup||(t.cleanup=[])}(t),c=e[Qe],d=function cM(t){return t[_o]||(t[_o]=[])}(e);let h=!0;if(3&r.type||o){const g=en(r,e),_=o?o(g):g,v=d.length,y=o?I=>o(Se(I[r.index])):r.index;let b=null;if(!o&&a&&(b=function lG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[_o],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=KM(r,e,c,s,!1);const I=n.listen(_,i,s);d.push(s,I),u&&u.push(i,y,v,v+1)}}else s=KM(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const O=e[p[_]][p[_+1]].subscribe(s),ee=d.length;d.push(s,O),u&&u.push(i,r.index,ee,-(ee+1))}}}(s,i,i[z],o,t,e,r),ie}function qM(t,e,n,r){try{return fr(6,e,n),!1!==n(r)}catch(i){return fM(t,i),!1}finally{fr(7,e,n)}}function KM(t,e,n,r,i){return function s(o){if(o===Function)return r;Rl(t.componentOffset>-1?fn(t.index,e):e);let l=qM(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)l=qM(e,n,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function En(t=1){return function Hj(t){return(U.lFrame.contextLView=function zj(t,e){for(;t>0;)e=e[vo],t--;return e}(t,U.lFrame.contextLView))[Qe]}(t)}function nh(t,e){return t<<17|e<<2}function Ni(t){return t>>17&32767}function T_(t){return 2|t}function Es(t){return(131068&t)>>2}function D_(t,e){return-131069&t|e<<2}function S_(t){return 1|t}function iR(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ni(s):Es(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];_G(t[a],e)&&(l=!0,t[a+1]=r?S_(c):T_(c)),a=r?Ni(c):Es(c)}l&&(t[n+1]=r?T_(s):S_(s))}function _G(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ko(t,e)>=0}const at={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sR(t){return t.substring(at.key,at.keyEnd)}function oR(t,e){const n=at.textEnd;return n===e?-1:(e=at.keyEnd=function CG(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,at.key=e,n),ra(t,e,n))}function ra(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ia(t,e,n){return Yn(t,e,n,!1),ia}function rh(t,e){return Yn(t,e,null,!0),rh}function Kr(t){!function Zn(t,e,n,r){const i=re(),s=jr(2);i.firstUpdatePass&&hR(i,null,s,r);const o=w();if(n!==W&&Pt(o,s,n)){const a=i.data[Bt()];if(mR(a,r)&&!dR(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=Ig(l,n||"")),b_(i,a,o,n,r)}else!function NG(t,e,n,r,i,s,o,a){i===W&&(i=oe);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),null!==p&&pR(t,e,n,r,p,g,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[z],o[s+1],o[s+1]=function MG(t,e,n){if(null==n||""===n)return oe;const r=[],i=gn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(RG,Er,t,!0)}function Er(t,e){for(let n=function vG(t){return function lR(t){at.key=0,at.keyEnd=0,at.value=0,at.valueEnd=0,at.textEnd=t.length}(t),oR(t,ra(t,0,at.textEnd))}(e);n>=0;n=oR(e,n))pn(t,sR(e),!0)}function Yn(t,e,n,r){const i=w(),s=re(),o=jr(2);s.firstUpdatePass&&hR(s,t,o,r),e!==W&&Pt(i,o,e)&&pR(s,s.data[Bt()],i,i[z],t,i[o+1]=function PG(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=it(gn(t)))),t}(e,n),r,o)}function dR(t,e){return e>=t.expandoStartIndex}function hR(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Bt()],o=dR(t,n);mR(s,r)&&null===e&&!o&&(e=!1),e=function TG(t,e,n,r){const i=Xg(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zl(n=A_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=A_(i,t,e,n,r),null===s){let l=function DG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Es(r))return t[Ni(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=A_(null,t,e,l[1],r),l=zl(l,e.attrs,r),function SG(t,e,n,r){t[Ni(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function AG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=zl(r,t[s].hostAttrs,n);return zl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function gG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ni(o),l=Es(o);t[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||ko(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const h=Ni(t[a+1]);t[r+1]=nh(h,a),0!==h&&(t[h+1]=D_(t[h+1],r)),t[a+1]=function fG(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=nh(a,0),0!==a&&(t[a+1]=D_(t[a+1],r)),a=r;else t[r+1]=nh(l,0),0===a?a=r:t[l+1]=D_(t[l+1],r),l=r;u&&(t[r+1]=T_(t[r+1])),iR(t,c,r,!0),iR(t,c,r,!1),function mG(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ko(s,e)>=0&&(n[r+1]=S_(n[r+1]))}(e,c,t,r,s),o=nh(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function A_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=zl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,o,!!n||e[++s]))}return void 0===t?null:t}function RG(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&pn(t,r,n)}function pR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],c=function pG(t){return 1==(1&t)}(u)?gR(l,e,n,i,Es(u),o):void 0;ih(c)||(ih(s)||function hG(t){return 2==(2&t)}(u)&&(s=gR(l,null,n,i,a,o)),function cz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Mi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Mi.Important),t.setStyle(n,r,i,s))}}(r,o,od(Bt(),n),i,s))}function gR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===W&&(h=d?oe:void 0);let f=d?cm(h,r):c===r?h:void 0;if(u&&!ih(f)&&(f=cm(l,r)),ih(f)&&(a=f,o))return a;const p=t[i+1];i=o?Ni(p):Es(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=cm(l,r))}return a}function ih(t){return void 0!==t}function mR(t,e){return 0!=(t.flags&(e?8:16))}function ue(t,e=""){const n=w(),r=re(),i=t+J,s=r.firstCreatePass?qo(r,i,1,e,null):r.data[i],o=_R(r,n,s,e,t);n[i]=o,ad()&&Md(r,n,o,s),pr(s,!1)}let _R=(t,e,n,r,i)=>(Ai(!0),function Td(t,e){return t.createText(e)}(e[z],r));function Qr(t,e,n){const r=w(),i=function Qo(t,e,n,r){return Pt(t,To(),n)?e+H(n)+r:W}(r,t,e,n);return i!==W&&function qr(t,e,n){const r=od(e,t);!function UA(t,e,n){t.setValue(e,n)}(t[z],r,n)}(r,Bt(),i),Qr}function M_(t,e,n){const r=w();if(Pt(r,To(),e)){const s=re(),o=Ve();yn(s,o,r,t,e,hM(Xg(s.data),o,r),n,!0)}return M_}const oa="en-US";let UR=oa;function P_(t,e,n,r,i){if(t=B(t),Array.isArray(t))for(let s=0;s<t.length;s++)P_(t[s],e,n,r,i);else{const s=re(),o=w(),a=bt();let l=ys(t)?t:B(t.provide);const u=v0(t),c=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(ys(t)||!t.multi){const f=new hl(u,i,C),p=O_(l,e,i?c:c+h,d);-1===p?(am(hd(a,o),s,l),k_(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=O_(l,e,c+h,d),p=O_(l,e,c,c+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){am(hd(a,o),s,l);const v=function Jq(t,e,n,r,i){const s=new hl(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,cN(s,i,r&&!n),s}(i?Xq:Zq,n.length,i,r,u);!i&&_&&(n[p].providerFactory=v),k_(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else k_(s,t,f>-1?f:p,cN(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function k_(t,e,n,r){const i=ys(e),s=function Hz(t){return!!t.useClass}(e);if(i||s){const l=(s?B(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function cN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function O_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Zq(t,e,n,r){return x_(this.multi,[])}function Xq(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=gs(n,n[S],this.providerFactory.index,r);s=a.slice(0,o),x_(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],x_(i,s);return s}function x_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Oe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Yq(t,e,n){const r=re();if(r.firstCreatePass){const i=Qn(t);P_(n,r.data,r.blueprint,i,!0),P_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ws{}class dN{}class F_ extends ws{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EM(this);const i=hn(e);this._bootstrapComponents=Gr(i.bootstrap),this._r3Injector=k0(e,n,[{provide:ws,useValue:this},{provide:Al,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class L_ extends dN{constructor(e){super(),this.moduleType=e}create(e){return new F_(this.moduleType,e,[])}}class hN extends ws{constructor(e){super(),this.componentFactoryResolver=new EM(this),this.instance=null;const n=new Uo([...e.providers,{provide:ws,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],e.parent||Ld(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function V_(t,e,n=null){return new hN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let n4=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=g0(0,n.type),i=r.length>0?V_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=N({token:t,providedIn:"environment",factory:()=>new t(M(Ln))})}return t})();function uh(t){t.getStandaloneInjector=e=>e.get(n4).getOrCreateStandaloneInjector(t)}function Yl(t,e,n,r){return function vN(t,e,n,r,i,s){const o=e+n;return Pt(t,o,i)?function yr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Zl(t,e){const n=t[e];return n===W?void 0:n}(t,o+1)}(w(),function Ut(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function M4(t,e,n,r=!0){const i=e[S];if(function nz(t,e,n,r){const i=Ct+r,s=n.length;r>0&&(n[i-1][Kn]=e),r<s-Ct?(e[Kn]=n[i],gA(n,Ct+r,e)):(n.push(e),e[Kn]=null),e[ke]=n;const o=e[sl];null!==o&&n!==o&&function rz(t,e){const n=t[Co];e[Ye]!==e[ke][ke][Ye]&&(t[gS]=!0),null===n?t[Co]=[e]:n.push(e)}(o,e);const a=e[dr];null!==a&&a.insertView(t),e[G]|=128}(i,e,t,n),r){const s=Tm(n,t),o=e[z],a=Ad(o,t[hr]);null!==a&&function JH(t,e,n,r,i,s){r[ze]=i,r[Rt]=e,wl(t,r,n,1,i,s)}(i,t[Rt],o,e,a,s)}}Symbol;let Yr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=P4}return t})();const R4=Yr,N4=class extends R4{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function A4(t,e,n,r){const i=e.tView,a=Gd(t,i,n,4096&t[G]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[sl]=t[e.index];const u=t[dr];return null!==u&&(a[dr]=u.createEmbeddedView(i)),m_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new kl(i)}};function P4(){return function ch(t,e){return 4&t.type?new N4(e,t,Ho(t,e)):null}(bt(),w())}let Xn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=V4}return t})();function V4(){return function RN(t,e){let n;const r=e[t.index];return Vt(r)?n=r:(n=lM(r,e,null,t),e[t.index]=n,qd(e,n)),NN(n,e,t,r),new AN(n,t,e)}(bt(),w())}const U4=Xn,AN=class extends U4{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){const e=fd(this._hostTNode,this._hostLView);if(im(e)){const n=pl(e,this._hostLView),r=fl(e);return new $t(n[S].data[r+8],n)}return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=MN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ml(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Ol(ne(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?u:this.parentInjector).get(Ln,null);_&&(s=_)}ne(l.componentType??{});const f=l.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Sj(t){return Vt(t[ke])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[ke],c=new AN(u,u[Rt],u[ke]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return M4(a,i,o,!r),e.attachToViewContainerRef(),gA($_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=MN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Sd(this._lContainer,n);r&&(md($_(this._lContainer),n),Cm(r[S],r))}detach(e){const n=this._adjustIndex(e,-1),r=Sd(this._lContainer,n);return r&&null!=md($_(this._lContainer),n)?new kl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function MN(t){return t[8]}function $_(t){return t[8]||(t[8]=[])}let NN=function PN(t,e,n,r){if(t[hr])return;let i;i=8&n.type?Se(r):function B4(t,e){const n=t[z],r=n.createComment(""),i=en(e,t);return ms(n,Ad(n,i),r,function az(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[hr]=i};const X_=new R("Application Initializer");let J_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=A(X_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Hl(s))n.push(s);else if(zM(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rP=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Zr=new R("LocaleId",{providedIn:"root",factory:()=>A(Zr,X.Optional|X.SkipSelf)||function _6(){return typeof $localize<"u"&&$localize.locale||oa}()});let iP=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Nn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class E6{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let sP=(()=>{class t{compileModuleSync(n){return new L_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Gr(hn(n).declarations).reduce((o,a)=>{const l=ne(a);return l&&o.push(new Ol(l)),o},[]);return new E6(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uP=new R(""),ph=new R("");let iy,ny=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iy||(function j6(t){iy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(M(te),M(ry),M(ph))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),ry=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return iy?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Pi=null;const cP=new R("AllowMultipleToken"),sy=new R("PlatformDestroyListeners"),oy=new R("appBootstrapListener");class hP{constructor(e,n){this.name=e,this.token=n}}function pP(t,e,n=[]){const r=`Platform: ${e}`,i=new R(r);return(s=[])=>{let o=ay();if(!o||o.injector.get(cP,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function W6(t){if(Pi&&!Pi.get(cP,!1))throw new E(400,!1);(function dP(){!function hj(t){SS=t}(()=>{throw new E(600,!1)})})(),Pi=t;const e=t.get(mP);(function fP(t){t.get(E0,null)?.forEach(n=>n())})(t)}(function gP(t=[],e){return et.create({name:e,providers:[{provide:Vm,useValue:"platform"},{provide:sy,useValue:new Set([()=>Pi=null])},...t]})}(a,r))}return function q6(t){const e=ay();if(!e)throw new E(401,!1);return e}()}}function ay(){return Pi?.get(mP)??null}let mP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function K6(t="zone.js",e){return"noop"===t?new IW:"zone.js"===t?new te(e):t}(r?.ngZone,function _P(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function t4(t,e,n){return new F_(t,e,n)}(n.moduleType,this.injector,function wP(t){return[{provide:te,useFactory:t},{provide:Tl,multi:!0,useFactory:()=>{const e=A(Y6,{optional:!0});return()=>e.initialize()}},{provide:CP,useFactory:Q6},{provide:V0,useFactory:U0}]}(()=>i)),o=s.injector.get(Wr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{gh(this._modules,s),a.unsubscribe()})}),function yP(t,e,n){try{const r=n();return Hl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(J_);return a.runInitializers(),a.donePromise.then(()=>(function BR(t){Pn(t,"Expected localeId to be defined"),"string"==typeof t&&(UR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Zr,oa)||oa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=vP({},r);return function H6(t,e,n){const r=new L_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new E(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(sy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(M(et))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function vP(t,e){return Array.isArray(e)?e.reduce(vP,t):{...t,...e}}let Xr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(CP),this.zoneIsStable=A(V0),this.componentTypes=[],this.components=[],this.isStable=A(iP).hasPendingTasks.pipe(ur(n=>n?j(!1):this.zoneIsStable),function b$(t,e=Ci){return t=t??I$,rt((n,r)=>{let i,s=!0;n.subscribe(Je(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),WD()),this._injector=A(Ln)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof D0;if(!this._injector.get(J_).done)throw!i&&function mo(t){const e=ne(t)||Et(t)||Lt(t);return null!==e&&e.standalone}(n),new E(405,!1);let o;o=i?n:this._injector.get(Al).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function z6(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ws),u=o.create(et.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(uP,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),gh(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;gh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(oy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const CP=new R("",{providedIn:"root",factory:()=>A(Wr).handleError.bind(void 0)});function Q6(){const t=A(te),e=A(Wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Y6=(()=>{class t{constructor(){this.zone=A(te),this.applicationRef=A(Xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let mh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=X6}return t})();function X6(t){return function J6(t,e,n){if(cs(t)&&!n){const r=fn(t.index,e);return new kl(r,r)}return 47&t.type?new kl(e[Ye],e):null}(bt(),w(),16==(16&t))}class DP{constructor(){}supports(e){return Zd(e)}create(e){return new s8(e)}}const i8=(t,e)=>e;class s8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||i8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<AP(r,i,s)?n:r,a=AP(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Zd(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function O3(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new o8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new SP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class o8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class a8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class SP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new a8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class MP{constructor(){}supports(e){return e instanceof Map||__(e)}create(){return new l8}}class l8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||__(e)))throw new E(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new u8(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class u8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RP(){return new vh([new DP])}let vh=(()=>{class t{static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:RP});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||RP()),deps:[[t,new yd,new ot]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new E(901,!1)}}return t})();function NP(){return new tu([new MP])}let tu=(()=>{class t{static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:NP});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||NP()),deps:[[t,new yd,new ot]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new E(901,!1)}}return t})();const h8=pP(null,"core",[]);let f8=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(M(Xr))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({})}return t})();function ua(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let fy=null;function ki(){return fy}class S8{}const dt=new R("DocumentToken");let py=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(M8)},providedIn:"platform"})}return t})();const A8=new R("Location Initialized");let M8=(()=>{class t extends py{constructor(){super(),this._doc=A(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ki().getBaseHref(this._doc)}onPopState(n){const r=ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function gy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function BP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Jr(t){return t&&"?"!==t[0]?"?"+t:t}let Oi=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(jP)},providedIn:"root"})}return t})();const $P=new R("appBaseHref");let jP=(()=>{class t extends Oi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return gy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Jr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Jr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(py),M($P,8))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HP=(()=>{class t extends Oi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=gy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Jr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Jr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(py),M($P,8))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),my=(()=>{class t{constructor(n){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function P8(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(BP(zP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Jr(r))}normalize(n){return t.stripTrailingSlash(function N8(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,zP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Jr;static#t=this.joinWithSlash=gy;static#n=this.stripTrailingSlash=BP;static#r=this.\u0275fac=function(r){return new(r||t)(M(Oi))};static#i=this.\u0275prov=N({token:t,factory:function(){return function R8(){return new my(M(Oi))}()},providedIn:"root"})}return t})();function zP(t){return t.replace(/\/index.html$/,"")}const Dy=/\s+/,JP=[];let Sy=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=JP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Dy):JP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Dy):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Dy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(C(vh),C(tu),C(_n),C(zr))};static#t=this.\u0275dir=$({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})(),Ay=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new E5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(C(Xn),C(Yr))};static#t=this.\u0275dir=$({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class E5{constructor(){this.$implicit=null,this.ngIf=null}}function nk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${it(e)}'.`)}let W5=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({})}return t})();function ok(t){return"server"===t}let Q5=(()=>{class t{static#e=this.\u0275prov=N({token:t,providedIn:"root",factory:()=>new Y5(M(dt),window)})}return t})();class Y5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Z5(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class C7 extends S8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xy extends C7{static makeCurrent(){!function D8(t){fy||(fy=t)}(new xy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function w7(){return su=su||document.querySelector("base"),su?su.getAttribute("href"):null}();return null==n?null:function b7(t){kh=kh||document.createElement("a"),kh.setAttribute("href",t);const e=kh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){su=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function m5(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let kh,su=null,T7=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const Fy=new R("EventManagerPlugins");let dk=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(M(Fy),M(te))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class hk{constructor(e){this._doc=e}}const Ly="ng-app-id";let fk=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ok(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ly}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Ly),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Ly,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(M(dt),M(Vd),M(w0,8),M(Ri))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const Vy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uy=/%COMP%/g,M7=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gk(t,e){return e.map(n=>n.replace(Uy,t))}let By=(()=>{class t{constructor(n,r,i,s,o,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ok(a),this.defaultRenderer=new $y(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r={...r,encapsulation:kn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof _k?i.applyToHost(n):i instanceof jy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case kn.Emulated:s=new _k(l,u,r,this.appId,c,o,a,d);break;case kn.ShadowDom:return new k7(l,u,n,r,o,a,this.nonce,d);default:s=new jy(l,u,r,c,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(M(dk),M(fk),M(Vd),M(M7),M(dt),M(Ri),M(te),M(w0))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class $y{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Vy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Vy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mi.DashCase|Mi.Important)?e.style.setProperty(n,r,i&Mi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ki().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function mk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class k7 extends $y{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=gk(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jy extends $y{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?gk(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _k extends jy{constructor(e,n,r,i,s,o,a,l){const u=i+"-"+r.id;super(e,n,r,s,o,a,l,u),this.contentAttr=function R7(t){return"_ngcontent-%COMP%".replace(Uy,t)}(u),this.hostAttr=function N7(t){return"_nghost-%COMP%".replace(Uy,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let O7=(()=>{class t extends hk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(M(dt))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const yk=["alt","control","meta","shift"],x7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let L7=(()=>{class t extends hk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),yk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=x7[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yk.forEach(o=>{o!==i&&(0,F7[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(M(dt))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();const $7=pP(h8,"browser",[{provide:Ri,useValue:"browser"},{provide:E0,useValue:function V7(){xy.makeCurrent()},multi:!0},{provide:dt,useFactory:function B7(){return function gz(t){Am=t}(document),document},deps:[]}]),j7=new R(""),Ck=[{provide:ph,useClass:class I7{addToWindow(e){De.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new E(5103,!1);return s},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ki().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:uP,useClass:ny,deps:[te,ry,ph]},{provide:ny,useClass:ny,deps:[te,ry,ph]}],wk=[{provide:Vm,useValue:"root"},{provide:Wr,useFactory:function U7(){return new Wr},deps:[]},{provide:Fy,useClass:O7,multi:!0,deps:[dt,te,Ri]},{provide:Fy,useClass:L7,multi:!0,deps:[dt]},By,fk,dk,{provide:Ml,useExisting:By},{provide:class X5{},useClass:T7,deps:[]},[]];let bk=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Vd,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(M(j7,12))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({providers:[...wk,...Ck],imports:[W5,f8]})}return t})(),Ik=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(M(dt))};static#t=this.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new r:function z7(){return new Ik(M(dt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let Sk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new(r||t):M(Ak),i},providedIn:"root"})}return t})(),Ak=(()=>{class t extends Sk{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case mn.NONE:return r;case mn.HTML:return mr(r,"HTML")?gn(r):u0(this._doc,String(r)).toString();case mn.STYLE:return mr(r,"Style")?gn(r):r;case mn.SCRIPT:if(mr(r,"Script"))return gn(r);throw new E(5200,!1);case mn.URL:return mr(r,"URL")?gn(r):kd(String(r));case mn.RESOURCE_URL:if(mr(r,"ResourceURL"))return gn(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(n){return function wz(t){return new mz(t)}(n)}bypassSecurityTrustStyle(n){return function bz(t){return new _z(t)}(n)}bypassSecurityTrustScript(n){return function Iz(t){return new yz(t)}(n)}bypassSecurityTrustUrl(n){return function Tz(t){return new vz(t)}(n)}bypassSecurityTrustResourceUrl(n){return function Dz(t){return new Ez(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(M(dt))};static#t=this.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new r:function K7(t){return new Ak(t.get(dt))}(M(et)),i},providedIn:"root"})}return t})();const{isArray:Y7}=Array,{getPrototypeOf:Z7,prototype:X7,keys:J7}=Object;function Rk(t){if(1===t.length){const e=t[0];if(Y7(e))return{args:e,keys:null};if(function eK(t){return t&&"object"==typeof t&&Z7(t)===X7}(e)){const n=J7(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:tK}=Array;function Nk(t){return Ce(e=>function nK(t,e){return tK(e)?t(...e):t(e)}(t,e))}function Pk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zy(...t){const e=Xa(t),n=HD(t),{args:r,keys:i}=Rk(t);if(0===r.length)return ut([],e);const s=new He(function rK(t,e,n=Ci){return r=>{kk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)kk(e,()=>{const u=ut(t[l],e);let c=!1;u.subscribe(Je(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Pk(i,o):Ci));return n?s.pipe(Nk(n)):s}function kk(t,e,n){t?Lr(n,t,e):e()}const Oh=Ya(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Wy(...t){return function iK(){return po(1)}()(ut(t,Xa(t)))}function Ok(t){return new He(e=>{cn(t()).subscribe(e)})}function ou(t,e){const n=ve(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function Gy(){return rt((t,e)=>{let n=null;t._refCount++;const r=Je(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class xk extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,AD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yt;const n=this.getSubject();e.add(this.source.subscribe(Je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yt.EMPTY)}return e}refCount(){return Gy()(this)}}function da(t){return t<=0?()=>lr:rt((e,n)=>{let r=0;e.subscribe(Je(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fi(t,e){return rt((n,r)=>{let i=0;n.subscribe(Je(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xh(t){return rt((e,n)=>{let r=!1;e.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fk(t=oK){return rt((e,n)=>{let r=!1;e.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oK(){return new Oh}function Is(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fi((i,s)=>t(i,s,r)):Ci,da(1),n?xh(e):Fk(()=>new Oh))}function au(t,e){return ve(e)?yt(t,e,1):yt(t,1)}function Tt(t,e,n){const r=ve(t)||e||n?{next:t,error:e,complete:n}:t;return r?rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Je(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ci}function Ts(t){return rt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Je(n,void 0,void 0,o=>{s=cn(t(o,Ts(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qy(t){return t<=0?()=>lr:rt((e,n)=>{let r=[];e.subscribe(Je(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ky(t){return rt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const K="primary",lu=Symbol("RouteTitle");class hK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ha(t){return new hK(t)}function fK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Cr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Lk(t[i],e[i]))return!1;return!0}function Lk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function Vk(t){return t.length>0?t[t.length-1]:null}function Li(t){return function Q7(t){return!!t&&(t instanceof He||ve(t.lift)&&ve(t.subscribe))}(t)?t:Hl(t)?ut(Promise.resolve(t)):j(t)}const gK={exact:function $k(t,e,n){if(!Ds(t.segments,e.segments)||!Fh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!$k(t.children[r],e.children[r],n))return!1;return!0},subset:jk},Uk={exact:function mK(t,e){return Cr(t,e)},subset:function _K(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Lk(t[n],e[n]))},ignored:()=>!0};function Bk(t,e,n){return gK[n.paths](t.root,e.root,n.matrixParams)&&Uk[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function jk(t,e,n){return Hk(t,e,e.segments,n)}function Hk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ds(i,n)||e.hasChildren()||!Fh(i,n,r))}if(t.segments.length===n.length){if(!Ds(t.segments,n)||!Fh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!jk(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ds(t.segments,i)&&Fh(t.segments,i,r)&&t.children[K])&&Hk(t.children[K],e,s,r)}}function Fh(t,e,n){return e.every((r,i)=>Uk[n](t[i].parameters,r.parameters))}class fa{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ha(this.queryParams)),this._queryParamMap}toString(){return EK.serialize(this)}}class _e{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lh(this)}}class uu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ha(this.parameters)),this._parameterMap}toString(){return Gk(this)}}function Ds(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let cu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return new Qy},providedIn:"root"})}return t})();class Qy{parse(e){const n=new NK(e);return new fa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${du(e.root,!0)}`,r=function bK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Vh(n)}=${Vh(i)}`).join("&"):`${Vh(n)}=${Vh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function CK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const EK=new Qy;function Lh(t){return t.segments.map(e=>Gk(e)).join("/")}function du(t,e){if(!t.hasChildren())return Lh(t);if(e){const n=t.children[K]?du(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${du(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function vK(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===K?[du(t.children[K],!1)]:[`${i}:${du(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[K]?`${Lh(t)}/${n[0]}`:`${Lh(t)}/(${n.join("//")})`}}function zk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vh(t){return zk(t).replace(/%3B/gi,";")}function Yy(t){return zk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uh(t){return decodeURIComponent(t)}function Wk(t){return Uh(t.replace(/\+/g,"%20"))}function Gk(t){return`${Yy(t.path)}${function wK(t){return Object.keys(t).map(e=>`;${Yy(e)}=${Yy(t[e])}`).join("")}(t.parameters)}`}const IK=/^[^\/()?;#]+/;function Zy(t){const e=t.match(IK);return e?e[0]:""}const TK=/^[^\/()?;=#]+/,SK=/^[^=?&#]+/,MK=/^[^&#]+/;class NK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new _e(e,n)),r}parseSegment(){const e=Zy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new uu(Uh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function DK(t){const e=t.match(TK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Zy(this.remaining);i&&(r=i,this.capture(r))}e[Uh(n)]=Uh(r)}parseQueryParam(e){const n=function AK(t){const e=t.match(SK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function RK(t){const e=t.match(MK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Wk(n),s=Wk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Zy(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[K]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}}function qk(t){return t.segments.length>0?new _e([],{[K]:t}):t}function Kk(t){const e={};for(const r of Object.keys(t.children)){const s=Kk(t.children[r]);if(r===K&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function PK(t){if(1===t.numberOfChildren&&t.children[K]){const e=t.children[K];return new _e(t.segments.concat(e.segments),e.children)}return t}(new _e(t.segments,e))}function Ss(t){return t instanceof fa}function Qk(t){let e;const i=qk(function n(s){const o={};for(const l of s.children){const u=n(l);o[l.outlet]=u}const a=new _e(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function Yk(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Xy(i,i,i,n,r);const s=function OK(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Xk(n,e,r)}(e);if(s.toRoot())return Xy(i,i,new _e([],{}),n,r);const o=function xK(t,e,n){if(t.isAbsolute)return new $h(e,!0,0);if(!n)return new $h(e,!1,NaN);if(null===n.parent)return new $h(n,!0,0);const r=Bh(t.commands[0])?0:1;return function FK(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new $h(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?fu(o.segmentGroup,o.index,s.commands):Jk(o.segmentGroup,o.index,s.commands);return Xy(i,o.segmentGroup,a,n,r)}function Bh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hu(t){return"object"==typeof t&&null!=t&&t.outlets}function Xy(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=t===e?n:Zk(t,e,n);const a=qk(Kk(o));return new fa(a,s,i)}function Zk(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:Zk(s,e,n)}),new _e(t.segments,r)}class Xk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bh(r[0]))throw new E(4003,!1);const i=r.find(hu);if(i&&i!==Vk(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $h{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Jk(t,e,n){if(t||(t=new _e([],{})),0===t.segments.length&&t.hasChildren())return fu(t,e,n);const r=function VK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hu(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!tO(l,u,o))return s;r+=2}else{if(!tO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new _e(t.segments.slice(r.pathIndex),t.children),fu(s,0,i)}return r.match&&0===i.length?new _e(t.segments,{}):r.match&&!t.hasChildren()?Jy(t,e,n):r.match?fu(t,0,i):Jy(t,e,n)}function fu(t,e,n){if(0===n.length)return new _e(t.segments,{});{const r=function LK(t){return hu(t[0])?t[0].outlets:{[K]:t}}(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&1===t.numberOfChildren&&0===t.children[K].segments.length){const s=fu(t.children[K],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Jk(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new _e(t.segments,i)}}function Jy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hu(s)){const l=UK(s.outlets);return new _e(r,l)}if(0===i&&Bh(n[0])){r.push(new uu(t.segments[e].path,eO(n[0]))),i++;continue}const o=hu(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bh(a)?(r.push(new uu(o,eO(a))),i+=2):(r.push(new uu(o,{})),i++)}return new _e(r,{})}function UK(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Jy(new _e([],{}),0,r))}),e}function eO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tO(t,e,n){return t==n.path&&Cr(e,n.parameters)}const pu="imperative";class wr{constructor(e,n){this.id=e,this.url=n}}class jh extends wr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends wr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gu extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pa extends wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Hh extends wr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nO extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BK extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $K extends wr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jK extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HK extends wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ev{}class tv{constructor(e){this.url=e}}class YK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new mu,this.attachRef=null}}let mu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new YK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class iO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=nv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=nv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=rv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rv(e,this._root).map(n=>n.value)}}function nv(t,e){if(t===e.value)return e;for(const n of e.children){const r=nv(t,n);if(r)return r}return null}function rv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=rv(t,n);if(r.length)return r.unshift(e),r}return[]}class ni{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ga(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class sO extends iO{constructor(e,n){super(e),this.snapshot=n,iv(this,e)}toString(){return this.snapshot.toString()}}function oO(t,e){const n=function ZK(t,e){const o=new zh([],{},{},"",{},K,e,null,{});return new lO("",new ni(o,[]))}(0,e),r=new Nn([new uu("",{})]),i=new Nn({}),s=new Nn({}),o=new Nn({}),a=new Nn(""),l=new As(r,i,o,a,s,K,e,n.root);return l.snapshot=n.root,new sO(new ni(l,[]),n)}class As{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ce(u=>u[lu]))??j(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>ha(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>ha(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function XK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zh{get title(){return this.data?.[lu]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ha(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ha(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lO extends iO{constructor(e,n){super(n),this.url=e,iv(this,n)}toString(){return uO(this._root)}}function iv(t,e){e.value._routerState=t,e.children.forEach(n=>iv(t,n))}function uO(t){const e=t.children.length>0?` { ${t.children.map(uO).join(", ")} } `:"";return`${t.value}${e}`}function sv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Cr(e.params,n.params)||t.paramsSubject.next(n.params),function pK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Cr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ov(t,e){const n=Cr(t.params,e.params)&&function yK(t,e){return Ds(t,e)&&t.every((n,r)=>Cr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ov(t.parent,e.parent))}let av=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=A(mu),this.location=A(Xn),this.changeDetector=A(mh),this.environmentInjector=A(Ln),this.inputBinder=A(Wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new JK(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=$({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xn]})}return t})();class JK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===As?this.route:e===mu?this.childContexts:this.parent.get(e,n)}}const Wh=new R("");let cO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=zy([r.queryParams,r.params,r.data]).pipe(ur(([s,o,a],l)=>(a={...s,...o,...a},0===l?j(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function T8(t){const e=ne(t);if(!e)return null;const n=new Ol(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();function _u(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function t9(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _u(t,r,i);return _u(t,r)})}(t,e,n);return new ni(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_u(t,a)),o}}const r=function n9(t){return new As(new Nn(t.url),new Nn(t.params),new Nn(t.queryParams),new Nn(t.fragment),new Nn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>_u(t,s));return new ni(r,i)}}const lv="ngNavigationCancelingError";function dO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ss(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function hO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[lv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function fO(t){return t&&t[lv]}let pO=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["ng-component"]],standalone:!0,features:[uh],decls:1,vars:0,template:function(r,i){1&r&&Ee(0,"router-outlet")},dependencies:[av],encapsulation:2})}return t})();function uv(t){const e=t.children&&t.children.map(uv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=pO),n}function tr(t){return t.outlet||K}function yu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class c9{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ga(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ga(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ga(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ga(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new QK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new qK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(sv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=yu(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class gO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gh{constructor(e,n){this.component=e,this.route=n}}function d9(t,e,n){const r=t._root;return vu(r,e?e._root:null,n,[r.value])}function ma(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function N$(t){return null!==Kc(t)}(t)?e.get(t):t:r}function vu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ga(e);return t.children.forEach(o=>{(function f9(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function p9(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ds(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ds(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ov(t,e)||!Cr(t.queryParams,e.queryParams);default:return!ov(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new gO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),vu(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gh(a.outlet.component,o))}else o&&Eu(e,a,i),i.canActivateChecks.push(new gO(r)),vu(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Eu(a,n.getContext(o),i)),i}function Eu(t,e,n){const r=ga(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Eu(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Gh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Cu(t){return"function"==typeof t}function mO(t){return t instanceof Oh||"EmptyError"===t?.name}const qh=Symbol("INITIAL_VALUE");function _a(){return ur(t=>zy(t.map(e=>e.pipe(da(1),function sK(...t){const e=Xa(t);return rt((n,r)=>{(e?Wy(t,n,e):Wy(t,n)).subscribe(r)})}(qh)))).pipe(Ce(e=>{for(const n of e)if(!0!==n){if(n===qh)return qh;if(!1===n||n instanceof fa)return n}return!0}),Fi(e=>e!==qh),da(1)))}function _O(t){return function OB(...t){return TD(t)}(Tt(e=>{if(Ss(e))throw dO(0,e)}),Ce(e=>!0===e))}class Kh{constructor(e){this.segmentGroup=e||null}}class yO{constructor(e){this.urlTree=e}}function ya(t){return ou(new Kh(t))}function vO(t){return ou(new yO(t))}class O9{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new E(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return j(r);if(i.numberOfChildren>1||!i.children[K])return ou(new E(4e3,!1));i=i.children[K]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new fa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x9(t,e,n,r,i){const s=dv(t,e,n);return s.matched?(r=function i9(t,e){return t.providers&&!t._injector&&(t._injector=V_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function N9(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?j(i.map(o=>{const a=ma(o,t);return Li(function E9(t){return t&&Cu(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(_a(),_O()):j(!0)}(r,e,n).pipe(Ce(o=>!0===o?s:{...cv}))):j(s)}function dv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...cv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fK)(n,t,e);if(!i)return{...cv};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function EO(t,e,n,r){return n.length>0&&function V9(t,e,n){return n.some(r=>Qh(t,e,r)&&tr(r)!==K)}(t,n,r)?{segmentGroup:new _e(e,L9(r,new _e(n,t.children))),slicedSegments:[]}:0===n.length&&function U9(t,e,n){return n.some(r=>Qh(t,e,r))}(t,n,r)?{segmentGroup:new _e(t.segments,F9(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function F9(t,e,n,r,i){const s={};for(const o of r)if(Qh(t,n,o)&&!i[tr(o)]){const a=new _e([],{});s[tr(o)]=a}return{...i,...s}}function L9(t,e){const n={};n[K]=e;for(const r of t)if(""===r.path&&tr(r)!==K){const i=new _e([],{});n[tr(r)]=i}return n}function Qh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class H9{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new O9(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,!1)}recognize(){const e=EO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,K).pipe(Ts(n=>{if(n instanceof yO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Kh?this.noMatchError(n):n}),Ce(n=>{const r=new zh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new ni(r,n),s=new lO("",i),o=function kK(t,e,n=null,r=null){return Yk(Qk(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,K).pipe(Ts(r=>{throw r instanceof Kh?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=aO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ut(i).pipe(au(s=>{const o=r.children[s],a=function l9(t,e){const n=t.filter(r=>tr(r)===e);return n.push(...t.filter(r=>tr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function lK(t,e){return rt(function aK(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Je(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),xh(null),function uK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fi((i,s)=>t(i,s,r)):Ci,qy(1),n?xh(e):Fk(()=>new Oh))}(),yt(s=>{if(null===s)return ya(r);const o=CO(s);return function z9(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}(o),j(o)}))}processSegment(e,n,r,i,s,o){return ut(n).pipe(au(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ts(l=>{if(l instanceof Kh)return j(null);throw l}))),Is(a=>!!a),Ts(a=>{if(mO(a))return function $9(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?j([]):ya(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function B9(t,e,n,r){return!!(tr(t)===r||r!==K&&Qh(e,n,t))&&("**"===t.path||dv(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ya(i):ya(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(yt(o=>{const a=new _e(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=dv(n,i,s);if(!a)return ya(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?vO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(yt(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?Vk(i).parameters:{};a=j({snapshot:new zh(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wO(r),tr(r),r.component??r._loadedComponent??null,r,bO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=x9(n,r,i,e).pipe(Ce(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new zh(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wO(r),tr(r),r.component??r._loadedComponent??null,r,bO(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(ur(l=>null===l?ya(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ur(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=EO(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(Ce(v=>null===v?null:[new ni(d,v)]));if(0===u.length&&0===g.length)return j([new ni(d,[])]);const _=tr(r)===s;return this.processSegment(c,u,p,g,_?K:s,!0).pipe(Ce(v=>[new ni(d,v)]))}))))}getChildConfig(e,n,r){return n.children?j({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?j({routes:n._loadedRoutes,injector:n._loadedInjector}):function R9(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?j(!0):j(i.map(o=>{const a=ma(o,t);return Li(function m9(t){return t&&Cu(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(_a(),_O())}(e,n,r).pipe(yt(i=>i?this.configLoader.loadChildren(e,n).pipe(Tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function k9(t){return ou(hO(!1,3))}())):j({routes:[],injector:e})}}function W9(t){const e=t.value.routeConfig;return e&&""===e.path}function CO(t){const e=[],n=new Set;for(const r of t){if(!W9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=CO(r.children);e.push(new ni(r.value,i))}return e.filter(r=>!n.has(r))}function wO(t){return t.data||{}}function bO(t){return t.resolve||{}}function IO(t){return"string"==typeof t.title||null===t.title}function hv(t){return ur(e=>{const n=t(e);return n?ut(n).pipe(Ce(()=>e)):j(e)})}const va=new R("ROUTES");let fv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(sP)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return j(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Li(n.loadComponent()).pipe(Ce(TO),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ky(()=>{this.componentLoaders.delete(n)})),i=new xk(r,()=>new lt).pipe(Gy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function X9(t,e,n,r){return Li(t.loadChildren()).pipe(Ce(TO),yt(i=>i instanceof dN||Array.isArray(i)?j(i):ut(e.compileModuleAsync(i))),Ce(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(va,[],{optional:!0,self:!0}).flat()),{routes:o.map(uv),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ky(()=>{this.childrenLoaders.delete(r)})),o=new xk(s,()=>new lt).pipe(Gy());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TO(t){return function J9(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Yh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=A(fv),this.environmentInjector=A(Ln),this.urlSerializer=A(cu),this.rootContexts=A(mu),this.inputBindingEnabled=null!==A(Wh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new WK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Nn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fi(s=>0!==s.id),Ce(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),ur(s=>{this.currentTransition=s;let o=!1,a=!1;return j(s).pipe(Tt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ur(l=>{const u=l.currentBrowserUrl.toString(),c=!n.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new pa(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),lr}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return j(l).pipe(ur(h=>{const f=this.transitions?.getValue();return this.events.next(new jh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?lr:Promise.resolve(h)}),function G9(t,e,n,r,i,s){return yt(o=>function j9(t,e,n,r,i,s,o="emptyOnly"){return new H9(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ce(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Tt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new nO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=l,v=new jh(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const y=oO(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:y,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},j(s)}{const h="";return this.events.next(new pa(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),lr}}),Tt(l=>{const u=new BK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ce(l=>(this.currentTransition=s={...l,guards:d9(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function w9(t,e){return yt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?j({...n,guardsResult:!0}):function b9(t,e,n,r){return ut(t).pipe(yt(i=>function M9(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?j(s.map(a=>{const l=yu(e)??i,u=ma(a,l);return Li(function v9(t){return t&&Cu(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Is())})).pipe(_a()):j(!0)}(i.component,i.route,n,e,r)),Is(i=>!0!==i,!0))}(o,r,i,t).pipe(yt(a=>a&&function g9(t){return"boolean"==typeof t}(a)?function I9(t,e,n,r){return ut(e).pipe(au(i=>Wy(function D9(t,e){return null!==t&&e&&e(new GK(t)),j(!0)}(i.route.parent,r),function T9(t,e){return null!==t&&e&&e(new KK(t)),j(!0)}(i.route,r),function A9(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function h9(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Ok(()=>j(o.guards.map(l=>{const u=yu(o.node)??n,c=ma(l,u);return Li(function y9(t){return t&&Cu(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Is())})).pipe(_a())));return j(s).pipe(_a())}(t,i.path,n),function S9(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return j(!0);const i=r.map(s=>Ok(()=>{const o=yu(e)??n,a=ma(s,o);return Li(function _9(t){return t&&Cu(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Is())}));return j(i).pipe(_a())}(t,i.route,n))),Is(i=>!0!==i,!0))}(r,s,t,e):j(a)),Ce(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Tt(l=>{if(s.guardsResult=l.guardsResult,Ss(l.guardsResult))throw dO(0,l.guardsResult);const u=new $K(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Fi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),hv(l=>{if(l.guards.canActivateChecks.length)return j(l).pipe(Tt(u=>{const c=new jK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ur(u=>{let c=!1;return j(u).pipe(function q9(t,e){return yt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return j(n);let s=0;return ut(i).pipe(au(o=>function K9(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!IO(i)&&(s[lu]=i.title),function Q9(t,e,n,r){const i=function Y9(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return j({});const s={};return ut(i).pipe(yt(o=>function Z9(t,e,n,r){const i=yu(e)??r,s=ma(t,i);return Li(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Is(),Tt(a=>{s[o]=a}))),qy(1),function cK(t){return Ce(()=>t)}(s),Ts(o=>mO(o)?lr:ou(o)))}(s,t,e,r).pipe(Ce(o=>(t._resolvedData=o,t.data=aO(t,n).resolve,i&&IO(i)&&(t.data[lu]=i.title),null)))}(o.route,r,t,e)),Tt(()=>s++),qy(1),yt(o=>s===i.length?j(n):lr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),Tt(u=>{const c=new HK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),hv(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Tt(h=>{c.component=h}),Ce(()=>{})));for(const h of c.children)d.push(...u(h));return d};return zy(u(l.targetSnapshot.root)).pipe(xh(),da(1))}),hv(()=>this.afterPreactivation()),Ce(l=>{const u=function e9(t,e,n){const r=_u(t,e._root,n?n._root:void 0);return new sO(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),Tt(()=>{this.events.next(new ev)}),((t,e,n,r)=>Ce(i=>(new c9(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),da(1),Tt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function dK(t){return rt((e,n)=>{cn(t).subscribe(Je(n,()=>n.complete(),hg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Tt(l=>{throw l}))),Ky(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ts(l=>{if(a=!0,fO(l))this.events.next(new gu(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function r9(t){return fO(t)&&Ss(t.url)}(l)?this.events.next(new tv(l.url)):s.resolve(!1);else{this.events.next(new Hh(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){s.reject(u)}}return lr}))}))}cancelNavigationTransition(n,r,i){const s=new gu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DO(t){return t!==pu}let SO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[lu]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(eQ)},providedIn:"root"})}return t})(),eQ=(()=>{class t extends SO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(M(Ik))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(rQ)},providedIn:"root"})}return t})();class nQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let rQ=(()=>{class t extends nQ{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=It(t)))(i||t)}}();static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Zh=new R("",{providedIn:"root",factory:()=>({})});let iQ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:function(){return A(sQ)},providedIn:"root"})}return t})(),sQ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wu||{});function AO(t,e){t.events.pipe(Fi(n=>n instanceof Vi||n instanceof gu||n instanceof Hh||n instanceof pa),Ce(n=>n instanceof Vi||n instanceof pa?wu.COMPLETE:n instanceof gu&&(0===n.code||1===n.code)?wu.REDIRECTING:wu.FAILED),Fi(n=>n!==wu.REDIRECTING),da(1)).subscribe(()=>{e()})}function oQ(t){throw t}function aQ(t,e,n){return e.parse("/")}const lQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=A(rP),this.isNgZoneEnabled=!1,this._events=new lt,this.options=A(Zh,{optional:!0})||{},this.pendingTasks=A(iP),this.errorHandler=this.options.errorHandler||oQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=A(iQ),this.routeReuseStrategy=A(tQ),this.titleStrategy=A(SO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=A(va,{optional:!0})?.flat()??[],this.navigationTransitions=A(Yh),this.urlSerializer=A(cu),this.location=A(my),this.componentInputBindingEnabled=!!A(Wh,{optional:!0}),this.eventsSubscription=new Yt,this.isNgZoneEnabled=A(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(MO(r)&&this._events.next(r));if(r instanceof jh)DO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof pa)this.rawUrlTree=i.rawUrl;else if(r instanceof nO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof ev)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof gu)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof tv){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||DO(i.source)};this.scheduleNavigation(s,pu,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Hh&&this.restoreHistory(i,!0),r instanceof Vi&&(this.navigated=!0),MO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pu,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=Qk(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return Yk(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ss(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,pu,null,r)}navigate(n,r={skipLocationChange:!1}){return function cQ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new E(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...lQ}:!1===r?{...uQ}:r,Ss(n))return Bk(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Bk(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return AO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MO(t){return!(t instanceof ev||t instanceof tv)}let Ea=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function h0(t,e,n){return function Bz(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?d0:c0}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(C(wn),C(As),function gd(t){return function rH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(rS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(bt(),t)}("tabindex"),C(zr),C(_n),C(Oi))};static#t=this.\u0275dir=$({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ie("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&nn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ua],skipLocationChange:["skipLocationChange","skipLocationChange",ua],replaceUrl:["replaceUrl","replaceUrl",ua],routerLink:"routerLink"},standalone:!0,features:[DM,xn]})}return t})();class RO{}let fQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(n=>n instanceof Vi),au(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=V_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ut(i).pipe(po())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):j(null);const s=i.pipe(yt(o=>null===o?j(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ut([s,this.loader.loadComponent(r)]).pipe(po()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(M(wn),M(sP),M(Ln),M(RO),M(fv))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pv=new R("");let NO=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof jh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Vi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof pa&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function J0(){throw new Error("invalid")}()};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();function ri(t,e){return{\u0275kind:t,\u0275providers:e}}function kO(){const t=A(et);return e=>{const n=t.get(Xr);if(e!==n.components[0])return;const r=t.get(wn),i=t.get(OO);1===t.get(gv)&&r.initialNavigation(),t.get(xO,null,X.Optional)?.setUpPreloading(),t.get(pv,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const OO=new R("",{factory:()=>new lt}),gv=new R("",{providedIn:"root",factory:()=>1}),xO=new R("");function _Q(t){return ri(0,[{provide:xO,useExisting:fQ},{provide:RO,useExisting:t}])}const FO=new R("ROUTER_FORROOT_GUARD"),vQ=[my,{provide:cu,useClass:Qy},wn,mu,{provide:As,useFactory:function PO(t){return t.routerState.root},deps:[wn]},fv,[]];function EQ(){return new hP("Router",wn)}let LO=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[vQ,[],{provide:va,multi:!0,useValue:n},{provide:FO,useFactory:IQ,deps:[[wn,new ot,new yd]]},{provide:Zh,useValue:r||{}},r?.useHash?{provide:Oi,useClass:HP}:{provide:Oi,useClass:jP},{provide:pv,useFactory:()=>{const t=A(Q5),e=A(te),n=A(Zh),r=A(Yh),i=A(cu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new NO(i,r,t,e,n)}},r?.preloadingStrategy?_Q(r.preloadingStrategy).\u0275providers:[],{provide:hP,multi:!0,useFactory:EQ},r?.initialNavigation?TQ(r):[],r?.bindToComponentInputs?ri(8,[cO,{provide:Wh,useExisting:cO}]).\u0275providers:[],[{provide:VO,useFactory:kO},{provide:oy,multi:!0,useExisting:VO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:va,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(M(FO,8))};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({})}return t})();function IQ(t){return"guarded"}function TQ(t){return["disabled"===t.initialNavigation?ri(3,[{provide:X_,multi:!0,useFactory:()=>{const e=A(wn);return()=>{e.setUpLocationChangeListener()}}},{provide:gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ri(2,[{provide:gv,useValue:0},{provide:X_,multi:!0,deps:[et],useFactory:e=>{const n=e.get(A8,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(wn),s=e.get(OO);AO(i,()=>{r(!0)}),e.get(Yh).afterPreactivation=()=>(r(!0),s.closed?j(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const VO=new R("");function UO(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){UO(s,r,i,o,a,"next",l)}function a(l){UO(s,r,i,o,a,"throw",l)}o(void 0)})}}const D=function(t,e){if(!t)throw Ca(e)},Ca=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},BO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new AQ;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $O=function(t){const e=BO(t);return Xh.encodeByteArray(e,!0)},Jh=function(t){return $O(t).replace(/\./g,"")},ef=function(t){try{return Xh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MQ(t){return jO(void 0,t)}function jO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!RQ(n)||(t[n]=jO(t[n],e[n]));return t}function RQ(t){return"__proto__"!==t}const tf=()=>{try{return function NQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ef(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},HO=t=>{var e,n;return null===(n=null===(e=tf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},zO=t=>{const e=HO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WO=()=>{var t;return null===(t=tf())||void 0===t?void 0:t.config},GO=t=>{var e;return null===(e=tf())||void 0===e?void 0:e[`_${t}`]};class wa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function qO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jh(JSON.stringify({alg:"none",type:"JWT"})),Jh(JSON.stringify(o)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _v(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function yv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function KO(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ms(){try{return"object"==typeof indexedDB}catch{return!1}}function bu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function vv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $n extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}}class br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function VQ(t,e){return t.replace(UQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new $n(i,`${this.serviceName}: ${o} (${i}).`,r)}}const UQ=/\{\$([^}]+)}/g;function Iu(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}const nf=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Iu(ef(s[0])||""),n=Iu(ef(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function si(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ba(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ev(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function sf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(QO(s)&&QO(o)){if(!sf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QO(t){return null!==t&&"object"==typeof t}function Rs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class jQ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class zQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function WQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Cv),void 0===i.error&&(i.error=Cv),void 0===i.complete&&(i.complete=Cv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cv(){}const lf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},qQ=1e3,KQ=2,QQ=144e5,YQ=.5;function wv(t,e=qQ,n=KQ){const r=e*Math.pow(n,t),i=Math.round(YQ*r*(Math.random()-.5)*2);return Math.min(QQ,r+i)}function bn(t){return t&&t._delegate?t._delegate:t}class St{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ns="[DEFAULT]";class XQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function eY(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ns?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const bv=[];var ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{});const YO={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},nY=ye.INFO,rY={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},iY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=rY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ia{constructor(e){this.name=e,this._logLevel=nY,this._logHandler=iY,this._userLogHandler=null,bv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?YO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const sY=(t,e)=>e.some(n=>t instanceof n);let ZO,XO;const JO=new WeakMap,Iv=new WeakMap,ex=new WeakMap,Tv=new WeakMap,Dv=new WeakMap;let Sv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Iv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ex.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hY(t){return"function"==typeof t?function dY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aY(){return XO||(XO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Av(this),e),Ui(JO.get(this))}:function(...e){return Ui(t.apply(Av(this),e))}:function(e,...n){const r=t.call(Av(this),e,...n);return ex.set(r,e.sort?e.sort():[e]),Ui(r)}}(t):(t instanceof IDBTransaction&&function uY(t){if(Iv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Iv.set(t,e)}(t),sY(t,function oY(){return ZO||(ZO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Sv):t)}function Ui(t){if(t instanceof IDBRequest)return function lY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ui(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JO.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}(t);if(Tv.has(t))return Tv.get(t);const e=hY(t);return e!==t&&(Tv.set(t,e),Dv.set(e,t)),e}const Av=t=>Dv.get(t),pY=["get","getKey","getAll","getAllKeys","count"],gY=["put","add","delete","clear"],Mv=new Map;function tx(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Mv.get(e))return Mv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pY.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Mv.set(e,s),s}!function cY(t){Sv=t(Sv)}(t=>({...t,get:(e,n,r)=>tx(e,n)||t.get(e,n,r),has:(e,n)=>!!tx(e,n)||t.has(e,n)}));class mY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function _Y(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Rv="@firebase/app",Ps=new Ia("@firebase/app"),uf="[DEFAULT]",HY={[Rv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ks=new Map,cf=new Map;function zY(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kt(t){const e=t.name;if(cf.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,t);for(const n of ks.values())zY(n,t);return!0}function Os(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const oi=new br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class GY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const Bi="9.23.0";function rx(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:uf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=WO()),!n)throw oi.create("no-options");const s=ks.get(i);if(s){if(sf(n,s.options)&&sf(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const o=new tY(i);for(const l of cf.values())o.addComponent(l);const a=new GY(n,r,o);return ks.set(i,a),a}function df(t=uf){const e=ks.get(t);if(!e&&t===uf&&WO())return rx();if(!e)throw oi.create("no-app",{appName:t});return e}function ix(){return Array.from(ks.values())}function Pe(t,e,n){var r;let i=null!==(r=HY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ps.warn(a.join(" "))}kt(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qY="firebase-heartbeat-database",KY=1,Su="firebase-heartbeat-store";let Pv=null;function sx(){return Pv||(Pv=function fY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ui(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ui(o.result),l.oldVersion,l.newVersion,Ui(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(qY,KY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Su)}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Pv}function kv(){return(kv=m(function*(t){try{return yield(yield sx()).transaction(Su).objectStore(Su).get(ax(t))}catch(e){if(e instanceof $n)Ps.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(n.message)}}})).apply(this,arguments)}function ox(t,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=m(function*(t,e){try{const r=(yield sx()).transaction(Su,"readwrite");yield r.objectStore(Su).put(e,ax(t)),yield r.done}catch(n){if(n instanceof $n)Ps.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n?.message});Ps.warn(r.message)}}})).apply(this,arguments)}function ax(t){return`${t.name}!${t.options.appId}`}class XY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lx();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=lx(),{heartbeatsToSend:r,unsentEntries:i}=function JY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ux(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Jh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function lx(){return(new Date).toISOString().substring(0,10)}class eZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ms()&&bu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function QY(t){return kv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ox(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ox(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ux(t){return Jh(JSON.stringify({version:2,heartbeats:t})).length}!function tZ(t){kt(new St("platform-logger",e=>new mY(e),"PRIVATE")),kt(new St("heartbeat",e=>new XY(e),"PRIVATE")),Pe(Rv,"0.9.13",t),Pe(Rv,"0.9.13","esm2017"),Pe("fire-js","")}(""),Pe("firebase","9.23.0","app");const iZ=(t,e)=>e.some(n=>t instanceof n);let cx,dx;const hx=new WeakMap,xv=new WeakMap,fx=new WeakMap,Fv=new WeakMap,Lv=new WeakMap;let Vv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return xv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||fx.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dZ(t){return"function"==typeof t?function cZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oZ(){return dx||(dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Uv(this),e),$i(hx.get(this))}:function(...e){return $i(t.apply(Uv(this),e))}:function(e,...n){const r=t.call(Uv(this),e,...n);return fx.set(r,e.sort?e.sort():[e]),$i(r)}}(t):(t instanceof IDBTransaction&&function lZ(t){if(xv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xv.set(t,e)}(t),iZ(t,function sZ(){return cx||(cx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Vv):t)}function $i(t){if(t instanceof IDBRequest)return function aZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hx.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}(t);if(Fv.has(t))return Fv.get(t);const e=dZ(t);return e!==t&&(Fv.set(t,e),Lv.set(e,t)),e}const Uv=t=>Lv.get(t),fZ=["get","getKey","getAll","getAllKeys","count"],pZ=["put","add","delete","clear"],Bv=new Map;function px(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bv.get(e))return Bv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fZ.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Bv.set(e,s),s}!function uZ(t){Vv=t(Vv)}(t=>({...t,get:(e,n,r)=>px(e,n)||t.get(e,n,r),has:(e,n)=>!!px(e,n)||t.has(e,n)}));const gx="@firebase/installations",$v="0.6.4",mx=1e4,_x=`w:${$v}`,yx="FIS_v2",gZ="https://firebaseinstallations.googleapis.com/v1",mZ=36e5,ai=new br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vx(t){return t instanceof $n&&t.code.includes("request-failed")}function jv({projectId:t}){return`${gZ}/projects/${t}/installations`}function Ex(t){return{token:t.token,requestStatus:2,expiresIn:EZ(t.expiresIn),creationTime:Date.now()}}function Hv(t,e){return zv.apply(this,arguments)}function zv(){return(zv=m(function*(t,e){const r=(yield e.json()).error;return ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Cx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Wv(t){return Gv.apply(this,arguments)}function Gv(){return(Gv=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function EZ(t){return Number(t.replace("s","000"))}function qv(){return(qv=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=jv(t),i=Cx(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:yx,appId:t.appId,sdkVersion:_x})},l=yield Wv(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ex(u.authToken)}}throw yield Hv("Create Installation",l)})).apply(this,arguments)}function bx(t){return new Promise(e=>{setTimeout(e,t)})}const IZ=/^[cdef][\w-]{21}$/,Kv="";function TZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function DZ(t){return function bZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return IZ.test(n)?n:Kv}catch{return Kv}}function Ta(t){return`${t.appName}!${t.appId}`}const Da=new Map;function Ix(t,e){const n=Ta(t);Tx(n,e),function MZ(t,e){const n=function Dx(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=t=>{Tx(t.data.key,t.data.fid)}),xs}();n&&n.postMessage({key:t,fid:e}),function Sx(){0===Da.size&&xs&&(xs.close(),xs=null)}()}(n,e)}function Tx(t,e){const n=Da.get(t);if(n)for(const r of n)r(e)}let xs=null;const RZ="firebase-installations-database",NZ=1,Fs="firebase-installations-store";let Qv=null;function Yv(){return Qv||(Qv=function hZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",l=>{r($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(RZ,NZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Fs)}})),Qv}function hf(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=m(function*(t,e){const n=Ta(t),i=(yield Yv()).transaction(Fs,"readwrite"),s=i.objectStore(Fs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Ix(t,e.fid),e})).apply(this,arguments)}function Xv(t){return Jv.apply(this,arguments)}function Jv(){return(Jv=m(function*(t){const e=Ta(t),r=(yield Yv()).transaction(Fs,"readwrite");yield r.objectStore(Fs).delete(e),yield r.done})).apply(this,arguments)}function Au(t,e){return eE.apply(this,arguments)}function eE(){return(eE=m(function*(t,e){const n=Ta(t),i=(yield Yv()).transaction(Fs,"readwrite"),s=i.objectStore(Fs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Ix(t,a.fid),a})).apply(this,arguments)}function tE(t){return nE.apply(this,arguments)}function nE(){return nE=m(function*(t){let e;const n=yield Au(t.appConfig,r=>{const i=function PZ(t){return Mx(t||{fid:TZ(),registrationStatus:0})}(r),s=function kZ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ai.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function OZ(t,e){return rE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:xZ(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Kv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),nE.apply(this,arguments)}function rE(){return rE=m(function*(t,e){try{const n=yield function wZ(t,e){return qv.apply(this,arguments)}(t,e);return hf(t.appConfig,n)}catch(n){throw vx(n)&&409===n.customData.serverCode?yield Xv(t.appConfig):yield hf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),rE.apply(this,arguments)}function xZ(t){return iE.apply(this,arguments)}function iE(){return(iE=m(function*(t){let e=yield Ax(t.appConfig);for(;1===e.registrationStatus;)yield bx(100),e=yield Ax(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield tE(t);return r||n}return e})).apply(this,arguments)}function Ax(t){return Au(t,e=>{if(!e)throw ai.create("installation-not-found");return Mx(e)})}function Mx(t){return function FZ(t){return 1===t.registrationStatus&&t.registrationTime+mx<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function sE(){return(sE=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function VZ(t,{fid:e}){return`${jv(t)}/${e}/authTokens:generate`}(t,n),i=function wx(t,{refreshToken:e}){const n=Cx(t);return n.append("Authorization",function CZ(t){return`${yx} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:_x,appId:t.appId}})},l=yield Wv(()=>fetch(r,a));if(l.ok)return Ex(yield l.json());throw yield Hv("Generate Auth Token",l)})).apply(this,arguments)}function oE(t){return aE.apply(this,arguments)}function aE(){return aE=m(function*(t,e=!1){let n;const r=yield Au(t.appConfig,s=>{if(!Nx(s))throw ai.create("not-registered");const o=s.authToken;if(!e&&function $Z(t){return 2===t.requestStatus&&!function jZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mZ}(t)}(o))return s;if(1===o.requestStatus)return n=function UZ(t,e){return lE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ai.create("app-offline");const a=function HZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function BZ(t,e){return uE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),aE.apply(this,arguments)}function lE(){return(lE=m(function*(t,e){let n=yield Rx(t.appConfig);for(;1===n.authToken.requestStatus;)yield bx(100),n=yield Rx(t.appConfig);const r=n.authToken;return 0===r.requestStatus?oE(t,e):r})).apply(this,arguments)}function Rx(t){return Au(t,e=>{if(!Nx(e))throw ai.create("not-registered");return function zZ(t){return 1===t.requestStatus&&t.requestTime+mx<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uE(){return uE=m(function*(t,e){try{const n=yield function LZ(t,e){return sE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield hf(t.appConfig,r),n}catch(n){if(!vx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hf(t.appConfig,r)}else yield Xv(t.appConfig);throw n}}),uE.apply(this,arguments)}function Nx(t){return void 0!==t&&2===t.registrationStatus}function cE(){return(cE=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield tE(e);return r?r.catch(console.error):oE(e).catch(console.error),n.fid})).apply(this,arguments)}function dE(){return dE=m(function*(t,e=!1){const n=t;return yield function qZ(t){return hE.apply(this,arguments)}(n),(yield oE(n,e)).token}),dE.apply(this,arguments)}function hE(){return(hE=m(function*(t){const{registrationPromise:e}=yield tE(t);e&&(yield e)})).apply(this,arguments)}function gE(t){return ai.create("missing-app-config-values",{valueName:t})}const Px="installations",XZ=t=>{const e=t.getProvider("app").getImmediate(),n=function YZ(t){if(!t||!t.options)throw gE("App Configuration");if(!t.name)throw gE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Os(e,"heartbeat"),_delete:()=>Promise.resolve()}},JZ=t=>{const n=Os(t.getProvider("app").getImmediate(),Px).getImmediate();return{getId:()=>function WZ(t){return cE.apply(this,arguments)}(n),getToken:i=>function GZ(t){return dE.apply(this,arguments)}(n,i)}};(function eX(){kt(new St(Px,XZ,"PUBLIC")),kt(new St("installations-internal",JZ,"PRIVATE"))})(),Pe(gx,$v),Pe(gx,$v,"esm2017");const mE="@firebase/remote-config",on=new br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dX{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function hX(t=navigator){return t.languages&&t.languages[0]||t.language}class fX{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:hX()},u={method:"POST",headers:a,body:JSON.stringify(l)},c=fetch(o,u),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",y(b)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),on.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw on.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,_=v.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw on.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class mX{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function pX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function gX(t){if(!(t instanceof $n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+wv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class vX{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pf(t,e){const n=t.target.error||void 0;return on.create(e,{originalErrorMessage:n&&n?.message})}const Ls="app_namespace_store";class bX{constructor(e,n,r,i=function wX(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ls,{keyPath:"compositeKey"})}}catch(n){e(on.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ls],"readonly").objectStore(Ls),l=n.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{s(pf(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(u){s(on.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Ls],"readwrite").objectStore(Ls),u=r.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{o(pf(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(on.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ls],"readwrite").objectStore(Ls),l=n.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{s(pf(c,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(on.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class IX{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function DX(){return CE.apply(this,arguments)}function CE(){return(CE=m(function*(){if(!Ms())return!1;try{return yield bu()}catch{return!1}})).apply(this,arguments)}!function TX(){kt(new St("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw on.create("registration-window");if(!Ms())throw on.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw on.create("registration-project-id");if(!o)throw on.create("registration-api-key");if(!a)throw on.create("registration-app-id");const l=new bX(a,r.name,n=n||"firebase"),u=new IX(l),c=new Ia(mE);c.logLevel=ye.ERROR;const d=new fX(i,Bi,n,s,o,a),h=new mX(d,l),f=new dX(h,l,u,c),p=new vX(r,f,u,l,c);return function lX(t){const e=bn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Pe(mE,"0.4.4"),Pe(mE,"0.4.4","esm2017")}();const SX=(t,e)=>e.some(n=>t instanceof n);let Fx,Lx;const Vx=new WeakMap,wE=new WeakMap,Ux=new WeakMap,bE=new WeakMap,IE=new WeakMap;let TE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return wE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ux.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function OX(t){return"function"==typeof t?function kX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function MX(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(DE(this),e),li(Vx.get(this))}:function(...e){return li(t.apply(DE(this),e))}:function(e,...n){const r=t.call(DE(this),e,...n);return Ux.set(r,e.sort?e.sort():[e]),li(r)}}(t):(t instanceof IDBTransaction&&function NX(t){if(wE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wE.set(t,e)}(t),SX(t,function AX(){return Fx||(Fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,TE):t)}function li(t){if(t instanceof IDBRequest)return function RX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vx.set(n,t)}).catch(()=>{}),IE.set(e,t),e}(t);if(bE.has(t))return bE.get(t);const e=OX(t);return e!==t&&(bE.set(t,e),IE.set(e,t)),e}const DE=t=>IE.get(t);function Bx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function SE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),li(n).then(()=>{})}const xX=["get","getKey","getAll","getAllKeys","count"],FX=["put","add","delete","clear"],AE=new Map;function $x(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(AE.get(e))return AE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xX.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return AE.set(e,s),s}!function PX(t){TE=t(TE)}(t=>({...t,get:(e,n,r)=>$x(e,n)||t.get(e,n,r),has:(e,n)=>!!$x(e,n)||t.has(e,n)}));const LX="/firebase-messaging-sw.js",VX="/firebase-cloud-messaging-push-scope",jx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UX="https://fcmregistrations.googleapis.com/v1",Hx="google.c.a.c_id",BX="google.c.a.c_l",$X="google.c.a.ts";var gf=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(gf||{});function ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zX(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const ME="fcm_token_details_db",WX=5,zx="fcm_token_object_Store";function RE(){return RE=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(ME))return null;let e=null;return(yield Bx(ME,WX,{upgrade:(r=m(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(zx))return;const u=a.objectStore(zx),c=yield u.index("fcmSenderId").get(t);if(yield u.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ui(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ui(d.auth),p256dh:ui(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ui(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ui(d.auth),p256dh:ui(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ui(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield SE(ME),yield SE("fcm_vapid_details_db"),yield SE("undefined"),function qX(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),RE.apply(this,arguments)}const KX="firebase-messaging-database",QX=1,Vs="firebase-messaging-store";let NE=null;function PE(){return NE||(NE=Bx(KX,QX,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Vs)}})),NE}function Wx(t){return kE.apply(this,arguments)}function kE(){return kE=m(function*(t){const e=LE(t),r=yield(yield PE()).transaction(Vs).objectStore(Vs).get(e);if(r)return r;{const i=yield function GX(t){return RE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield OE(t,i),i}}),kE.apply(this,arguments)}function OE(t,e){return xE.apply(this,arguments)}function xE(){return(xE=m(function*(t,e){const n=LE(t),i=(yield PE()).transaction(Vs,"readwrite");return yield i.objectStore(Vs).put(e,n),yield i.done,e})).apply(this,arguments)}function FE(){return(FE=m(function*(t){const e=LE(t),r=(yield PE()).transaction(Vs,"readwrite");yield r.objectStore(Vs).delete(e),yield r.done})).apply(this,arguments)}function LE({appConfig:t}){return t.appId}const At=new br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function XX(t,e){return VE.apply(this,arguments)}function VE(){return(VE=m(function*(t,e){const n=yield jE(t),r=qx(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch($E(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function UE(){return(UE=m(function*(t,e){const n=yield jE(t),r=qx(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${$E(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function Gx(t,e){return BE.apply(this,arguments)}function BE(){return(BE=m(function*(t,e){const r={method:"DELETE",headers:yield jE(t)};try{const s=yield(yield fetch(`${$E(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function $E({projectId:t}){return`${UX}/projects/${t}/registrations`}function jE(t){return HE.apply(this,arguments)}function HE(){return(HE=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function qx({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==jx&&(i.web.applicationPubKey=r),i}const eJ=6048e5;function zE(){return zE=m(function*(t){const e=yield function rJ(t,e){return KE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ui(e.getKey("auth")),p256dh:ui(e.getKey("p256dh"))},r=yield Wx(t.firebaseDependencies);if(r){if(function iJ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+eJ?function nJ(t,e){return GE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Gx(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Qx(t.firebaseDependencies,n)}return Qx(t.firebaseDependencies,n)}),zE.apply(this,arguments)}function WE(){return WE=m(function*(t){const e=yield Wx(t.firebaseDependencies);e&&(yield Gx(t.firebaseDependencies,e.token),yield function YX(t){return FE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),WE.apply(this,arguments)}function GE(){return GE=m(function*(t,e){try{const n=yield function JX(t,e){return UE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield OE(t.firebaseDependencies,r),n}catch(n){throw yield function Kx(t){return WE.apply(this,arguments)}(t),n}}),GE.apply(this,arguments)}function Qx(t,e){return qE.apply(this,arguments)}function qE(){return(qE=m(function*(t,e){const r={token:yield XX(t,e),createTime:Date.now(),subscriptionOptions:e};return yield OE(t,r),r.token})).apply(this,arguments)}function KE(){return(KE=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zX(e)})})).apply(this,arguments)}function Yx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sJ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function oJ(t,e){e.data&&(t.data=e.data)}(e,t),function aJ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function Zx(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function QE(t){return At.create("missing-app-config-values",{valueName:t})}Zx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cJ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function uJ(t){if(!t||!t.options)throw QE("App Configuration Object");if(!t.name)throw QE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw QE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function YE(){return(YE=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(LX,{scope:VX}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function ZE(){return(ZE=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function Xx(t){return YE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function XE(){return(XE=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=jx)})).apply(this,arguments)}function JE(){return JE=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield function hJ(t,e){return XE.apply(this,arguments)}(t,e?.vapidKey),yield function dJ(t,e){return ZE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function tJ(t){return zE.apply(this,arguments)}(t)}),JE.apply(this,arguments)}function eC(){return(eC=m(function*(t,e,n){const r=function pJ(t){switch(t){case gf.NOTIFICATION_CLICKED:return"notification_open";case gf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Hx],message_name:n[BX],message_time:n[$X],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tC(){return tC=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===gf.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Yx(n)):t.onMessageHandler.next(Yx(n)));const r=n.data;(function lJ(t){return"object"==typeof t&&!!t&&Hx in t})(r)&&"1"===r["google.c.a.e"]&&(yield function fJ(t,e,n){return eC.apply(this,arguments)}(t,n.messageType,r))}),tC.apply(this,arguments)}const e1="@firebase/messaging",mJ=t=>{const e=new cJ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function gJ(t,e){return tC.apply(this,arguments)}(e,n)),e},_J=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Jx(t,e){return JE.apply(this,arguments)}(e,r)}};function n1(){return nC.apply(this,arguments)}function nC(){return(nC=m(function*(){try{yield bu()}catch{return!1}return typeof window<"u"&&Ms()&&vv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yJ(){kt(new St("messaging",mJ,"PUBLIC")),kt(new St("messaging-internal",_J,"PRIVATE")),Pe(e1,"0.12.4"),Pe(e1,"0.12.4","esm2017")}();const mf="analytics",CJ="firebase_id",wJ="origin",bJ=6e4,IJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sC="https://www.googletagmanager.com/gtag/js",ft=new Ia("@firebase/analytics"),Wt=new br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function DJ(t){if(!t.startsWith(sC)){const e=Wt.create("invalid-gtag-resource",{gtagURL:t});return ft.warn(e.message),""}return t}function r1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function oC(){return(oC=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield r1(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){ft.error(a)}t("config",i,s)})).apply(this,arguments)}function aC(){return(aC=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield r1(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ft.error(s)}})).apply(this,arguments)}const xJ=30,i1=new class LJ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function VJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function lC(){return(lC=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:VJ(r)},s=IJ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function uC(){return(uC=m(function*(t,e=i1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Wt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Wt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HJ;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:bJ),s1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function s1(t,e,n){return cC.apply(this,arguments)}function cC(){return cC=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=i1){var s;const{appId:o,measurementId:a}=t;try{yield function $J(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function UJ(t){return lC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!function jJ(t){if(!(t instanceof $n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw l}const c=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?wv(n,i.intervalMillis,xJ):wv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),ft.debug(`Calling attemptFetch again in ${c} millis`),s1(t,d,r,i)}}),cC.apply(this,arguments)}class HJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let dC,yC;function hC(){return(hC=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function vC(){return(vC=m(function*(){if(!Ms())return ft.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bu()}catch(t){return ft.warn(Wt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function EC(){return EC=m(function*(t,e,n,r,i,s,o){var a;const l=function BJ(t){return uC.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ft.error(f)),e.push(l);const u=function YJ(){return vC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);(function OJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(sC)&&n.src.includes(t))return n;return null})(s)||function AJ(t,e){const n=function SJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:DJ}),r=document.createElement("script"),i=`${sC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,c.measurementId),yC&&(i("consent","default",yC),function o1(t){yC=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[wJ]="firebase",h.update=!0,null!=d&&(h[CJ]=d),i("config",c.measurementId,h),dC&&(i("set",dC),function a1(t){dC=t}(void 0)),c.measurementId}),EC.apply(this,arguments)}class XJ{constructor(e){this.app=e}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},l1=[];const u1={};let d1,Tr,_f="dataLayer",CC=!1;function eee(t,e,n){!function JJ(){const t=[];if(yv()&&t.push("This is a browser extension environment."),vv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Wt.create("invalid-analytics-context",{errorInfo:e});ft.warn(n.message)}}();const r=t.options.appId;if(!r)throw Wt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Wt.create("no-api-key");ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[r])throw Wt.create("already-exists",{id:r});if(!CC){!function MJ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_f);const{wrappedGtag:s,gtagCore:o}=function kJ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function PJ(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[l,u]=a;yield function NJ(t,e,n,r,i){return aC.apply(this,arguments)}(t,e,n,l,u)}else if("config"===o){const[l,u]=a;yield function RJ(t,e,n,r,i,s){return oC.apply(this,arguments)}(t,e,n,r,l,u)}else if("consent"===o){const[l]=a;t("consent","update",l)}else if("get"===o){const[l,u,c]=a;t("get",l,u,c)}else if("set"===o){const[l]=a;t("set",l)}else t(o,...a)}catch(l){ft.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ir,l1,u1,_f,"gtag");Tr=s,d1=o,CC=!0}return Ir[r]=function ZJ(t,e,n,r,i,s,o){return EC.apply(this,arguments)}(t,l1,u1,e,d1,_f,n),new XJ(t)}function nee(){return wC.apply(this,arguments)}function wC(){return(wC=m(function*(){if(yv()||!vv()||!Ms())return!1;try{return yield bu()}catch{return!1}})).apply(this,arguments)}const h1="@firebase/analytics";!function iee(){kt(new St(mf,(e,{options:n})=>eee(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),kt(new St("analytics-internal",function t(e){try{const n=e.getProvider(mf).getImmediate();return{logEvent:(r,i,s)=>function ree(t,e,n,r){t=bn(t),function zJ(t,e,n,r,i){return hC.apply(this,arguments)}(Tr,Ir[t.app.options.appId],e,n,r).catch(i=>ft.error(i))}(n,r,i,s)}}catch(n){throw Wt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Pe(h1,"0.10.0"),Pe(h1,"0.10.0","esm2017")}();class see extends Yt{constructor(e,n){super()}schedule(e,n=0){return this}}const yf={setInterval(t,e,...n){const{delegate:r}=yf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=yf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class p1 extends see{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const g1={now:()=>(g1.delegate||Date).now(),delegate:void 0};class Mu{constructor(e,n=Mu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Mu.now=g1.now;class m1 extends Mu{constructor(e,n=Mu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const lee=new class aee extends m1{}(class oee extends p1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),uee=new m1(p1),Ru=new zo("7.6.1"),IC="__angularfire_symbol__analyticsIsSupportedValue",TC="__angularfire_symbol__analyticsIsSupported",DC="__angularfire_symbol__remoteConfigIsSupportedValue",SC="__angularfire_symbol__remoteConfigIsSupported",AC="__angularfire_symbol__messagingIsSupportedValue",MC="__angularfire_symbol__messagingIsSupported";function vf(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[TC]||(globalThis[TC]=nee().then(t=>globalThis[IC]=t).catch(()=>globalThis[IC]=!1)),globalThis[MC]||(globalThis[MC]=n1().then(t=>globalThis[AC]=t).catch(()=>globalThis[AC]=!1)),globalThis[SC]||(globalThis[SC]=DX().then(t=>globalThis[DC]=t).catch(()=>globalThis[DC]=!1));const Ef=(t,e)=>{const n=e?[e]:ix(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Sa(){}class _1{constructor(e,n=lee){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class cee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)),n.pipe(Tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cf=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _1(Zone.current)),this.insideAngular=n.run(()=>new _1(Zone.current,uee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(M(te))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Us(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Bs(t){return Us().ngZone.run(()=>t())}function hee(t){return Us(),function fee(t){return function(n){return(n=n.lift(new cee(t.ngZone))).pipe(Wc(t.outsideAngular),zc(t.insideAngular))}}(Us())(t)}const pee=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Bs(()=>t.apply(void 0,r))},Nu=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Bs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)))),r[s]=pee(r[s],n));const i=function dee(t){return Us().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof He){const s=Us();return i.pipe(Wc(s.outsideAngular),zc(s.insideAngular))}return Bs(()=>i)}return i instanceof He?i.pipe(hee):i instanceof Promise?Bs(()=>new Promise((s,o)=>i.then(a=>Bs(()=>s(a)),a=>Bs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Bs(()=>i)};class $s{constructor(e){return e}}class wf{constructor(){return ix()}}const NC=new R("angularfire2._apps"),mee={provide:$s,useFactory:function gee(t){return t&&1===t.length?t[0]:new $s(df())},deps:[[new ot,NC]]},_ee={provide:wf,deps:[[new ot,NC]]};function yee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $s(r)}}let vee=(()=>{class t{constructor(n){Pe("angularfire",Ru.full,"core"),Pe("angularfire",Ru.full,"app"),Pe("angular",A0.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(M(Ri))},t.\u0275mod=vt({type:t}),t.\u0275inj=ct({providers:[mee,_ee]}),t})();function Eee(t,...e){return{ngModule:vee,providers:[{provide:NC,useFactory:yee(t),multi:!0,deps:[te,et,Cf,...e]}]}}const Cee=Nu(rx,!0),PC=new Map,y1={activated:!1,tokenObservers:[]},wee={initialized:!1,enabled:!1};function qe(t){return PC.get(t)||Object.assign({},y1)}function bf(){return wee}const kC="https://content-firebaseappcheck.googleapis.com/v1",Dee="exchangeDebugToken",v1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Aee{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new wa,yield function Mee(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new wa,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Mt=new br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OC(t){if(!qe(t).activated)throw Mt.create("use-before-activation",{appName:t.name})}function Df(t,e){return FC.apply(this,arguments)}function FC(){return(FC=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Mt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Mt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Mt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(l[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}})).apply(this,arguments)}function E1(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${kC}/projects/${n}/apps/${r}:${Dee}?key=${i}`,body:{debug_token:e}}}const kee="firebase-app-check-database",Oee=1,Pu="firebase-app-check-store";let Sf=null;function LC(){return(LC=m(function*(t,e){const r=(yield function w1(){return Sf||(Sf=new Promise((t,e)=>{try{const n=indexedDB.open(kee,Oee);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pu,{keyPath:"compositeKey"})}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:n?.message}))}}),Sf)}()).transaction(Pu,"readwrite"),s=r.objectStore(Pu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Mt.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const ku=new Ia("@firebase/app-check");function BC(t,e){return Ms()?function Fee(t,e){return function b1(t,e){return LC.apply(this,arguments)}(function T1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ku.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function jC(){return bf().enabled}function HC(){return zC.apply(this,arguments)}function zC(){return(zC=m(function*(){const t=bf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jee={error:"UNKNOWN_ERROR"};function Hee(t){return Xh.encodeString(JSON.stringify(t),!1)}function Af(t){return WC.apply(this,arguments)}function WC(){return(WC=m(function*(t,e=!1){const n=t.app;OC(n);const r=qe(n);let s,i=r.token;if(i&&!Aa(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Aa(l)?i=l:yield BC(n,void 0))}if(!e&&i&&Aa(i))return{token:i.token};let a,o=!1;if(jC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Df(E1(n,yield HC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield BC(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield qe(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?ku.warn(l.message):ku.error(l),s=l}return i?s?a=Aa(i)?{token:i.token,internalError:s}:M1(s):(a={token:i.token},r.token=i,yield BC(n,i)):a=M1(s),o&&function A1(t,e){const n=qe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function D1(t){return GC.apply(this,arguments)}function GC(){return(GC=m(function*(t){const e=t.app;OC(e);const{provider:n}=qe(e);if(jC()){const r=yield HC(),{token:i}=yield Df(E1(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function KC(t,e){const n=qe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function S1(t){const{app:e}=t,n=qe(e);let r=n.tokenRefresher;r||(r=function zee(t){const{app:e}=t;return new Aee(m(function*(){let r;if(r=qe(e).token?yield Af(t,!0):yield Af(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=qe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},v1.RETRIAL_MIN_WAIT,v1.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Aa(t){return t.expireTimeMillis-Date.now()>0}function M1(t){return{token:Hee(jee),error:t}}class Wee{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=qe(this.app);for(const n of e)KC(this.app,n.next);return Promise.resolve()}}const L1="app-check-internal";!function ste(){kt(new St("app-check",t=>function Gee(t,e){return new Wee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(L1).initialize()})),kt(new St(L1,t=>function qee(t){return{getToken:e=>Af(t,e),getLimitedUseToken:()=>D1(t),addTokenListener:e=>function qC(t,e,n,r){const{app:i}=t,s=qe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Aa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),S1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>S1(t))}(t,"INTERNAL",e),removeTokenListener:e=>KC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Pe("@firebase/app-check","0.8.0")}();class Rf{constructor(){return Ef("app-check")}}typeof window<"u"&&window;const cte=function U1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},B1=new br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nf=new Ia("@firebase/auth");function Pf(t,...e){Nf.logLevel<=ye.ERROR&&Nf.error(`Auth (${Bi}): ${t}`,...e)}function an(t,...e){throw JC(t,...e)}function In(t,...e){return JC(t,...e)}function $1(t,e,n){const r=Object.assign(Object.assign({},cte()),{[e]:n});return new br("auth","Firebase",r).create(e,{appName:t.name})}function JC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B1.create(t,...e)}function T(t,e,...n){if(!t)throw JC(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function ci(t,e){t||Dr(e)}function Ou(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ew(){return"http:"===j1()||"https:"===j1()}function j1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=_v()||KO()}get(){return function hte(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ew()||yv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tw(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class H1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gte=new xu(3e4,6e4);function Ue(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ke(t,e,n,r){return nw.apply(this,arguments)}function nw(){return(nw=m(function*(t,e,n,r,i={}){return z1(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rs(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),H1.fetch()(W1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function z1(t,e,n){return rw.apply(this,arguments)}function rw(){return(rw=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pte),e);try{const i=new mte(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Fu(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Fu(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw Fu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $1(t,c,u);an(t,c)}}catch(i){if(i instanceof $n)throw i;an(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function di(t,e,n,r){return iw.apply(this,arguments)}function iw(){return(iw=m(function*(t,e,n,r,i={}){const s=yield Ke(t,e,n,r,i);return"mfaPendingCredential"in s&&an(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function W1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tw(t.config,i):`${t.config.apiScheme}://${i}`}class mte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),gte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(t,e,r);return i.customData._tokenResponse=n,i}function sw(){return(sw=m(function*(t,e){return Ke(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function aw(){return(aw=m(function*(t,e){return Ke(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lw(){return(lw=m(function*(t,e=!1){const n=bn(t),r=yield n.getIdToken(e),i=kf(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lu(uw(i.auth_time)),issuedAtTime:Lu(uw(i.iat)),expirationTime:Lu(uw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function uw(t){return 1e3*Number(t)}function kf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=ef(n);return i?JSON.parse(i):(Pf("Failed to decode base64 JWT payload"),null)}catch(i){return Pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hi(t,e){return cw.apply(this,arguments)}function cw(){return(cw=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof $n&&function wte({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class bte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class G1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vu(t){return dw.apply(this,arguments)}function dw(){return dw=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield hi(t,function vte(t,e){return aw.apply(this,arguments)}(n,{idToken:r}));T(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Dte(t){return t.map(e=>{var{providerId:n}=e,r=Hc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Tte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new G1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),dw.apply(this,arguments)}function hw(){return(hw=m(function*(t){const e=bn(t);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fw(){return(fw=m(function*(t,e){const n=yield z1(t,{},m(function*(){const r=Rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=W1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",H1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cte(t){const e=kf(t);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return T(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Ste(t,e){return fw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Uu;return r&&(T("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(T("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(T("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function ji(t,e){T("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class js{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Hc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new G1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield hi(n,n.stsTokenManager.getToken(n.auth,e));return T(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ete(t){return lw.apply(this,arguments)}(this,e)}reload(){return function Ite(t){return hw.apply(this,arguments)}(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Vu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield hi(e,function _te(t,e){return sw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:I,isAnonymous:O,providerData:ee,stsTokenManager:le}=n;T(b&&le,e,"internal-error");const Le=Uu.fromJSON(this.name,le);T("string"==typeof b,e,"internal-error"),ji(d,e.name),ji(h,e.name),T("boolean"==typeof I,e,"internal-error"),T("boolean"==typeof O,e,"internal-error"),ji(f,e.name),ji(p,e.name),ji(g,e.name),ji(_,e.name),ji(v,e.name),ji(y,e.name);const Xe=new js({uid:b,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Le,createdAt:v,lastLoginAt:y});return ee&&Array.isArray(ee)&&(Xe.providerData=ee.map(Mn=>Object.assign({},Mn))),_&&(Xe._redirectEventId=_),Xe}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Uu;i.updateFromServerResponse(n);const s=new js({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vu(s),s})()}}const q1=new Map;function fi(t){ci(t instanceof Function,"Expected a class definition");let e=q1.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q1.set(t,e),e)}const K1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Of(this.userKey,i.apiKey,s),this.fullPersistenceKey=Of("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?js._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Ra(fi(K1),e,r);const i=(yield Promise.all(n.map(function(){var u=m(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||fi(K1);const o=Of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(o);if(c){const d=js._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=m(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new Ra(s,e,r)):new Ra(s,e,r)})()}}function Q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eF(e))return"Blackberry";if(tF(e))return"Webos";if(pw(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(J1(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Y1(t=ht()){return/firefox\//i.test(t)}function pw(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(t=ht()){return/crios\//i.test(t)}function X1(t=ht()){return/iemobile/i.test(t)}function J1(t=ht()){return/android/i.test(t)}function eF(t=ht()){return/blackberry/i.test(t)}function tF(t=ht()){return/webos/i.test(t)}function xf(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nF(t=ht()){return xf(t)||J1(t)||tF(t)||eF(t)||/windows phone/i.test(t)||X1(t)}function rF(t,e=[]){let n;switch(t){case"Browser":n=Q1(ht());break;case"Worker":n=`${Q1(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${r}`}function gw(){return(gw=m(function*(t){return(yield Ke(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function iF(t,e){return mw.apply(this,arguments)}function mw(){return(mw=m(function*(t,e){return Ke(t,"GET","/v2/recaptchaConfig",Ue(t,e))})).apply(this,arguments)}function sF(t){return void 0!==t&&void 0!==t.getResponse}function oF(t){return void 0!==t&&void 0!==t.enterprise}class aF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function _w(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=In("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Pte(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function lF(t){return`__${t}${Math.floor(1e6*Math.random())}`}class uF{constructor(e){this.type="recaptcha-enterprise",this.auth=pt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=m(function*(u,c){iF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new aF(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(u,c){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,u){const c=window.grecaptcha;oF(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&oF(window.grecaptcha))o(u,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));_w("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,l)}).catch(c=>{l(c)})}}).catch(u=>{l(u)})})})()}}function Hi(t,e,n){return yw.apply(this,arguments)}function yw(){return(yw=m(function*(t,e,n,r=!1){const i=new uF(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Fte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Lte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cF(this),this.idTokenSubscription=new cF(this),this.beforeStateQueue=new Fte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ra.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return T(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Vu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?bn(e):null;return r&&T(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&T(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(fi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield iF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new aF(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new uF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&fi(e)||n._popupRedirectResolver;T(r,n,"argument-error"),n.redirectPersistenceManager=yield Ra.create(n,[fi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return T(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function dte(t,...e){Nf.logLevel<=ye.WARN&&Nf.warn(`Auth (${Bi}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function pt(t){return bn(t)}class cF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function HQ(t,e){const n=new zQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Ff{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}function pF(t,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*(t,e){return Ke(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ww(t,e){return bw.apply(this,arguments)}function bw(){return(bw=m(function*(t,e){return di(t,"POST","/v1/accounts:signInWithPassword",Ue(t,e))})).apply(this,arguments)}function Nw(){return(Nw=m(function*(t,e){return di(t,"POST","/v1/accounts:signInWithEmailLink",Ue(t,e))})).apply(this,arguments)}function Pw(){return(Pw=m(function*(t,e){return di(t,"POST","/v1/accounts:signInWithEmailLink",Ue(t,e))})).apply(this,arguments)}class Bu extends Ff{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Hi(e,i,"signInWithPassword");return ww(e,s)}return ww(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Hi(e,i,"signInWithPassword");return ww(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Gte(t,e){return Nw.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:an(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return pF(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function qte(t,e){return Pw.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:an(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function pi(t,e){return kw.apply(this,arguments)}function kw(){return(kw=m(function*(t,e){return di(t,"POST","/v1/accounts:signInWithIdp",Ue(t,e))})).apply(this,arguments)}class Hs extends Ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Hc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return pi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rs(n)}return e}}function Ow(){return(Ow=m(function*(t,e){return Ke(t,"POST","/v1/accounts:sendVerificationCode",Ue(t,e))})).apply(this,arguments)}function xw(){return(xw=m(function*(t,e){return di(t,"POST","/v1/accounts:signInWithPhoneNumber",Ue(t,e))})).apply(this,arguments)}function Fw(){return(Fw=m(function*(t,e){const n=yield di(t,"POST","/v1/accounts:signInWithPhoneNumber",Ue(t,e));if(n.temporaryProof)throw Fu(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const Xte={USER_NOT_FOUND:"user-not-found"};function Lw(){return(Lw=m(function*(t,e){return di(t,"POST","/v1/accounts:signInWithPhoneNumber",Ue(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Xte)})).apply(this,arguments)}class $u extends Ff{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new $u({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new $u({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return function Yte(t,e){return xw.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return function Zte(t,e){return Fw.apply(this,arguments)}(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Jte(t,e){return Lw.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||n||i||s?new $u({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class ju{constructor(e){var n,r,i,s,o,a;const l=Tu(Du(e)),u=null!==(n=l.apiKey)&&void 0!==n?n:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function ene(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);T(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function tne(t){const e=Tu(Du(t)).link,n=e?Tu(Du(e)).deep_link_id:null,r=Tu(Du(t)).deep_link_id;return(r?Tu(Du(r)).link:null)||r||n||e||t}(e);try{return new ju(n)}catch{return null}}}let gF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Bu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=ju.parseLink(r);return T(i,"argument-error"),Bu._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vw extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let mF=(()=>{class t extends Vw{constructor(){super("facebook.com")}static credential(n){return Hs._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),_F=(()=>{class t extends Vw{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hs._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class jn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield js._fromIdTokenResponse(e,r,i),o=yF(r);return new jn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=yF(r);return new jn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function yF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bf extends $n{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bf(e,n,r,i)}}function vF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Bf._fromErrorAndOperation(t,s,e,r):s})}function zw(){return(zw=m(function*(t,e,n=!1){const r=yield hi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return jn._forOperation(t,"link",r)})).apply(this,arguments)}function Gw(){return(Gw=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield hi(t,vF(r,i,e,t),n);T(s.idToken,r,"internal-error");const o=kf(s.idToken);T(o,r,"internal-error");const{sub:a}=o;return T(t.uid===a,r,"user-mismatch"),jn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&an(r,"user-mismatch"),s}})).apply(this,arguments)}function wF(t,e){return qw.apply(this,arguments)}function qw(){return(qw=m(function*(t,e,n=!1){const r="signIn",i=yield vF(t,r,e),s=yield jn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Kw(t,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=m(function*(t,e){return wF(pt(t),e)})).apply(this,arguments)}function lne(t,e,n){return Kw(bn(t),gF.credential(e,n))}const jf="__sak";class IF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tne=(()=>{class t extends IF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wne(){const t=ht();return pw(t)||xf(t)}()&&function Rte(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Mte(){return function FQ(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),TF=(()=>{class t extends IF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Sne=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function Dne(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Hf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ane{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=Hf("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function nt(){return window}function bb(){return typeof nt().WorkerGlobalScope<"u"&&"function"==typeof nt().importScripts}function Ib(){return(Ib=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const DF="firebaseLocalStorageDb",zf="firebaseLocalStorage",SF="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wf(t,e){return t.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function Tb(){const t=indexedDB.open(DF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zf,{keyPath:SF})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(zf)?e(r):(r.close(),yield function One(){const t=indexedDB.deleteDatabase(DF);return new zu(t).toPromise()}(),e(yield Tb()))}))})}function AF(t,e,n){return Db.apply(this,arguments)}function Db(){return(Db=m(function*(t,e,n){const r=Wf(t,!0).put({[SF]:e,value:n});return new zu(r).toPromise()})).apply(this,arguments)}function Sb(){return(Sb=m(function*(t,e){const n=Wf(t,!1).get(e),r=yield new zu(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function MF(t,e){const n=Wf(t,!0).delete(e);return new zu(n).toPromise()}const Vne=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield Tb()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return bb()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=Sne._getInstance(function Pne(){return bb()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function Rne(){return Ib.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ane(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Nne(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield Tb();return yield AF(n,jf,"1"),yield MF(n,jf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>AF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function xne(t,e){return Sb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>MF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=Wf(o,!1).getAll();return new zu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})(),Gf=1e12;class zne{constructor(e){this.auth=e,this.counter=Gf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Wne(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Gf;null===(n=this._widgets.get(r))||void 0===n||n.delete(),this._widgets.delete(r)}getResponse(e){var n;return(null===(n=this._widgets.get(e||Gf))||void 0===n?void 0:n.getResponse())||""}execute(e){var n=this;return m(function*(){var r;return null===(r=n._widgets.get(e||Gf))||void 0===r||r.execute(),""})()}}class Wne{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;T(i,"argument-error",{appName:n}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gne(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ab=lF("rcb"),qne=new xu(3e4,6e4);class Qne{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=nt().grecaptcha)||void 0===e||!e.render)}load(e,n=""){return T(function Yne(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&sF(nt().grecaptcha)?Promise.resolve(nt().grecaptcha):new Promise((r,i)=>{const s=nt().setTimeout(()=>{i(In(e,"network-request-failed"))},qne.get());nt()[Ab]=()=>{nt().clearTimeout(s),delete nt()[Ab];const a=nt().grecaptcha;if(!a||!sF(a))return void i(In(e,"internal-error"));const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)},_w(`https://www.google.com/recaptcha/api.js??${Rs({onload:Ab,render:"explicit",hl:n})}`).catch(()=>{clearTimeout(s),i(In(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!(null===(n=nt().grecaptcha)||void 0===n||!n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zne{load(e){return m(function*(){return new zne(e)})()}clearedOneInstance(){}}const RF="recaptcha",Xne={theme:"light",type:"image"};class NF{constructor(e,n=Object.assign({},Xne),r){this.parameters=n,this.type=RF,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(r),this.isInvisible="invisible"===this.parameters.size,T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;T(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zne:new Qne,this.validateStartingState()}verify(){var e=this;return m(function*(){e.assertNotDestroyed();const n=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(n)||new Promise(s=>{const o=a=>{a&&(e.tokenChangeListeners.delete(o),s(a))};e.tokenChangeListeners.add(o),e.isInvisible&&r.execute(n)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),"function"==typeof e)e(n);else if("string"==typeof e){const r=nt()[e];"function"==typeof r&&r(n)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return m(function*(){if(yield e.init(),!e.widgetId){let n=e.container;if(!e.isInvisible){const r=document.createElement("div");n.appendChild(r),n=r}e.widgetId=e.getAssertedRecaptcha().render(n,e.parameters)}return e.widgetId})()}init(){var e=this;return m(function*(){T(ew()&&!bb(),e.auth,"internal-error"),yield function Jne(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const n=yield function Nte(t){return gw.apply(this,arguments)}(e.auth);T(n,e.auth,"internal-error"),e.parameters.sitekey=n})()}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mb{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=$u._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}function PF(t,e,n){return Rb.apply(this,arguments)}function Rb(){return(Rb=m(function*(t,e,n){const r=pt(t),i=yield function kb(t,e,n){return Ob.apply(this,arguments)}(r,e,bn(n));return new Mb(i,s=>Kw(r,s))})).apply(this,arguments)}function Ob(){return Ob=m(function*(t,e,n){var r;const i=yield n.verify();try{let s;if(T("string"==typeof i,t,"argument-error"),T(n.type===RF,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const o=s.session;if("phoneNumber"in s)return T("enroll"===o.type,t,"internal-error"),(yield function yne(t,e){return Ke(t,"POST","/v2/accounts/mfaEnrollment:start",Ue(t,e))}(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{T("signin"===o.type,t,"internal-error");const a=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return T(a,t,"missing-multi-factor-info"),(yield function Une(t,e){return Ke(t,"POST","/v2/accounts/mfaSignIn:start",Ue(t,e))}(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield function Qte(t,e){return Ow.apply(this,arguments)}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}),Ob.apply(this,arguments)}function Ws(t,e){return e?fi(e):(T(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Fb extends Ff{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ere(t){return wF(t.auth,new Fb(t),t.bypassAuthState)}function tre(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),function CF(t,e){return Gw.apply(this,arguments)}(n,new Fb(t),t.bypassAuthState)}function nre(t){return Lb.apply(this,arguments)}function Lb(){return(Lb=m(function*(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),function Hw(t,e){return zw.apply(this,arguments)}(n,new Fb(t),t.bypassAuthState)})).apply(this,arguments)}class kF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ere;case"linkViaPopup":case"linkViaRedirect":return nre;case"reauthViaPopup":case"reauthViaRedirect":return tre;default:an(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rre=new xu(2e3,1e4);function qf(t,e,n){return Vb.apply(this,arguments)}function Vb(){return(Vb=m(function*(t,e,n){const r=pt(t);!function Ma(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&an(t,"argument-error"),$1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,zi);const i=Ws(r,n);return new $b(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let $b=(()=>{class t extends kF{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return T(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){ci(1===n.filter.length,"Popup operations only handle one event");const r=Hf();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(In(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,rre.get())};n()}}return t.currentPopupAction=null,t})();const ire="pendingRedirect",Wu=new Map;class sre extends kF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Wu.get(n.auth._key());if(!r){try{const s=(yield function ore(t,e){return jb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Wu.set(n.auth._key(),r)}return n.bypassAuthState||Wu.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function jb(){return(jb=m(function*(t,e){const n=function xF(t){return Of(ire,t.config.apiKey,t.name)}(e),r=function OF(t){return fi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function are(t,e){Wu.set(t._key(),e)}function FF(t,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=m(function*(t,e,n=!1){const r=pt(t),i=Ws(r,e),o=yield new sre(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class hre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VF(e))}saveEventToCache(e){this.cachedEventUids.add(VF(e)),this.lastProcessedEventTime=Date.now()}}function VF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Zb(){return(Zb=m(function*(t,e={}){return Ke(t,"GET","/v1/projects",e)})).apply(this,arguments)}const gre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mre=/^https?/;function Xb(){return Xb=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function pre(t){return Zb.apply(this,arguments)}(t);for(const n of e)try{if(yre(n))return}catch{}an(t,"unauthorized-domain")}),Xb.apply(this,arguments)}function yre(t){const e=Ou(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!mre.test(n))return!1;if(gre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vre=new xu(3e4,6e4);function BF(){const t=nt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Kf=null;const wre=new xu(5e3,15e3),bre="__/auth/iframe",Ire="emulator/auth/iframe",Tre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sre(t){const e=t.config;T(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tw(e,Ire):`https://${t.config.authDomain}/${bre}`,r={apiKey:e.apiKey,appName:t.name,v:Bi},i=Dre.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rs(r).slice(1)}`}function Jb(){return Jb=m(function*(t){const e=yield function Cre(t){return Kf=Kf||function Ere(t){return new Promise((e,n)=>{var r,i,s;function o(){BF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BF(),n(In(t,"network-request-failed"))},timeout:vre.get()})}if(null!==(i=null===(r=nt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=nt().gapi)||void 0===s||!s.load){const a=lF("iframefcb");return nt()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},_w(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw Kf=null,e})}(t),Kf}(t),n=nt().gapi;return T(n,t,"internal-error"),e.open({where:document.body,url:Sre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tre,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=In(t,"network-request-failed"),l=nt().setTimeout(()=>{o(a)},wre.get());function u(){nt().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Jb.apply(this,arguments)}const Mre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $F{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fre="__/auth/handler",Lre="emulator/auth/handler",Vre=encodeURIComponent("fac");function jF(t,e,n,r,i,s){return eI.apply(this,arguments)}function eI(){return(eI=m(function*(t,e,n,r,i,s){T(t.config.authDomain,t,"auth-domain-config-required"),T(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bi,eventId:i};if(e instanceof zi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ev(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Vw){const c=e.getScopes().filter(d=>""!==d);c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=yield t._getAppCheckToken(),u=l?`#${Vre}=${encodeURIComponent(l)}`:"";return`${function Ure({config:t}){return t.emulator?tw(t,Lre):`https://${t.authDomain}/${Fre}`}(t)}?${Rs(a).slice(1)}${u}`})).apply(this,arguments)}const tI="webStorageSupport",$re=class Bre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TF,this._completeRedirectFn=FF,this._overrideRedirectResult=are}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;ci(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield jF(e,n,r,Ou(),i);return function Ore(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Mre),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ht().toLowerCase();n&&(a=Z1(u)?"_blank":n),Y1(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Ate(t=ht()){var e;return xf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function xre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new $F(null);const d=window.open(e||"",a,c);T(d,t,"popup-blocked");try{d.focus()}catch{}return new $F(d)}(e,a,Hf())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function Mne(t){nt().location.href=t}(yield jF(e,n,r,Ou(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Are(t){return Jb.apply(this,arguments)}(e),i=new hre(e);return r.register("authEvent",s=>(T(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tI,{type:tI},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[tI];void 0!==o&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function _re(t){return Xb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nF()||pw()||xf()}};var WF="@firebase/auth";class jre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gre=GO("authIdTokenMaxAge")||300;let qF=null;const qre=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Gre)return;const s=r?.token;qF!==s&&(qF=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Kre(t=df()){const e=Os(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Vte(t,e){const n=Os(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(sf(n.getOptions(),e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:$re,persistence:[Vne,Tne,TF]}),r=GO("authTokenSyncURL");if(r){const s=qre(r);(function _ne(t,e,n){bn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function mne(t,e,n,r){bn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=HO("auth");return i&&function Bte(t,e,n){const r=pt(t);T(r._canInitEmulator,r,"emulator-config-failed"),T(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=dF(e),{host:o,port:a}=function $te(t){const e=dF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:hF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function jte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function zre(t){kt(new St("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;T(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rF(t)},u=new Lte(r,i,s,l);return function Ute(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kt(new St("auth-internal",e=>{const n=pt(e.getProvider("auth").getImmediate());return new jre(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(WF,"0.23.2",function Hre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Pe(WF,"0.23.2","esm2017")}("Browser");class Gu{constructor(e){return e}}class rI{constructor(){return Ef("auth")}}const iI=new R("angularfire2.auth-instances");function Yre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gu(r)}}const Zre={provide:rI,deps:[[new ot,iI]]},Xre={provide:Gu,useFactory:function Qre(t,e){const n=vf("auth",t,e);return n&&new Gu(n)},deps:[[new ot,iI],$s]};let Jre=(()=>{class t{constructor(){Pe("angularfire",Ru.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vt({type:t}),t.\u0275inj=ct({providers:[Xre,Zre]}),t})();function eie(t,...e){return{ngModule:Jre,providers:[{provide:iI,useFactory:Yre(t),multi:!0,deps:[te,et,Cf,wf,[new ot,Rf],...e]}]}}const tie=Nu(Kre,!0),nie=Nu(lne,!0);let QF=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(zr),C(_n))};static#t=this.\u0275dir=$({type:t})}return t})(),Gs=(()=>{class t extends QF{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=It(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,features:[me]})}return t})();const Sr=new R("NgValueAccessor"),sie={provide:Sr,useExisting:Te(()=>qu),multi:!0},aie=new R("CompositionEventMode");let qu=(()=>{class t extends QF{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oie(){const t=ki()?ki().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(zr),C(_n),C(aie,8))};static#t=this.\u0275dir=$({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ie("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Oe([sie]),me]})}return t})();function Wi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function ZF(t){return null!=t&&"number"==typeof t.length}const Ot=new R("NgValidators"),Gi=new R("NgAsyncValidators"),lie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qs{static min(e){return function XF(t){return e=>{if(Wi(e.value)||Wi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function JF(t){return e=>{if(Wi(e.value)||Wi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function eL(t){return Wi(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tL(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function nL(t){return Wi(t.value)||lie.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function rL(t){return e=>Wi(e.value)||!ZF(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iL(t){return e=>ZF(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function sL(t){if(!t)return Yf;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Wi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return dL(e)}static composeAsync(e){return hL(e)}}function Yf(t){return null}function oL(t){return null!=t}function aL(t){return Hl(t)?ut(t):t}function lL(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function uL(t,e){return e.map(n=>n(t))}function cL(t){return t.map(e=>function uie(t){return!t.validate}(e)?e:n=>e.validate(n))}function dL(t){if(!t)return null;const e=t.filter(oL);return 0==e.length?null:function(n){return lL(uL(n,e))}}function sI(t){return null!=t?dL(cL(t)):null}function hL(t){if(!t)return null;const e=t.filter(oL);return 0==e.length?null:function(n){return function rie(...t){const e=HD(t),{args:n,keys:r}=Rk(t),i=new He(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;cn(n[c]).subscribe(Je(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?Pk(r,a):a),s.complete())}))}});return e?i.pipe(Nk(e)):i}(uL(n,e).map(aL)).pipe(Ce(lL))}}function oI(t){return null!=t?hL(cL(t)):null}function fL(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pL(t){return t._rawValidators}function gL(t){return t._rawAsyncValidators}function aI(t){return t?Array.isArray(t)?t:[t]:[]}function Zf(t,e){return Array.isArray(t)?t.includes(e):t===e}function mL(t,e){const n=aI(e);return aI(t).forEach(i=>{Zf(n,i)||n.push(i)}),n}function _L(t,e){return aI(e).filter(n=>!Zf(t,n))}class yL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Gt extends yL{get formDirective(){return null}get path(){return null}}class qi extends yL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xf=(()=>{class t extends vL{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(qi,2))};static#t=this.\u0275dir=$({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&rh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]})}return t})(),lI=(()=>{class t extends vL{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(C(Gt,10))};static#t=this.\u0275dir=$({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&rh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]})}return t})();const Ku="VALID",ep="INVALID",Pa="PENDING",Qu="DISABLED";function dI(t){return(tp(t)?t.validators:t)||null}function hI(t,e){return(tp(e)?e.asyncValidators:t)||null}function tp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function CL(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new E(1e3,"");if(!r[n])throw new E(1001,"")}function wL(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new E(1002,"")})}class np{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ku}get invalid(){return this.status===ep}get pending(){return this.status==Pa}get disabled(){return this.status===Qu}get enabled(){return this.status!==Qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_L(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_L(e,this._rawAsyncValidators))}hasValidator(e){return Zf(this._rawValidators,e)}hasAsyncValidator(e){return Zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Qu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ku,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ku||this.status===Pa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qu:Ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pa,this._hasOwnPendingAsyncValidator=!0;const n=aL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Qu:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pa)?Pa:this._anyControlsHaveStatus(ep)?ep:Ku}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fie(t){return Array.isArray(t)?sI(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pie(t){return Array.isArray(t)?oI(t):t||null}(this._rawAsyncValidators)}}class Yu extends np{constructor(e,n,r){super(dI(n),hI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){wL(this,0,e),Object.keys(e).forEach(r=>{CL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class bL extends Yu{}const Ks=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Zu}),Zu="always";function rp(t,e){return[...e.path,t]}function Xu(t,e,n=Zu){fI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function mie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&IL(t,e)})}(t,e),function yie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _ie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&IL(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function gie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ip(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),op(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fI(t,e){const n=pL(t);null!==e.validator?t.setValidators(fL(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=gL(t);null!==e.asyncValidator?t.setAsyncValidators(fL(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();sp(e._rawValidators,i),sp(e._rawAsyncValidators,i)}function op(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=pL(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=gL(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return sp(e._rawValidators,r),sp(e._rawAsyncValidators,r),n}function IL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gI(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function mI(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===qu?n=s:function Cie(t){return Object.getPrototypeOf(t.constructor)===Gs}(s)?r=s:i=s}),i||r||n||null}function SL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function AL(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ec=class extends np{constructor(e=null,n,r){super(dI(n),hI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=AL(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){AL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Die={provide:qi,useExisting:Te(()=>yI)},NL=(()=>Promise.resolve())();let yI=(()=>{class t extends qi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new ec,this._registered=!1,this.name="",this.update=new We,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mI(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),gI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){NL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&ua(r);NL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?rp(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(C(Gt,9),C(Ot,10),C(Gi,10),C(Sr,10),C(mh,8),C(Ks,8))};static#t=this.\u0275dir=$({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oe([Die]),me,xn]})}return t})(),vI=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=$({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),kL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({})}return t})();const EI=new R("NgModelWithFormControlWarning"),Pie={provide:Gt,useExisting:Te(()=>tc)};let tc=(()=>{class t extends Gt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(op(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Xu(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ip(n.control||null,n,!1),function wie(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function DL(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(ip(r||null,n),(t=>t instanceof ec)(i)&&(Xu(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function TL(t,e){fI(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function vie(t,e){return op(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fI(this.form,this),this._oldForm&&op(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(C(Ot,10),C(Gi,10),C(Ks,8))};static#t=this.\u0275dir=$({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ie("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([Pie]),me,xn]})}return t})();const xie={provide:qi,useExisting:Te(()=>ap)};let ap=(()=>{class t extends qi{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mI(0,s)}ngOnChanges(n){this._added||this._setUpControl(),gI(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return rp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(C(Gt,13),C(Ot,10),C(Gi,10),C(Sr,10),C(EI,8))};static#n=this.\u0275dir=$({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([xie]),me,xn]})}return t})();const Fie={provide:Sr,useExisting:Te(()=>lp),multi:!0};function VL(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let lp=(()=>{class t extends Gs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=VL(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Lie(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=It(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ie("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oe([Fie]),me]})}return t})(),UL=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(VL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(C(_n),C(zr),C(lp,9))};static#t=this.\u0275dir=$({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Vie={provide:Sr,useExisting:Te(()=>bI),multi:!0};function BL(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bI=(()=>{class t extends Gs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Uie(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=It(t)))(i||t)}}();static#t=this.\u0275dir=$({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ie("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oe([Vie]),me]})}return t})(),$L=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(BL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(BL(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(C(_n),C(zr),C(bI,9))};static#t=this.\u0275dir=$({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),ZL=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({imports:[kL]})}return t})();class XL extends np{constructor(e,n,r){super(dI(n),hI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){wL(this,0,e),e.forEach((r,i)=>{CL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function JL(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let eV=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return JL(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Yu(i,s)}record(n,r=null){const i=this._reduceControls(n);return new bL(i,r)}control(n,r,i){let s={};return this.useNonNullable?(JL(r)?s=r:(s.validators=r,s.asyncValidators=i),new ec(n,{...s,nonNullable:!0})):new ec(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new XL(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof ec||n instanceof np?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kie=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ks,useValue:n.callSetDisabledState??Zu}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({imports:[ZL]})}return t})(),Qie=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:EI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ks,useValue:n.callSetDisabledState??Zu}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({imports:[ZL]})}return t})();class tV{}class Yie{}const gi="*";function Zie(t,e){return{type:7,name:t,definitions:e,options:{}}}function nV(t,e=null){return{type:4,styles:e,timings:t}}function rV(t,e=null){return{type:2,steps:t,options:e}}function nc(t){return{type:6,styles:t,offset:null}}function TI(t,e,n){return{type:0,name:t,styles:e,options:n}}function iV(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class rc{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class sV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}const oV=["toast-component",""];function Xie(t,e){if(1&t){const n=jl();k(0,"button",5),ie("click",function(){return hs(n),fs(En().remove())}),k(1,"span",6),ue(2,"\xd7"),F()()}}function Jie(t,e){if(1&t&&(Bl(0),ue(1),$l()),2&t){const n=En(2);fe(1),Qr("[",n.duplicatesCount+1,"]")}}function ese(t,e){if(1&t&&(k(0,"div"),ue(1),vn(2,Jie,2,1,"ng-container",4),F()),2&t){const n=En();Kr(n.options.titleClass),nn("aria-label",n.title),fe(1),Qr(" ",n.title," "),fe(1),we("ngIf",n.duplicatesCount)}}function tse(t,e){if(1&t&&Ee(0,"div",7),2&t){const n=En();Kr(n.options.messageClass),we("innerHTML",n.message,km)}}function nse(t,e){if(1&t&&(k(0,"div",8),ue(1),F()),2&t){const n=En();Kr(n.options.messageClass),nn("aria-label",n.message),fe(1),Qr(" ",n.message," ")}}function rse(t,e){if(1&t&&(k(0,"div"),Ee(1,"div",9),F()),2&t){const n=En();fe(1),ia("width",n.width+"%")}}class cse{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dse{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class hse{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new lt;_activate=new lt;_manualClose=new lt;_resetTimeout=new lt;_countDuplicate=new lt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class up{toastId;config;message;title;toastType;toastRef;_onTap=new lt;_onAction=new lt;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const lV=new R("ToastConfig");class fse extends dse{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let pse=(()=>{class t{_document=A(dt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class gse{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let mse=(()=>{class t{_overlayContainer=A(pse);_componentFactoryResolver=A(Al);_appRef=A(Xr);_document=A(dt);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new fse(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new gse(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cp=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...n.default,...n.config},n.config.iconClasses&&(this.toastrConfig.iconClasses={...n.default.iconClasses,...n.config.iconClasses})}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===n)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(n={}){return{...this.toastrConfig,...n}}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(mn.HTML,r));const c=new hse(l),d=new up(this.index,s,u,i,n,c),f=et.create({providers:[{provide:up,useValue:d}],parent:this._injector}),p=new cse(s.toastComponent,f),g=l.attach(p,s.newestOnTop);c.componentInstance=g.instance;const _={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:g};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}static \u0275fac=function(r){return new(r||t)(M(lV),M(mse),M(et),M(Sk),M(te))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const _se={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(C(cp),C(up),C(te))};static \u0275cmp=qn({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&ie("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(M_("@flyInOut",i.state),Kr(i.toastClasses),ia("display",i.displayStyle))},standalone:!0,features:[uh],attrs:oV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(vn(0,Xie,3,0,"button",0),vn(1,ese,3,5,"div",1),vn(2,tse,1,3,"div",2),vn(3,nse,2,4,"div",3),vn(4,rse,2,2,"div",4)),2&r&&(we("ngIf",i.options.closeButton),fe(1),we("ngIf",i.title),fe(1),we("ngIf",i.message&&i.options.enableHtml),fe(1),we("ngIf",i.message&&!i.options.enableHtml),fe(1),we("ngIf",i.options.progressBar))},dependencies:[Ay],encapsulation:2,data:{animation:[Zie("flyInOut",[TI("inactive",nc({opacity:0})),TI("active",nc({opacity:1})),TI("removed",nc({opacity:0})),iV("inactive => active",nV("{{ easeTime }}ms {{ easing }}")),iV("active => removed",nV("{{ easeTime }}ms {{ easing }}"))])]}})}return t})()},yse=(t={})=>function xm(t){return{\u0275providers:t}}([{provide:lV,useValue:{default:_se,config:t}}]);let uV=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[yse(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t});static \u0275inj=ct({})}return t})(),cV=(()=>{class t{get wondowRef(){return window}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dV=function(t){return{"d-none":t}};let vse=(()=>{class t{constructor(n,r,i,s){this.formBuilder=n,this.toastr=r,this.auth=i,this.windowService=s,this.OTPButton=!1,this.emailForm=!1,this.login=this.formBuilder.group({email:["",qs.required],pass:["",qs.required]}),i.languageCode="ar",this.windowRef=s.wondowRef}signInEmail(){this.login.valid&&nie(this.auth,this.login.value.email,this.login.value.pass).then(n=>{console.log(n),this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d","",{positionClass:"toast-top-right"})}).catch(()=>{this.toastr.error("\u062e\u0637\u0627\u0621 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","",{positionClass:"toast-top-right"})})}google(){qf(this.auth,new _F).then(n=>{console.log(n),this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d","",{positionClass:"toast-top-right"})}).catch(()=>{this.toastr.error("\u062e\u0637\u0627\u0621 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","",{positionClass:"toast-top-right"})})}facebook(){qf(this.auth,new mF).then(n=>{console.log(n),this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d","",{positionClass:"toast-top-right"})}).catch(()=>{this.toastr.error("\u062e\u0637\u0627\u0621 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","",{positionClass:"toast-top-right"})})}phone(n){PF(this.auth,n,this.windowRef.RecaptchaVerifier).then(r=>{this.windowRef.confirmationResult=r,console.log(r),this.OTPButton=!0}).catch(r=>{console.log(r)})}sendOTP(n){this.windowRef.confirmationResult.confirm(n).then(()=>{this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d","",{positionClass:"toast-top-right"})}).catch(()=>{this.toastr.error("\u062e\u0637\u0627\u0621 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","",{positionClass:"toast-top-right"})})}checkRobot(){this.windowRef.RecaptchaVerifier=new NF("receptcha-container",{size:"normal",callback:()=>{}},this.auth),this.windowRef.RecaptchaVerifier.render()}ngAfterViewInit(){}static#e=this.\u0275fac=function(r){return new(r||t)(C(eV),C(cp),C(Gu),C(cV))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-login"]],decls:40,vars:8,consts:[[1,"col-12","login-div-container"],[1,"col-sm-4","text-center","login-div"],[1,"p-2","position-relative",3,"formGroup","ngSubmit"],[1,"login-word"],[1,"form-email-pass",3,"ngClass"],[1,"form-group"],["type","email","placeholder","email","formControlName","email",1,"form-control"],["type","password","placeholder","password","formControlName","pass",1,"form-control"],[1,"text-center","btn-login-div"],["type","submit",1,"btn","btn-login"],[1,"phone-login",3,"ngClass"],[1,"bi","bi-arrow-left-circle",3,"click"],["type","tel","placeholder","phone",1,"form-control"],["tel",""],["id","receptcha-container"],[1,"btn","btn-login",3,"disabled","click"],["type","tel","placeholder","otp",1,"form-control"],["otp",""],[1,"btn","btn-login",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"icon-btn",3,"click"],[1,"bi","bi-google","icon-login"],[1,"bi","bi-facebook","icon-login"],["type","button",1,"icon-btn",3,"click"],[1,"bi","bi-telephone-plus","icon-login"],["routerLink","/sign-up",1,"signUp"]],template:function(r,i){if(1&r){const s=jl();k(0,"div",0)(1,"div",1)(2,"form",2),ie("ngSubmit",function(){return i.signInEmail()}),k(3,"p",3),ue(4," login"),F(),k(5,"div",4)(6,"div",5),Ee(7,"input",6),F(),k(8,"div",5),Ee(9,"input",7),F(),k(10,"div",8)(11,"button",9),ue(12,"login"),F()()(),k(13,"div",10)(14,"i",11),ie("click",function(){return i.emailForm=!1}),F(),k(15,"div",5),Ee(16,"input",12,13),F(),Ee(18,"div",14),k(19,"button",15),ie("click",function(){hs(s);const a=Ul(17);return fs(i.phone(a.value))}),ue(20,"send Otp"),F(),k(21,"div",5),Ee(22,"input",16,17),F(),k(24,"div",8)(25,"button",18),ie("click",function(){hs(s);const a=Ul(23);return fs(i.sendOTP(a.value))}),ue(26,"verify"),F()()(),k(27,"div",19)(28,"div")(29,"a")(30,"button",20),ie("click",function(){return i.google()}),Ee(31,"i",21),F()(),k(32,"a")(33,"button",20),ie("click",function(){return i.facebook()}),Ee(34,"i",22),F()(),k(35,"a")(36,"button",23),ie("click",function(){return i.emailForm=!0,i.checkRobot()}),Ee(37,"i",24),F()()(),k(38,"a",25),ue(39,"sign up now? "),F()()()()()}2&r&&(fe(2),we("formGroup",i.login),fe(3),we("ngClass",Yl(4,dV,i.emailForm)),fe(8),we("ngClass",Yl(6,dV,!i.emailForm)),fe(6),we("disabled",i.OTPButton))},dependencies:[Sy,Ea,vI,qu,Xf,lI,tc,ap],styles:[".login-div-container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{height:calc(100vh - 81px);display:flex;justify-content:center;align-items:center;background-image:linear-gradient(to right,#107797,#ff9dae)}form[_ngcontent-%COMP%]{border-radius:15px;box-shadow:inset -3px -3px 5px #d3d3d3,inset 3px 3px 5px #d3d3d3;padding:30px 7%!important}.btn-login-div[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;margin-top:20px}.btn-login[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;width:125px;border:none;background-image:linear-gradient(to right,#00c2ff,#ff9cad)}input[_ngcontent-%COMP%]{margin:15px 0;background:transparent!important;color:#fff}input[_ngcontent-%COMP%]:focus{background:transparent;color:#fff}input[_ngcontent-%COMP%]::placeholder{color:#d3d3d3}.icon-login[_ngcontent-%COMP%]{margin:5px;font-size:30px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none}.bi-facebook[_ngcontent-%COMP%]{color:#0000e5}.bi-google[_ngcontent-%COMP%]{color:#d1007c}.bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px white}.signUp[_ngcontent-%COMP%]{color:#fff;font-size:17px}.bi[_ngcontent-%COMP%]{margin:15px 20px}.bi[_ngcontent-%COMP%]{margin:15px 10px!important}#receptcha-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}.bi-telephone-plus.icon-login[_ngcontent-%COMP%]{font-size:24px;color:#fffaf0}.bi-arrow-left-circle[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;color:#fff;font-size:25px}a[_ngcontent-%COMP%]:hover   .bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px #44f6ff!important}.login-word[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:Lobster,sans-serif;font-weight:400;font-style:normal;font-size:30px}@media screen and (max-width:700px){.login-div-container[_ngcontent-%COMP%]{display:block;padding-top:50px}form[_ngcontent-%COMP%]{width:96%;margin-left:2%}.container-fluid[_ngcontent-%COMP%]{padding-top:50px;display:block!important}}"]})}return t})();const hV=function(t){return{"d-none":t}},Ese=[{path:"",component:(()=>{class t{constructor(n,r){this.toastr=n,this.route=r,this.university="",this.faculty="",this.year=""}theChoice(){""===this.university?this.toastr.error("\u0627\u062e\u062a\u0631 \u0627\u0644\u062c\u0627\u0645\u0639\u0629"):""===this.faculty?this.toastr.error("\u0627\u062e\u062a\u0631 \u0627\u0644\u0643\u0644\u064a\u0629"):""===this.year?this.toastr.error("\u0627\u062e\u062a\u0631 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u062f\u0631\u0627\u0633\u064a\u0629"):this.route.navigate([`slides/${this.university}-${this.faculty}-${this.year}`])}static#e=this.\u0275fac=function(r){return new(r||t)(C(cp),C(wn))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-home"]],decls:31,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-4"],[1,"form-group"],["for","university"],["id","university","aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],["for","faculty"],["id","faculty","aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["value","Faculty of medicine"],["value","faculty of Pharmacy"],["value","faculty of Engineering"],["for","year"],["id","year","aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["value","One"],["value","Two"],["value","Three"],[1,"text-center"],[1,"btn","btn-login","mt-3",3,"click"]],template:function(r,i){1&r&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),ue(4,"university : "),F(),k(5,"select",4),ie("ngModelChange",function(o){return i.university=o}),k(6,"option",5),ue(7,"sohag university"),F()()(),k(8,"div",2)(9,"label",6),ue(10,"faculty : "),F(),k(11,"select",7),ie("ngModelChange",function(o){return i.faculty=o}),k(12,"option",8),ue(13,"Faculty of medicine"),F(),k(14,"option",9),ue(15,"faculty of Pharmacy"),F(),k(16,"option",10),ue(17,"faculty of Engineering"),F()()(),k(18,"div",2)(19,"label",11),ue(20,"year :"),F(),k(21,"select",12),ie("ngModelChange",function(o){return i.year=o}),k(22,"option",13),ue(23,"One"),F(),k(24,"option",14),ue(25,"Two"),F(),k(26,"option",15),ue(27,"Three"),F()()(),k(28,"div",16)(29,"button",17),ie("click",function(){return i.theChoice()}),ue(30," show "),F()()()()),2&r&&(fe(5),we("ngModel",i.university),fe(6),we("ngModel",i.faculty),fe(10),we("ngModel",i.year))},dependencies:[UL,$L,lp,Xf,yI],styles:["label[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:500;color:beige;margin-bottom:2px}.col-sm-4[_ngcontent-%COMP%]{padding:20px 15px 16px;background:rgba(0,0,0,.1882352941);border-radius:10px;box-shadow:inset -3px -3px 5px #00000030}.btn-login[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#468ea5,#ff9cad)!important}",".login-div-container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{height:calc(100vh - 81px);display:flex;justify-content:center;align-items:center;background-image:linear-gradient(to right,#107797,#ff9dae)}form[_ngcontent-%COMP%]{border-radius:15px;box-shadow:inset -3px -3px 5px #d3d3d3,inset 3px 3px 5px #d3d3d3;padding:30px 7%!important}.btn-login-div[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;margin-top:20px}.btn-login[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;width:125px;border:none;background-image:linear-gradient(to right,#00c2ff,#ff9cad)}input[_ngcontent-%COMP%]{margin:15px 0;background:transparent!important;color:#fff}input[_ngcontent-%COMP%]:focus{background:transparent;color:#fff}input[_ngcontent-%COMP%]::placeholder{color:#d3d3d3}.icon-login[_ngcontent-%COMP%]{margin:5px;font-size:30px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none}.bi-facebook[_ngcontent-%COMP%]{color:#0000e5}.bi-google[_ngcontent-%COMP%]{color:#d1007c}.bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px white}.signUp[_ngcontent-%COMP%]{color:#fff;font-size:17px}.bi[_ngcontent-%COMP%]{margin:15px 20px}.bi[_ngcontent-%COMP%]{margin:15px 10px!important}#receptcha-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}.bi-telephone-plus.icon-login[_ngcontent-%COMP%]{font-size:24px;color:#fffaf0}.bi-arrow-left-circle[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;color:#fff;font-size:25px}a[_ngcontent-%COMP%]:hover   .bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px #44f6ff!important}.login-word[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:Lobster,sans-serif;font-weight:400;font-style:normal;font-size:30px}@media screen and (max-width:700px){.login-div-container[_ngcontent-%COMP%]{display:block;padding-top:50px}form[_ngcontent-%COMP%]{width:96%;margin-left:2%}.container-fluid[_ngcontent-%COMP%]{padding-top:50px;display:block!important}}"]})}return t})()},{path:"slides/:id",component:(()=>{class t{constructor(n){this.activatedRoutes=n,n.params.subscribe(r=>{this.dataInLink=r,console.log(this.dataInLink.id.toString().split("-"))})}static#e=this.\u0275fac=function(r){return new(r||t)(C(As))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-slides"]],decls:2,vars:0,template:function(r,i){1&r&&(k(0,"p"),ue(1,"slides works!"),F())}})}return t})()},{path:"login",component:vse},{path:"sign-up",component:(()=>{class t{constructor(n,r,i){this.formBuilder=n,this.auth=r,this.windowService=i,this.OTPButton=!1,this.emailForm=!1,this.signUp=this.formBuilder.group({name:["",qs.required],phone:["",qs.required],photo:["",qs.required],email:["",qs.required],pass:["",qs.required]}),r.languageCode="ar",this.windowRef=i.wondowRef}google(){qf(this.auth,new _F).then(n=>{console.log(n)})}facebook(){qf(this.auth,new mF).then(n=>{console.log(n)})}phone(n){PF(this.auth,n,this.windowRef.RecaptchaVerifier).then(r=>{this.windowRef.confirmationResult=r,console.log(r),this.OTPButton=!0}).catch(r=>{console.log(r)})}sendOTP(n){this.windowRef.confirmationResult.confirm(n).then(()=>{console.log("login successfully")}).catch(()=>{console.log("login error")})}ngAfterViewInit(){}checkRobot(){this.windowRef.RecaptchaVerifier=new NF("receptcha-container",{size:"normal",callback:()=>{}},this.auth),this.windowRef.RecaptchaVerifier.render()}static#e=this.\u0275fac=function(r){return new(r||t)(C(eV),C(Gu),C(cV))};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-sign-up"]],decls:44,vars:8,consts:[[1,"col-12","login-div-container"],[1,"col-sm-4","text-center","login-div"],["action","",1,"p-2","position-relative",3,"formGroup"],[1,"login-word"],[1,"form-createion",3,"ngClass"],[1,"form-group"],["type","name","placeholder","name","formControlName","name",1,"form-control"],["type","phone","placeholder","phone","formControlName","phone",1,"form-control"],["type","email","placeholder","email","formControlName","email",1,"form-control"],["type","password","placeholder","password","formControlName","pass",1,"form-control"],[1,"text-center","btn-login-div"],[1,"btn","btn-login"],[1,"phone-login",3,"ngClass"],[1,"bi","bi-arrow-left-circle",3,"click"],["type","tel","placeholder","phone",1,"form-control"],["tel",""],["id","receptcha-container"],[1,"btn","btn-login",3,"disabled","click"],["type","tel","placeholder","otp",1,"form-control"],["otp",""],[1,"btn","btn-login",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"icon-btn",3,"click"],[1,"bi","bi-google","icon-login"],[1,"bi","bi-facebook","icon-login"],["type","button",1,"icon-btn",3,"click"],[1,"bi","bi-telephone-plus","icon-login"],["routerLink","/login",1,"signUp"]],template:function(r,i){if(1&r){const s=jl();k(0,"div",0)(1,"div",1)(2,"form",2)(3,"p",3),ue(4," create an accout"),F(),k(5,"div",4)(6,"div",5),Ee(7,"input",6),F(),k(8,"div",5),Ee(9,"input",7),F(),k(10,"div",5),Ee(11,"input",8),F(),k(12,"div",5),Ee(13,"input",9),F(),k(14,"div",10)(15,"button",11),ue(16,"create"),F()()(),k(17,"div",12)(18,"i",13),ie("click",function(){return i.emailForm=!1}),F(),k(19,"div",5),Ee(20,"input",14,15),F(),Ee(22,"div",16),k(23,"button",17),ie("click",function(){hs(s);const a=Ul(21);return fs(i.phone(a.value))}),ue(24,"send Otp"),F(),k(25,"div",5),Ee(26,"input",18,19),F(),k(28,"div",10)(29,"button",20),ie("click",function(){hs(s);const a=Ul(27);return fs(i.sendOTP(a.value))}),ue(30,"verify"),F()()(),k(31,"div",21)(32,"div")(33,"a")(34,"button",22),ie("click",function(){return i.google()}),Ee(35,"i",23),F()(),k(36,"a")(37,"button",22),ie("click",function(){return i.facebook()}),Ee(38,"i",24),F()(),k(39,"a")(40,"button",25),ie("click",function(){return i.emailForm=!0,i.checkRobot()}),Ee(41,"i",26),F()()(),k(42,"a",27),ue(43,"login now ? "),F()()()()()}2&r&&(fe(2),we("formGroup",i.signUp),fe(3),we("ngClass",Yl(4,hV,i.emailForm)),fe(12),we("ngClass",Yl(6,hV,!i.emailForm)),fe(6),we("disabled",i.OTPButton))},dependencies:[Sy,Ea,vI,qu,Xf,lI,tc,ap],styles:["@media screen and (max-width: 700px){.login-div-container[_ngcontent-%COMP%]{padding-top:25px!important}}",".login-div-container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{height:calc(100vh - 81px);display:flex;justify-content:center;align-items:center;background-image:linear-gradient(to right,#107797,#ff9dae)}form[_ngcontent-%COMP%]{border-radius:15px;box-shadow:inset -3px -3px 5px #d3d3d3,inset 3px 3px 5px #d3d3d3;padding:30px 7%!important}.btn-login-div[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:15px;margin-top:20px}.btn-login[_ngcontent-%COMP%]{color:#fff;text-transform:capitalize;width:125px;border:none;background-image:linear-gradient(to right,#00c2ff,#ff9cad)}input[_ngcontent-%COMP%]{margin:15px 0;background:transparent!important;color:#fff}input[_ngcontent-%COMP%]:focus{background:transparent;color:#fff}input[_ngcontent-%COMP%]::placeholder{color:#d3d3d3}.icon-login[_ngcontent-%COMP%]{margin:5px;font-size:30px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none}.bi-facebook[_ngcontent-%COMP%]{color:#0000e5}.bi-google[_ngcontent-%COMP%]{color:#d1007c}.bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px white}.signUp[_ngcontent-%COMP%]{color:#fff;font-size:17px}.bi[_ngcontent-%COMP%]{margin:15px 20px}.bi[_ngcontent-%COMP%]{margin:15px 10px!important}#receptcha-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}.bi-telephone-plus.icon-login[_ngcontent-%COMP%]{font-size:24px;color:#fffaf0}.bi-arrow-left-circle[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;color:#fff;font-size:25px}a[_ngcontent-%COMP%]:hover   .bi[_ngcontent-%COMP%]:before{text-shadow:0px 0px 35px #44f6ff!important}.login-word[_ngcontent-%COMP%]{text-align:center;color:#fff;font-family:Lobster,sans-serif;font-weight:400;font-style:normal;font-size:30px}@media screen and (max-width:700px){.login-div-container[_ngcontent-%COMP%]{display:block;padding-top:50px}form[_ngcontent-%COMP%]{width:96%;margin-left:2%}.container-fluid[_ngcontent-%COMP%]{padding-top:50px;display:block!important}}"]})}return t})()}];let Cse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({imports:[LO.forRoot(Ese,{useHash:!0,scrollPositionRestoration:"enabled"}),LO]})}return t})(),wse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-z-footer"]],decls:0,vars:0,template:function(r,i){}})}return t})(),bse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"navbar"],[1,"container-fluid","d-flex","justify-content-between"],["src","assets/logo-no-background.png","alt","","routerLink","",1,"img-logo"],[1,"bi","bi-translate"]],template:function(r,i){1&r&&(k(0,"nav",0)(1,"div",1),Ee(2,"img",2),k(3,"button"),Ee(4,"i",3),F()()())},dependencies:[Ea],styles:[".navbar[_ngcontent-%COMP%]{background-color:#131521!important}.img-logo[_ngcontent-%COMP%]{height:65px}.bi[_ngcontent-%COMP%]{color:#1b97e3;font-size:25px}button[_ngcontent-%COMP%]{background:none;border:none}"]})}return t})(),Ise=(()=>{class t{constructor(){this.title="Merit-questions"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=qn({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Ee(0,"app-header")(1,"router-outlet")(2,"app-z-footer")},dependencies:[av,wse,bse]})}return t})();function fV(t){return new E(3e3,!1)}function Ki(t){switch(t.length){case 0:return new rc;case 1:return t[0];default:return new sV(t)}}function pV(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),c=u==o,d=c&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case gi:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=u}),i.length)throw function qse(t){return new E(3502,!1)}();return s}function SI(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&AI(n,"start",t)));break;case"done":t.onDone(()=>r(n&&AI(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&AI(n,"destroy",t)))}}function AI(t,e,n){const s=MI(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function MI(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Tn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function gV(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const soe=(()=>typeof document>"u"?null:document.documentElement)();function RI(t){const e=t.parentNode||t.host||null;return e===soe?null:e}let Ys=null,mV=!1;function _V(t,e){for(;e;){if(e===t)return!0;e=RI(e)}return!1}function yV(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let vV=(()=>{class t{validateStyleProperty(n){return function aoe(t){Ys||(Ys=function loe(){return typeof document<"u"?document.body:null}()||{},mV=!!Ys.style&&"WebkitAppearance"in Ys.style);let e=!0;return Ys.style&&!function ooe(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ys.style,!e&&mV&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ys.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return _V(n,r)}getParentElement(n){return RI(n)}query(n,r,i){return yV(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],l){return new rc(i,s)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})(),NI=(()=>{class t{static#e=this.NOOP=new vV}return t})();const uoe=1e3,PI="ng-enter",dp="ng-leave",hp="ng-trigger",fp=".ng-trigger",CV="ng-animating",kI=".ng-animating";function mi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OI(parseFloat(e[1]),e[2])}function OI(t,e){return"s"===e?t*uoe:t}function pp(t,e,n){return t.hasOwnProperty("duration")?t:function doe(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(fV()),{duration:0,delay:0,easing:""};i=OI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=OI(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function Tse(){return new E(3100,!1)}()),a=!0),s<0&&(e.push(function Dse(){return new E(3101,!1)}()),a=!0),a&&e.splice(l,0,fV())}return{duration:i,delay:s,easing:o}}(t,e,n)}function ic(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function wV(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Qi(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Ar(t,e,n){e.forEach((r,i)=>{const s=FI(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Zs(t,e){e.forEach((n,r)=>{const i=FI(r);t.style[i]=""})}function sc(t){return Array.isArray(t)?1==t.length?t[0]:rV(t):t}const xI=new RegExp("{{\\s*(.+?)\\s*}}","g");function IV(t){let e=[];if("string"==typeof t){let n;for(;n=xI.exec(t);)e.push(n[1]);xI.lastIndex=0}return e}function oc(t,e,n){const r=t.toString(),i=r.replace(xI,(s,o)=>{let a=e[o];return null==a&&(n.push(function Ase(t){return new E(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function gp(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const poe=/-+([a-z0-9])/g;function FI(t){return t.replace(poe,(...e)=>e[1].toUpperCase())}function Dn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function Mse(t){return new E(3004,!1)}()}}function TV(t,e){return window.getComputedStyle(t)[e]}const mp="*";function _oe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function yoe(t,e,n){if(":"==t[0]){const l=function voe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function Hse(t){return new E(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function jse(t){return new E(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(DV(i,o));"<"==s[0]&&!(i==mp&&o==mp)&&e.push(DV(o,i))}(r,n,e)):n.push(t),n}const _p=new Set(["true","1"]),yp=new Set(["false","0"]);function DV(t,e){const n=_p.has(t)||yp.has(t),r=_p.has(e)||yp.has(e);return(i,s)=>{let o=t==mp||t==i,a=e==mp||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?_p.has(t):yp.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?_p.has(e):yp.has(e)),o&&a}}const Eoe=new RegExp("s*:selfs*,?","g");function LI(t,e,n,r){return new Coe(t).build(e,n,r)}class Coe{constructor(e){this._driver=e}build(e,n,r){const i=new Ioe(n);return this._resetContextStyleTimingState(i),Dn(this,sc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function Nse(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,n))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function Pse(){return new E(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{IV(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(gp(s.values()),n.errors.push(function kse(t,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Dn(this,sc(e.animation),n);return{type:1,matchers:_oe(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Xs(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Dn(this,r,n)),options:Xs(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=Dn(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Xs(e.options)}}visitAnimate(e,n){const r=function Doe(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return VI(pp(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=VI(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=pp(n,e);return VI(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:nc({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=nc(u)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===gi?r.push(a):n.errors.push(new E(3002,!1)):r.push(wV(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(n.errors.push(function xse(t,e,n,r,i){return new E(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),n.options&&function foe(t,e,n){const r=e.params||{},i=IV(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function Sse(t){return new E(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Fse(){return new E(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=e.steps.map(v=>{const y=this._makeStyleAst(v,n);let b=null!=y.offset?y.offset:function Toe(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),I=0;return null!=b&&(s++,I=y.offset=b),l=l||I<0||I>1,a=a||I<u,u=I,o.push(I),y});l&&n.errors.push(function Lse(){return new E(3012,!1)}()),a&&n.errors.push(function Vse(){return new E(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function Use(){return new E(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,_=g.duration;return c.forEach((v,y)=>{const b=h>0?y==f?1:h*y:o[y],I=b*_;n.currentTime=p+g.delay+I,g.duration=I,this._validateStyleAst(v,n),v.offset=b,r.styles.push(v)}),r}visitReference(e,n){return{type:8,animation:Dn(this,sc(e.animation),n),options:Xs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Xs(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Xs(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function woe(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Eoe,"")),t=t.replace(/@\*/g,fp).replace(/@\w+/g,n=>fp+"-"+n.slice(1)).replace(/:animating/g,kI),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Tn(n.collectedStyles,n.currentQuerySelector,new Map);const a=Dn(this,sc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Bse(){return new E(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:pp(e.timings,n.errors,!0);return{type:12,animation:Dn(this,sc(e.animation),n),timings:r,options:null}}}class Ioe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xs(t){return t?(t=ic(t)).params&&(t.params=function boe(t){return t?ic(t):null}(t.params)):t={},t}function VI(t,e,n){return{duration:t,delay:e,easing:n}}function UI(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class vp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Moe=new RegExp(":enter","g"),Noe=new RegExp(":leave","g");function BI(t,e,n,r,i,s=new Map,o=new Map,a,l,u=[]){return(new Poe).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class Poe{buildKeyframes(e,n,r,i,s,o,a,l,u,c=[]){u=u||new vp;const d=new $I(e,n,u,i,s,c,[]);d.options=l;const h=l.delay?mi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Dn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===n){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[UI(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:mi(oc(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?mi(r.duration):null,a=null!=r.delay?mi(r.delay):null;return 0!==o&&e.forEach(l=>{const u=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Dn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ep);const o=mi(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Dn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?mi(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),Dn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return pp(n.params?oc(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?mi(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ep);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{n.currentQueryIndex=c;const d=n.createSubContext(e.options,u);s&&d.delayNextStep(s),u===n.element&&(l=d.currentTimeline),Dn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=n.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Dn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Ep={};class $I{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ep,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=mi(r.duration)),null!=r.delay&&(i.delay=mi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=oc(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new $I(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ep,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new koe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Moe,"."+this._enterClassName)).replace(Noe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function $se(t){return new E(3014,!1)}()),a}}class Cp{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Cp(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||gi),this._currentKeyframe.set(n,gi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function Ooe(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,gi)}else Qi(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=oc(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??gi),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Qi(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?e.add(d):c===gi&&n.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=e.size?gp(e.values()):[],o=n.size?gp(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return UI(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class koe extends Cp{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=Qi(e[0]);l.set("offset",0),s.push(l);const u=Qi(e[0]);u.set("offset",MV(a)),s.push(u);const c=e.length-1;for(let d=1;d<=c;d++){let h=Qi(e[d]);const f=h.get("offset");h.set("offset",MV((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return UI(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function MV(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class jI{}const xoe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Foe extends jI{normalizePropertyName(e,n){return FI(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(xoe.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Rse(t,e){return new E(3005,!1)}())}return o+s}}function RV(t,e,n,r,i,s,o,a,l,u,c,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const HI={};class NV{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function Loe(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,u,c){const d=[],h=this.ast.options&&this.ast.options.params||HI,p=this.buildStyles(r,a&&a.params||HI,d),g=l&&l.params||HI,_=this.buildStyles(i,g,d),v=new Set,y=new Map,b=new Map,I="void"===i,O={params:Voe(g,h),delay:this.ast.options?.delay},ee=c?[]:BI(e,n,this.ast.animation,s,o,p,_,O,u,d);let le=0;if(ee.forEach(Xe=>{le=Math.max(Xe.duration+Xe.delay,le)}),d.length)return RV(n,this._triggerName,r,i,I,p,_,[],[],y,b,le,d);ee.forEach(Xe=>{const Mn=Xe.element,cg=Tn(y,Mn,new Set);Xe.preStyleProps.forEach(co=>cg.add(co));const Vc=Tn(b,Mn,new Set);Xe.postStyleProps.forEach(co=>Vc.add(co)),Mn!==n&&v.add(Mn)});const Le=gp(v.values());return RV(n,this._triggerName,r,i,I,p,_,ee,Le,y,b,le)}}function Voe(t,e){const n=ic(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class Uoe{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=ic(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=oc(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class $oe{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Uoe(i.style,i.options&&i.options.params||{},r))}),PV(this.states,"true","1"),PV(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new NV(e,i,this.states))}),this.fallbackTransition=function joe(t,e,n){return new NV(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function PV(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Hoe=new vp;class zoe{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=LI(this._driver,n,r,[]);if(r.length)throw function Kse(t){return new E(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=pV(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=BI(this._driver,n,s,PI,dp,new Map,new Map,r,Hoe,i),o.forEach(c=>{const d=Tn(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Qse(){return new E(3300,!1)}()),o=[]),i.length)throw function Yse(t){return new E(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,gi))})});const u=Ki(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function Zse(t){return new E(3301,!1)}();return n}listen(e,n,r,i){const s=MI(n,"","","");return SI(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const kV="ng-animate-queued",zI="ng-animate-disabled",Qoe=[],OV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yoe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nr="__ng_removed";class WI{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function eae(t){return t??null}(r?e.value:e),r){const s=ic(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const ac="void",GI=new WI(ac);class Zoe{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Hn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Xse(t,e){return new E(3302,!1)}();if(null==r||0==r.length)throw function Jse(t){return new E(3303,!1)}();if(!function tae(t){return"start"==t||"done"==t}(r))throw function eoe(t,e){return new E(3400,!1)}();const s=Tn(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Tn(this._engine.statesByElement,e,new Map);return a.has(n)||(Hn(e,hp),Hn(e,hp+"-"+n),a.set(n,GI)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function toe(t){return new E(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new qI(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Hn(e,hp),Hn(e,hp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const u=new WI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=GI),u.value!==ac&&l.value===u.value){if(!function iae(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,u.params)){const g=[],_=s.matchStyles(l.value,l.params,g),v=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Zs(e,_),Ar(e,v)})}return}const h=Tn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(Hn(e,kV),o.onStart(()=>{ka(e,kV)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,fp,!0);r.forEach(i=>{if(i[nr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(e,u,ac,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Ki(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||GI,c=new WI(ac),d=new qI(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[nr];(!s||s===OV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Hn(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=MI(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,SI(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Xoe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new Zoe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(wp(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!wp(n))return;const s=n[nr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Hn(e,zI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ka(e,zI))}removeNode(e,n,r){if(wp(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[nr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return wp(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,fp,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,kI,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ki(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[nr];if(n&&n.setForRemoval){if(e[nr]=OV,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(zI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Hn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ki(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function noe(t){return new E(3402,!1)}()}_flushAnimations(e,n){const r=new vp,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(P=>{c.add(P);const x=this.driver.query(P,".ng-animate-queued",!0);for(let L=0;L<x.length;L++)c.add(x[L])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=LV(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((P,x)=>{const L=PI+g++;p.set(x,L),P.forEach(se=>Hn(se,L))});const _=[],v=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const x=this.collectedLeaveElements[P],L=x[nr];L&&L.setForRemoval&&(_.push(x),v.add(x),L.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach(se=>v.add(se)):y.add(x))}const b=new Map,I=LV(h,Array.from(v));I.forEach((P,x)=>{const L=dp+g++;b.set(x,L),P.forEach(se=>Hn(se,L))}),e.push(()=>{f.forEach((P,x)=>{const L=p.get(x);P.forEach(se=>ka(se,L))}),I.forEach((P,x)=>{const L=b.get(x);P.forEach(se=>ka(se,L))}),_.forEach(P=>{this.processLeaveNode(P)})});const O=[],ee=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(n).forEach(L=>{const se=L.player,_t=L.element;if(O.push(se),this.collectedEnterElements.length){const Ft=_t[nr];if(Ft&&Ft.setForMove){if(Ft.previousTriggersValues&&Ft.previousTriggersValues.has(L.triggerName)){const ho=Ft.previousTriggersValues.get(L.triggerName),Wn=this.statesByElement.get(L.element);if(Wn&&Wn.has(L.triggerName)){const dg=Wn.get(L.triggerName);dg.value=ho,Wn.set(L.triggerName,dg)}}return void se.destroy()}}const Fr=!d||!this.driver.containsElement(d,_t),Rn=b.get(_t),os=p.get(_t),je=this._buildInstruction(L,r,os,Rn,Fr);if(je.errors&&je.errors.length)return void ee.push(je);if(Fr)return se.onStart(()=>Zs(_t,je.fromStyles)),se.onDestroy(()=>Ar(_t,je.toStyles)),void i.push(se);if(L.isFallbackTransition)return se.onStart(()=>Zs(_t,je.fromStyles)),se.onDestroy(()=>Ar(_t,je.toStyles)),void i.push(se);const TB=[];je.timelines.forEach(Ft=>{Ft.stretchStartingKeyframe=!0,this.disabledNodes.has(Ft.element)||TB.push(Ft)}),je.timelines=TB,r.append(_t,je.timelines),o.push({instruction:je,player:se,element:_t}),je.queriedElements.forEach(Ft=>Tn(a,Ft,[]).push(se)),je.preStyleProps.forEach((Ft,ho)=>{if(Ft.size){let Wn=l.get(ho);Wn||l.set(ho,Wn=new Set),Ft.forEach((dg,ED)=>Wn.add(ED))}}),je.postStyleProps.forEach((Ft,ho)=>{let Wn=u.get(ho);Wn||u.set(ho,Wn=new Set),Ft.forEach((dg,ED)=>Wn.add(ED))})});if(ee.length){const P=[];ee.forEach(x=>{P.push(function roe(t,e){return new E(3505,!1)}())}),O.forEach(x=>x.destroy()),this.reportError(P)}const le=new Map,Le=new Map;o.forEach(P=>{const x=P.element;r.has(x)&&(Le.set(x,x),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,le))}),i.forEach(P=>{const x=P.element;this._getPreviousPlayers(x,!1,P.namespaceId,P.triggerName,null).forEach(se=>{Tn(le,x,[]).push(se),se.destroy()})});const Xe=_.filter(P=>UV(P,l,u)),Mn=new Map;FV(Mn,this.driver,y,u,gi).forEach(P=>{UV(P,l,u)&&Xe.push(P)});const Vc=new Map;f.forEach((P,x)=>{FV(Vc,this.driver,new Set(P),l,"!")}),Xe.forEach(P=>{const x=Mn.get(P),L=Vc.get(P);Mn.set(P,new Map([...x?.entries()??[],...L?.entries()??[]]))});const co=[],bB=[],IB={};o.forEach(P=>{const{element:x,player:L,instruction:se}=P;if(r.has(x)){if(c.has(x))return L.onDestroy(()=>Ar(x,se.toStyles)),L.disabled=!0,L.overrideTotalTime(se.totalTime),void i.push(L);let _t=IB;if(Le.size>1){let Rn=x;const os=[];for(;Rn=Rn.parentNode;){const je=Le.get(Rn);if(je){_t=je;break}os.push(Rn)}os.forEach(je=>Le.set(je,_t))}const Fr=this._buildAnimation(L.namespaceId,se,le,s,Vc,Mn);if(L.setRealPlayer(Fr),_t===IB)co.push(L);else{const Rn=this.playersByElement.get(_t);Rn&&Rn.length&&(L.parentPlayer=Ki(Rn)),i.push(L)}}else Zs(x,se.fromStyles),L.onDestroy(()=>Ar(x,se.toStyles)),bB.push(L),c.has(x)&&i.push(L)}),bB.forEach(P=>{const x=s.get(P.element);if(x&&x.length){const L=Ki(x);P.setRealPlayer(L)}}),i.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<_.length;P++){const x=_[P],L=x[nr];if(ka(x,dp),L&&L.hasAnimation)continue;let se=[];if(a.size){let Fr=a.get(x);Fr&&Fr.length&&se.push(...Fr);let Rn=this.driver.query(x,kI,!0);for(let os=0;os<Rn.length;os++){let je=a.get(Rn[os]);je&&je.length&&se.push(...je)}}const _t=se.filter(Fr=>!Fr.destroyed);_t.length?nae(this,x,_t):this.processLeaveNode(x)}return _.length=0,co.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const x=this.players.indexOf(P);this.players.splice(x,1)}),P.play()}),co}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==ac;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,c=u!==s,d=Tn(r,u,[]);this._getPreviousPlayers(u,c,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Zs(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,l=n.element,u=[],c=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;c.add(g);const _=g[nr];if(_&&_.removedBeforeQueried)return new rc(p.duration,p.delay);const v=g!==l,y=function rae(t){const e=[];return VV(t,e),e}((r.get(g)||Qoe).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===g),b=s.get(g),I=o.get(g),O=pV(this._normalizer,p.keyframes,b,I),ee=this._buildPlayer(p,O,y);if(p.subTimeline&&i&&d.add(g),v){const le=new qI(e,a,g);le.setRealPlayer(ee),u.push(le)}return ee});u.forEach(p=>{Tn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Joe(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Hn(p,CV));const f=Ki(h);return f.onDestroy(()=>{c.forEach(p=>ka(p,CV)),Ar(l,n.toStyles)}),d.forEach(p=>{Tn(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new rc(e.duration,e.delay)}}class qI{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new rc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>SI(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Tn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function wp(t){return t&&1===t.nodeType}function xV(t,e){const n=t.style.display;return t.style.display=e??"none",n}function FV(t,e,n,r,i){const s=[];n.forEach(l=>s.push(xV(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const h=e.computeStyle(u,d,i);c.set(d,h),(!h||0==h.length)&&(u[nr]=Yoe,o.push(u))}),t.set(u,c)});let a=0;return n.forEach(l=>xV(l,s[a++])),o}function LV(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Hn(t,e){t.classList?.add(e)}function ka(t,e){t.classList?.remove(e)}function nae(t,e,n){Ki(n).onDone(()=>t.processLeaveNode(e))}function VV(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof sV?VV(r.players,e):e.push(r)}}function UV(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class bp{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Xoe(e,n,r),this._timelineEngine=new zoe(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=LI(this._driver,s,l,[]);if(l.length)throw function Gse(t,e){return new E(3404,!1)}();a=function Boe(t,e,n){return new $oe(t,e,n)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=gV(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=gV(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let oae=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ar(this._element,this._initialStyles),this._endStyles&&(Ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Zs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zs(this._element,this._endStyles),this._endStyles=null),Ar(this._element,this._initialStyles),this._state=3)}}return t})();function KI(t){let e=null;return t.forEach((n,r)=>{(function aae(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class BV{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:TV(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class lae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return _V(e,n)}getParentElement(e){return RI(e)}query(e,n,r){return yV(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(f=>f instanceof BV);(function goe(t,e){return 0===t||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function hoe(t){return t.length?t[0]instanceof Map?t:t.map(e=>wV(e)):[]}(n).map(f=>Qi(f));d=function moe(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,TV(t,a)))}}return e}(e,d,u);const h=function sae(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=KI(e[0]),e.length>1&&(r=KI(e[e.length-1]))):e instanceof Map&&(n=KI(e)),n||r?new oae(t,n,r):null}(e,d);return new BV(e,d,l,h)}}let uae=(()=>{class t extends tV{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:kn.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?rV(n):n;return $V(this._renderer,null,r,"register",[i]),new cae(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(M(Ml),M(dt))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class cae extends Yie{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new dae(this._id,e,n||{},this._renderer)}}class dae{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return $V(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $V(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const jV="@.disabled";let hae=(()=>{class t{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new HV("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,n,c.name,c)};return r.data.animation.forEach(l),new fae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(M(Ml),M(bp),M(te))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})();class HV{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==jV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class fae extends HV{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==jV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function pae(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function gae(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}const zV=[{provide:tV,useClass:uae},{provide:jI,useFactory:function _ae(){return new Foe}},{provide:bp,useClass:(()=>{class t extends bp{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(M(dt),M(NI),M(jI),M(Xr))};static#t=this.\u0275prov=N({token:t,factory:t.\u0275fac})}return t})()},{provide:Ml,useFactory:function yae(t,e,n){return new hae(t,e,n)},deps:[By,bp,te]}],QI=[{provide:NI,useFactory:()=>new lae},{provide:C0,useValue:"BrowserAnimations"},...zV],WV=[{provide:NI,useClass:vV},{provide:C0,useValue:"NoopAnimations"},...zV];let vae=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?WV:QI}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t});static#n=this.\u0275inj=ct({providers:QI,imports:[bk]})}return t})();const Eae_firebase={projectId:"studying-at-university",appId:"1:452521654922:web:2458d5c4693cdd6fc44b73",databaseURL:"https://studying-at-university-default-rtdb.firebaseio.com",storageBucket:"studying-at-university.appspot.com",locationId:"us-central",apiKey:"AIzaSyD_1FF6DNJ0cPzdbQbXA4r8xxzMMaGg3H0",authDomain:"studying-at-university.firebaseapp.com",messagingSenderId:"452521654922",measurementId:"G-7RFQKTKWX5"},GV="@firebase/database";let YI="";class wae{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Iu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class bae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const KV=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wae(e)}}catch{}return new bae},Js=KV("localStorage"),ZI=KV("sessionStorage"),Oa=new Ia("@firebase/database"),QV=function(){let t=1;return function(){return t++}}(),YV=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new jQ;n.update(e);const r=n.digest();return Xh.encodeByteArray(r)},lc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=lc.apply(null,r):e+="object"==typeof r?Dt(r):r,e+=" "}return e};let eo=null,ZV=!0;const gt=function(...t){if(!0===ZV&&(ZV=!1,null===eo&&!0===ZI.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Oa.logLevel=ye.VERBOSE,eo=Oa.log.bind(Oa),e&&ZI.set("logging_enabled",!0)):"function"==typeof t?eo=t:(eo=null,ZI.remove("logging_enabled"))}(!0)),eo){const e=lc.apply(null,t);eo(e)}},uc=function(t){return function(...e){gt(t,...e)}},XI=function(...t){const e="FIREBASE INTERNAL ERROR: "+lc(...t);Oa.error(e)},Mr=function(...t){const e=`FIREBASE FATAL ERROR: ${lc(...t)}`;throw Oa.error(e),new Error(e)},xt=function(...t){const e="FIREBASE WARNING: "+lc(...t);Oa.warn(e)},Tp=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Yi="[MIN_NAME]",_i="[MAX_NAME]",to=function(t,e){if(t===e)return 0;if(t===Yi||e===_i)return-1;if(e===Yi||t===_i)return 1;{const n=tU(t),r=tU(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Dae=function(t,e){return t===e?0:t<e?-1:1},cc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},JI=function(t){if("object"!=typeof t||null===t)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Dt(e[r]),n+=":",n+=JI(t[e[r]]);return n+="}",n},JV=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const eU=function(t){D(!Tp(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Rae=new RegExp("^-?(0*)\\d{1,10}$"),tU=function(t){if(Rae.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},xa=function(t){try{t()}catch(e){setTimeout(()=>{throw xt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},dc=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Oae{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xae{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}let hc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const oU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uU="websocket",cU="long_polling";class tT{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Js.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Js.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dU(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===uU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==cU)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Fae(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return mt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Lae{constructor(){this.counters_={}}incrementCounter(e,n=1){si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MQ(this.counters_)}}const nT={},rT={};function iT(t){const e=t.toString();return nT[e]||(nT[e]=new Lae),nT[e]}class Uae{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&xa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Zi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uc(e),this.stats_=iT(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),dU(n,cU,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uae(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&oU.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zi.forceAllow_=!0}static forceDisallow(){Zi.forceDisallow_=!0}static isAvailable(){return!(!Zi.forceAllow_&&(Zi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$O(n),i=JV(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=QV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=sT.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){gt("frame writing exception"),a.stack&&gt(a.stack),gt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Sp=null;typeof MozWebSocket<"u"?Sp=MozWebSocket:typeof WebSocket<"u"&&(Sp=WebSocket);let Fa=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uc(this.connId),this.stats_=iT(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&oU.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),dU(n,uU,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Js.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Sp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Sp&&!t.forceDisallow_}static previouslyFailed(){return Js.isInMemoryStorage||!0===Js.get("previous_websocket_failure")}markConnectionHealthy(){Js.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Iu(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Dt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=JV(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),yU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Zi,Fa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Fa&&Fa.isAvailable();let i=r&&!Fa.previouslyFailed();if(n.webSocketOnly&&(r||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Fa];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class TU{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uc("c:"+this.id+":"),this.transportManager_=new yU(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cc("t",e),r=cc("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cc("t",e),r=cc("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cc("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?XI("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):XI("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class DU{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class SU{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Ap extends SU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_v()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ap}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class pe{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ae(){return new pe("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xi(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function aT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function fc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RU(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function xe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function qt(t,e){const n=Q(t),r=Q(e);if(null===n)return e;if(n===r)return qt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lT(t,e){if(Xi(t)!==Xi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xi(t)>Xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class lle{constructor(e,n){this.errorPrefix_=n,this.parts_=fc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lf(this.parts_[r]);NU(this)}}function NU(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+no(t))}function no(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class uT extends SU{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new uT}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const pc=1e3;let Rp,ro=(()=>{class t extends DU{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=uc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uT.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Ap.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Dt(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new wa,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&si(n,"w")){const i=ba(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=nf(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=nf(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Dt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):XI("Unrecognized action received from server: "+Dt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=pc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,s())};n.realtime_={close:c,sendRequest:function(f){D(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new TU(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{xt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&xt(f),c())}}})()}interrupt(n){gt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){gt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ev(this.interruptReasons_)&&(this.reconnectDelay_=pc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>JI(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new pe(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){gt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){gt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+YI.replace(/\./g,"-")]=1,_v()?n["framework.cordova"]=1:KO()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ap.getInstance().currentlyOnline();return Ev(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}class Mp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(Yi,e),i=new Z(Yi,n);return 0!==this.compare(r,i)}minPost(){return Z.MIN}}class OU extends Mp{static get __EMPTY_NODE(){return Rp}static set __EMPTY_NODE(e){Rp=e}compare(e,n){return to(e.name,n.name)}isDefinedOn(e){throw Ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(_i,Rp)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new Z(e,Rp)}toString(){return".key"}}const Rr=new OU;class Np{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let dT,rr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??ln.EMPTY_NODE,this.right=o??ln.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return ln.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class ln{constructor(e,n=ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rr.BLACK,null,null))}remove(e){return new ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Np(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Np(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Np(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Np(this.root_,null,this.comparator_,!0,e)}}function mle(t,e){return to(t.name,e.name)}function cT(t,e){return to(t,e)}ln.EMPTY_NODE=new class gle{copy(e,n,r,i,s){return this}insert(e,n,r){return new rr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xU=function(t){return"number"==typeof t?"number:"+eU(t):"string:"+t},FU=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&si(e,".sv"),"Priority must be a string or number.")}else D(t===dT||t.isEmpty(),"priority of unexpected type.");D(t===dT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let LU,VU,UU,La=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),FU(this.priorityNode_)}static set __childrenNodeConstructor(n){LU=n}static get __childrenNodeConstructor(){return LU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:".priority"===Q(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Q(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Xi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+xU(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?eU(this.value_):this.value_,this.lazyHash_=YV(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+r),D(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Re=new class Ele extends Mp{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?to(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(_i,new La("[PRIORITY-POST]",UU))}makePost(e,n){const r=VU(e);return new Z(n,new La("[PRIORITY-POST]",r))}toString(){return".priority"}},Cle=Math.log(2);class wle{constructor(e){this.count=parseInt(Math.log(e+1)/Cle,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Pp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new rr(h,d.node,rr.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new rr(h,d.node,rr.BLACK,p,g)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const _=d-p,v=d;d-=p;const y=i(_+1,v),b=t[_],I=n?n(b):b;f(new rr(I,b.node,g,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,rr.BLACK):(h(_,rr.BLACK),h(_,rr.RED))}return c}(new wle(t.length));return new ln(r||e,a)};let hT;const Va={};class yi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Va&&Re,"ChildrenNode.ts has not been loaded"),hT=hT||new yi({".priority":Va},{".priority":Re}),hT}get(e){const n=ba(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ln?n:null}hasIndex(e){return si(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Z.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Pp(r,e.getCompare()):Va;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new yi(c,u)}addToIndexes(e,n){const r=rf(this.indexes_,(i,s)=>{const o=ba(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Va){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Z.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Pp(a,o.getCompare())}return Va}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Z(e.name,a))),l.insert(e,e.node)}});return new yi(r,this.indexSet_)}removeFromIndexes(e,n){const r=rf(this.indexes_,i=>{if(i===Va)return i;{const s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new yi(r,this.indexSet_)}}let gc,q=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FU(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gc||(gc=new t(new ln(cT),null,yi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?gc:r}}getChild(n){const r=Q(n);return null===r?this:this.getImmediateChild(r).getChild(Ie(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Z(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?gc:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=Q(n);if(null===i)return r;{D(".priority"!==Q(n)||1===Xi(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ie(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Re,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+xU(this.getPriority().val())+":"),this.forEachChild(Re,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":YV(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Z(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Z(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Z(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,Z.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,Z.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===mc?-1:0}withIndex(n){if(n===Rr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Rr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Re),s=r.getIterator(Re);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Rr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const mc=new class ble extends q{constructor(){super(new ln(cT),q.EMPTY_NODE,yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return q.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Z,{MIN:{value:new Z(Yi,q.EMPTY_NODE)},MAX:{value:new Z(_i,mc)}}),OU.__EMPTY_NODE=q.EMPTY_NODE,La.__childrenNodeConstructor=q,function _le(t){dT=t}(mc),function vle(t){UU=t}(mc);const Ile=!0;function Be(t,e=null){if(null===t)return q.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new La(t,Be(e));if(t instanceof Array||!Ile){let n=q.EMPTY_NODE;return mt(t,(r,i)=>{if(si(t,r)&&"."!==r.substring(0,1)){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(e))}{const n=[];let r=!1;if(mt(t,(o,a)=>{if("."!==o.substring(0,1)){const l=Be(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Z(o,l)))}}),0===n.length)return q.EMPTY_NODE;const s=Pp(n,mle,o=>o.name,cT);if(r){const o=Pp(n,Re.getCompare());return new q(s,Be(e),new yi({".priority":o},{".priority":Re}))}return new q(s,Be(e),yi.Default)}}!function yle(t){VU=t}(Be);class fT extends Mp{constructor(e){super(),this.indexPath_=e,D(!Y(e)&&".priority"!==Q(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?to(e.name,n.name):s}makePost(e,n){const r=Be(e),i=q.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){const e=q.EMPTY_NODE.updateChild(this.indexPath_,mc);return new Z(_i,e)}toString(){return fc(this.indexPath_,0).join("/")}}const pT=new class Tle extends Mp{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?to(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=Be(e);return new Z(n,r)}toString(){return".value"}};function yc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class mT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const e=new mT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $U(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Re?n="$priority":t.index_===pT?n="$value":t.index_===Rr?n="$key":(D(t.index_ instanceof fT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Re&&(e.i=t.index_.toString()),e}class Op extends DU{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=uc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Op.getListenId_(e,r),a={};this.listens_[o]=a;const l=$U(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(s,d,!1,r),ba(this.listens_,o)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=Op.getListenId_(e,n);delete this.listens_[r]}get(e){const n=$U(e._queryParams),r=e._path.toString(),i=new wa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rs(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Iu(a.responseText)}catch{xt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&xt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class kle{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function xp(){return{value:null,children:new Map}}function Ba(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,xp()),Ba(t.children.get(r),e=Ie(e),n)}}function ET(t,e,n){null!==t.value?n(e,t.value):function Ole(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{ET(i,new pe(e.toString()+"/"+r),n)})}class xle{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Vle{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xle(e);const r=1e4+2e4*Math.random();dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mt(e,(i,s)=>{s>0&&si(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),dc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Nr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Nr||{});function bT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Fp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Y(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new Fp(ae(),n,this.revert)}}return D(Q(this.path)===e,"operationForChild called for unrelated child."),new Fp(Ie(this.path),this.affectedTree,this.revert)}}class io{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nr.OVERWRITE}operationForChild(e){return Y(this.path)?new io(this.source,ae(),this.snap.getImmediateChild(e)):new io(this.source,Ie(this.path),this.snap)}}class $a{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nr.MERGE}operationForChild(e){if(Y(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new io(this.source,ae(),n.value):new $a(this.source,ae(),n)}return D(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $a(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ji{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Cc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function jle(t,e,n){if(null==e.childName||null==n.childName)throw Ca("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function $le(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Lp(t,e){return{eventCache:t,serverCache:e}}function wc(t,e,n,r){return Lp(new Ji(e,n,r),t.serverCache)}function zU(t,e,n,r){return Lp(t.eventCache,new Ji(e,n,r))}function Vp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function so(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let IT;class Ne{constructor(e,n=(()=>(IT||(IT=new ln(Dae)),IT))()){this.value=e,this.children=n}static fromObject(e){let n=new Ne(null);return mt(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ae(),value:this.value};if(Y(e))return null;{const r=Q(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ie(e),n);return null!=s?{path:xe(new pe(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{const n=Q(e),r=this.children.get(n);return null!==r?r.subtree(Ie(e)):new Ne(null)}}set(e,n){if(Y(e))return new Ne(n,this.children);{const r=Q(e),s=(this.children.get(r)||new Ne(null)).set(Ie(e),n),o=this.children.insert(r,s);return new Ne(this.value,o)}}remove(e){if(Y(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const i=r.remove(Ie(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Ne(null):new Ne(this.value,s)}return this}}get(e){if(Y(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(Ie(e)):null}}setTree(e,n){if(Y(e))return n;{const r=Q(e),s=(this.children.get(r)||new Ne(null)).setTree(Ie(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ne(this.value,o)}}fold(e){return this.fold_(ae(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(xe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ae(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Y(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(Ie(e),xe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ae(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);const i=Q(e),s=this.children.get(i);return s?s.foreachOnPath_(Ie(e),xe(n,i),r):new Ne(null)}}foreach(e){this.foreach_(ae(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class ir{constructor(e){this.writeTree_=e}static empty(){return new ir(new Ne(null))}}function bc(t,e,n){if(Y(e))return new ir(new Ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=qt(i,e);return s=s.updateChild(o,n),new ir(t.writeTree_.set(i,s))}{const i=new Ne(n),s=t.writeTree_.setTree(e,i);return new ir(s)}}}function TT(t,e,n){let r=t;return mt(n,(i,s)=>{r=bc(r,xe(e,i),s)}),r}function WU(t,e){if(Y(e))return ir.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new ir(n)}}function DT(t,e){return null!=oo(t,e)}function oo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(qt(n.path,e)):null}function GU(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Z(r,i.value))}),e}function es(t,e){if(Y(e))return t;{const n=oo(t,e);return new ir(null!=n?new Ne(n):t.writeTree_.subtree(e))}}function ST(t){return t.writeTree_.isEmpty()}function ja(t,e){return qU(ae(),t.writeTree_,e)}function qU(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(D(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=qU(xe(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(xe(t,".priority"),r)),n}}function Up(t,e){return XU(e,t)}function Kle(t,e){if(t.snap)return zn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zn(xe(t.path,n),e))return!0;return!1}function Yle(t){return t.visible}function KU(t,e,n){let r=ir.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)zn(n,o)?(a=qt(n,o),r=bc(r,a,s.snap)):zn(o,n)&&(a=qt(o,n),r=bc(r,ae(),s.snap.getChild(a)));else{if(!s.children)throw Ca("WriteRecord should have .snap or .children");if(zn(n,o))a=qt(n,o),r=TT(r,a,s.children);else if(zn(o,n))if(a=qt(o,n),Y(a))r=TT(r,ae(),s.children);else{const l=ba(s.children,Q(a));if(l){const u=l.getChild(Ie(a));r=bc(r,ae(),u)}}}}}return r}function QU(t,e,n,r,i){if(r||i){const s=es(t.visibleWrites,e);return!i&&ST(s)?n:i||null!=n||DT(s,ae())?ja(KU(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(zn(u.path,e)||zn(e,u.path))},e),n||q.EMPTY_NODE):null}{const s=oo(t.visibleWrites,e);if(null!=s)return s;{const o=es(t.visibleWrites,e);return ST(o)?n:null!=n||DT(o,ae())?ja(o,n||q.EMPTY_NODE):null}}}function Bp(t,e,n,r){return QU(t.writeTree,t.treePath,e,n,r)}function AT(t,e){return function Zle(t,e,n){let r=q.EMPTY_NODE;const i=oo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=es(t.visibleWrites,e);return n.forEachChild(Re,(o,a)=>{const l=ja(es(s,new pe(o)),a);r=r.updateImmediateChild(o,l)}),GU(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return GU(es(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function YU(t,e,n,r){return function Xle(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=xe(e,n);if(DT(t.visibleWrites,s))return null;{const o=es(t.visibleWrites,s);return ST(o)?i.getChild(n):ja(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function $p(t,e){return function eue(t,e){return oo(t.visibleWrites,e)}(t.writeTree,xe(t.treePath,e))}function MT(t,e,n){return function Jle(t,e,n,r){const i=xe(e,n),s=oo(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?ja(es(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function ZU(t,e){return XU(xe(t.treePath,e),t.writeTree)}function XU(t,e){return{treePath:t,writeTree:e}}class iue{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,yc(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function _c(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Ua(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Ca("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,yc(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const JU=new class sue{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class RT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return MT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:so(this.viewCache_),s=function rue(t,e,n,r,i,s){return function tue(t,e,n,r,i,s,o){let a;const l=es(t.visibleWrites,e),u=oo(l,ae());if(null!=u)a=u;else{if(null==n)return[];a=ja(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function e2(t,e,n,r,i,s){const o=e.eventCache;if(null!=$p(r,n))return e;{let a,l;if(Y(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=so(e),d=AT(r,u instanceof q?u:q.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Bp(r,so(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Q(n);if(".priority"===u){D(1===Xi(n),"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=YU(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):o.getNode()}else{const c=Ie(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=YU(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(u).updateChild(c,h):o.getNode().getImmediateChild(u)}else d=MT(r,u,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),u,d,c,i,s):o.getNode()}}return wc(e,a,o.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function jp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Y(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Q(n);if(!l.isCompleteForPath(n)&&Xi(n)>1)return e;const p=Ie(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),_):c.updateChild(l.getNode(),f,_,p,JU,null)}const d=zU(e,u,l.isFullyInitialized()||Y(n),c.filtersNodes());return e2(t,d,n,i,new RT(i,d,s),a)}function NT(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new RT(i,e,s);if(Y(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=wc(e,u,!0,t.filter.filtersNodes());else{const d=Q(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=wc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=Ie(n),f=a.getNode().getImmediateChild(d);let p;if(Y(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===aT(h)&&g.getChild(RU(h)).isEmpty()?g:g.updateChild(h,r):q.EMPTY_NODE}l=f.equals(p)?e:wc(e,t.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function t2(t,e){return t.eventCache.isCompleteForChild(e)}function n2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function PT(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=Y(n)?r:new Ne(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=n2(0,e.serverCache.getNode().getImmediateChild(d),h);l=jp(t,l,new pe(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=n2(0,e.serverCache.getNode().getImmediateChild(d),h);l=jp(t,l,new pe(d),g,i,s,o,a)}}),l}function _ue(t,e){const n=so(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function s2(t,e,n,r){e.type===Nr.MERGE&&null!==e.source.queryId&&(D(so(t.viewCache_),"We should always have a full cache before handling merges"),D(Vp(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function lue(t,e,n,r,i){const s=new iue;let o,a;if(n.type===Nr.OVERWRITE){const u=n;u.source.fromUser?o=NT(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Y(u.path),o=jp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Nr.MERGE){const u=n;u.source.fromUser?o=function cue(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=xe(n,l);t2(e,Q(c))&&(a=NT(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=xe(n,l);t2(e,Q(c))||(a=NT(t,a,c,u,i,s,o))}),a}(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=PT(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Nr.ACK_USER_WRITE){const u=n;o=u.revert?function fue(t,e,n,r,i,s){let o;if(null!=$p(r,n))return e;{const a=new RT(r,e,i),l=e.eventCache.getNode();let u;if(Y(n)||".priority"===Q(n)){let c;if(e.serverCache.isFullyInitialized())c=Bp(r,so(e));else{const d=e.serverCache.getNode();D(d instanceof q,"serverChildren would be complete if leaf node"),c=AT(r,d)}u=t.filter.updateFullNode(l,c,s)}else{const c=Q(n);let d=MT(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,Ie(n),a,s):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,q.EMPTY_NODE,Ie(n),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Bp(r,so(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=$p(r,ae()),wc(e,u,o,t.filter.filtersNodes())}}(t,e,u.path,r,i,s):function due(t,e,n,r,i,s,o){if(null!=$p(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(Y(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return jp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Y(n)){let u=new Ne(null);return l.getNode().forEachChild(Rr,(c,d)=>{u=u.set(new pe(c),d)}),PT(t,e,n,u,i,s,a,o)}return e}{let u=new Ne(null);return r.foreach((c,d)=>{const h=xe(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),PT(t,e,n,u,i,s,a,o)}}(t,e,u.path,u.affectedTree,r,i,s)}else{if(n.type!==Nr.LISTEN_COMPLETE)throw Ca("Unknown operation type: "+n.type);o=function hue(t,e,n,r,i){const s=e.serverCache;return e2(t,zU(e,s.getNode(),s.isFullyInitialized()||Y(n),s.isFiltered()),n,r,JU,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function uue(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Vp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function BU(t){return{type:"value",snapshotNode:t}}(Vp(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function aue(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function o2(t,e,n,r){return function Ble(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Dle(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Cc(t,i,"child_removed",e,r,n),Cc(t,i,"child_added",e,r,n),Cc(t,i,"child_moved",s,r,n),Cc(t,i,"child_changed",e,r,n),Cc(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let Hp,Wp;function kT(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return D(null!=s,"SyncTree gave us an op for an invalid query."),s2(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(s2(o,e,n,r));return s}}function ts(t,e){let n=null;for(const r of t.views.values())n=n||_ue(r,e);return n}class h2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=function nue(){return{visibleWrites:ir.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function OT(t,e,n,r,i){return function zle(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=bc(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ha(t,new io({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function rs(t,e,n=!1){const r=function Gle(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function qle(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Kle(a,r.path)?i=!1:zn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function Qle(t){t.visibleWrites=KU(t.allWrites,Yle,ae()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=WU(t.visibleWrites,r.path):mt(r.children,l=>{t.visibleWrites=WU(t.visibleWrites,xe(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new Ne(null);return null!=r.snap?s=s.set(ae(),!0):mt(r.children,o=>{s=s.set(new pe(o),!0)}),Ha(t,new Fp(r.path,s,n))}return[]}function Ic(t,e,n){return Ha(t,new io({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function qp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=ts(a,qt(o,e));if(u)return u});return QU(i,e,s,n,!0)}function Ha(t,e){return p2(e,t.syncPointTree_,null,Up(t.pendingWriteTree_,ae()))}function p2(t,e,n,r){if(Y(t.path))return g2(t,e,n,r);{const i=e.get(ae());null==n&&null!=i&&(n=ts(i,ae()));let s=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=ZU(r,o);s=s.concat(p2(a,l,u,c))}return i&&(s=s.concat(kT(i,t,r,n))),s}}function g2(t,e,n,r){const i=e.get(ae());null==n&&null!=i&&(n=ts(i,ae()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=ZU(r,o),c=t.operationForChild(o);c&&(s=s.concat(g2(c,a,l,u)))}),i&&(s=s.concat(kT(i,t,r,n))),s}function FT(t,e){return t.tagToQueryMap.get(e)}function LT(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function VT(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),kT(r,n,Up(t.pendingWriteTree_,e),null)}class UT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new UT(n)}node(){return this.node_}}class BT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xe(this.path_,e);return new BT(this.syncTree_,n)}node(){return qp(this.syncTree_,this.path_)}}const Vue=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},_2=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Uue(t[".sv"],e,n):"object"==typeof t[".sv"]?Bue(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Uue=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},Bue=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},y2=function(t,e,n,r){return jT(e,new BT(n,t),r)},$T=function(t,e,n){return jT(t,new UT(e),n)};function jT(t,e,n){const r=t.getPriority().val(),i=_2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=_2(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new La(a,Be(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new La(i))),o.forEachChild(Re,(a,l)=>{const u=jT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class HT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Qp(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=Q(n);for(;null!==i;){const s=ba(r.node.children,i)||{children:{},childCount:0};r=new HT(i,r,s),n=Ie(n),i=Q(n)}return r}function ao(t){return t.node.value}function zT(t,e){t.node.value=e,WT(t)}function v2(t){return t.node.childCount>0}function Yp(t,e){mt(t.node.children,(n,r)=>{e(new HT(n,t,r))})}function E2(t,e,n,r){n&&!r&&e(t),Yp(t,i=>{E2(i,e,!0,r)}),n&&r&&e(t)}function Sc(t){return new pe(null===t.parent?t.name:Sc(t.parent)+"/"+t.name)}function WT(t){null!==t.parent&&function Hue(t,e,n){const r=function $ue(t){return void 0===ao(t)&&!v2(t)}(n),i=si(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,WT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,WT(t))}(t.parent,t.name,t)}const zue=/[\[\].#$\/\u0000-\u001F\u007F]/,Wue=/[\[\].#$\u0000-\u001F\u007F]/,GT=10485760,Zp=function(t){return"string"==typeof t&&0!==t.length&&!zue.test(t)},Mc=function(t,e,n){const r=n instanceof pe?new lle(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+no(r));if("function"==typeof e)throw new Error(t+"contains a function "+no(r)+" with contents = "+e.toString());if(Tp(e))throw new Error(t+"contains "+e.toString()+" "+no(r));if("string"==typeof e&&e.length>GT/3&&lf(e)>GT)throw new Error(t+"contains a string greater than "+GT+" utf8 bytes "+no(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(mt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Zp(o)))throw new Error(t+" contains an invalid key ("+o+") "+no(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ule(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lf(e),NU(t)})(r,o),Mc(t,a,r),function cle(t){const e=t.parts_.pop();t.byteLength_-=lf(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+no(r)+" in addition to actual children.")}},b2=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Zp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!Wue.test(t)}(t)}(n))throw new Error(function af(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Que{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sn(t,e,n){(function Xp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!lT(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function T2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Yue(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>zn(r,e)||zn(e,r))}function Yue(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();eo&&gt("event: "+n.toString()),xa(r)}}}const Zue=25;class Xue{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Que,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xp(),this.transactionQueueTree_=new HT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function S2(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Nc(t){return Vue({timestamp:S2(t)})}function A2(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=rf(n,u=>Be(u));o=function Pue(t,e,n,r){const i=FT(t,r);if(i){const s=LT(i),o=s.path,a=s.queryId,l=qt(o,e),u=Ne.fromObject(n);return VT(t,o,new $a(bT(a),l,u))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=Be(n);o=function f2(t,e,n,r){const i=FT(t,r);if(null!=i){const s=LT(i),o=s.path,a=s.queryId,l=qt(o,e);return VT(t,o,new io(bT(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=rf(n,u=>Be(u));o=function Mue(t,e,n){const r=Ne.fromObject(n);return Ha(t,new $a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=Be(n);o=Ic(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Wa(t,s)),Sn(t.eventQueue_,a,o)}function M2(t,e){QT(t,"connected",e),!1===e&&function rce(t){za(t,"onDisconnectEvents");const e=Nc(t),n=xp();ET(t.onDisconnect_,ae(),(i,s)=>{const o=y2(i,s,t.serverSyncTree_,e);Ba(n,i,o)});let r=[];ET(n,ae(),(i,s)=>{r=r.concat(Ic(t.serverSyncTree_,i,s));const o=function JT(t,e){const n=Sc(P2(t,e)),r=Qp(t.transactionQueueTree_,e);return function jue(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{eD(t,i)}),eD(t,r),E2(r,i=>{eD(t,i)}),n}(t,i);Wa(t,o)}),t.onDisconnect_=xp(),Sn(t.eventQueue_,ae(),r)}(t)}function QT(t,e,n){const r=new pe("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);const s=Ic(t.infoSyncTree_,r,i);Sn(t.eventQueue_,r,s)}function Jp(t){return t.nextWriteId_++}function za(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function XT(t,e,n){return qp(t.serverSyncTree_,e,n)||q.EMPTY_NODE}function eg(t,e=t.transactionQueueTree_){if(e||tg(t,e),ao(e)){const n=k2(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function cce(t,e,n){const r=n.map(u=>u.currentWriteId),i=XT(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=qt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{za(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(rs(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();tg(t,Qp(t.transactionQueueTree_,e)),eg(t,t.transactionQueueTree_),Sn(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)xa(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{xt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Wa(t,e)}},o)}(t,Sc(e),n)}else v2(e)&&Yp(e,n=>{eg(t,n)})}function Wa(t,e){const n=P2(t,e),r=Sc(n);return function dce(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=qt(n,l.path);let d,c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(rs(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Zue)c=!0,d="maxretry",i=i.concat(rs(t.serverSyncTree_,l.currentWriteId,!0));else{const h=XT(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Mc("transaction failed: Data returned ",f,l.path);let p=Be(f);"object"==typeof f&&null!=f&&si(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=Nc(t),y=$T(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Jp(t),o.splice(o.indexOf(_),1),i=i.concat(OT(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(rs(t.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(rs(t.serverSyncTree_,l.currentWriteId,!0))}Sn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}tg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)xa(r[a]);eg(t,t.transactionQueueTree_)}(t,k2(t,n),r),r}function P2(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);null!==n&&void 0===ao(r);)r=Qp(r,n),n=Q(e=Ie(e));return r}function k2(t,e){const n=[];return O2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function O2(t,e,n){const r=ao(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Yp(e,i=>{O2(t,i,n)})}function tg(t,e){const n=ao(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,zT(e,n.length>0?n:void 0)}Yp(e,r=>{tg(t,r)})}function eD(t,e){const n=ao(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(rs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?zT(e,void 0):n.length=s+1,Sn(t.eventQueue_,Sc(e),i);for(let o=0;o<r.length;o++)xa(r[o])}}const tD=function(t,e){const n=pce(t),r=n.namespace;return"firebase.com"===n.domain&&Mr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tT(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new pe(n.pathString)}},pce=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function hce(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function fce(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class An{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:aT(this._path)}get ref(){return new sr(this._repo,this._path)}get _queryIdentifier(){const e=jU(this._queryParams),n=JI(e);return"{}"===n?"default":n}get _queryObject(){return jU(this._queryParams)}isEqual(e){if(!((e=bn(e))instanceof An))return!1;const n=this._repo===e._repo,r=lT(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ole(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class sr extends An{constructor(e,n){super(e,n,new mT,!1)}get parent(){const e=RU(this._path);return null===e?null:new sr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Eue(t){D(!Hp,"__referenceConstructor has already been defined"),Hp=t})(sr),function Tue(t){D(!Wp,"__referenceConstructor has already been defined"),Wp=t}(sr);const rD={};class Oce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jue(t,e,n){if(t.stats_=iT(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Op(t.repoInfo_,(r,i,s,o)=>{A2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>M2(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ro(t.repoInfo_,e,(r,i,s,o)=>{A2(t,r,i,s,o)},r=>{M2(t,r)},r=>{!function ece(t,e){mt(e,(n,r)=>{QT(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Vae(t,e){const n=t.toString();return rT[n]||(rT[n]=e()),rT[n]}(t.repoInfo_,()=>new Vle(t.stats_,t.server_)),t.infoData_=new kle,t.infoSyncTree_=new h2({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ic(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),QT(t,"connected",!1),t.serverSyncTree_=new h2({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Sn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sr(this._repo,ae())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Nce(t,e){const n=rD[e];(!n||n[t.key]!==t)&&Mr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function N2(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Mr("Cannot call "+e+" on a deleted database.")}}function xce(t=df(),e){const n=Os(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=zO("database");r&&function Fce(t,e,n,r={}){(t=bn(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Mr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hc(hc.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:qO(r.mockUserToken,t.app.options.projectId);s=new hc(o)}!function Mce(t,e,n,r){t.repoInfo_=new tT(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}ro.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ro.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Lce(t){(function Cae(t){YI=t})(Bi),kt(new St("database",(e,{instanceIdentifier:n})=>function Rce(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=tD(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=tD(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new hc(hc.OWNER):new xae(t.name,t.options,e);b2("Invalid Firebase Database URL",o),Y(o.path)||Mr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Pce(t,e,n,r){let i=rD[e.name];i||(i={},rD[e.name]=i);let s=i[t.toURLString()];return s&&Mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Xue(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,c,new Oae(t.name,n));return new Oce(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Pe(GV,"0.14.4",t),Pe(GV,"0.14.4","esm2017")}();class iD{constructor(e){return e}}const H2="database",sD=new R("angularfire2.database-instances");function jce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new iD(r)}}const Hce={provide:class Bce{constructor(){return Ef(H2)}},deps:[[new ot,sD]]},zce={provide:iD,useFactory:function $ce(t,e){const n=vf(H2,t,e);return n&&new iD(n)},deps:[[new ot,sD],$s]};let Wce=(()=>{class t{constructor(){Pe("angularfire",Ru.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vt({type:t}),t.\u0275inj=ct({providers:[zce,Hce]}),t})();function Gce(t,...e){return{ngModule:Wce,providers:[{provide:sD,useFactory:jce(t),multi:!0,deps:[te,et,Cf,wf,[new ot,rI],[new ot,Rf],...e]}]}}const qce=Nu(xce,!0),z2="firebasestorage.googleapis.com";class $e extends $n{constructor(e,n,r=0){super(oD(e),`Firebase Storage: ${n} (${oD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return oD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Fe||{});function oD(t){return"storage/"+t}function lD(t){return new $e(Fe.INVALID_ARGUMENT,t)}function Q2(){return new $e(Fe.APP_DELETED,"The Firebase app was deleted.")}class Kt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kt.makeFromUrl(e,n)}catch{return new Kt(e,"")}if(""===r.path)return r;throw function rde(t){return new $e(Fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(I){I.path_=decodeURIComponent(I.path)}const d=n.replace(/[.]/g,"\\."),b=[{regex:a,indices:{bucket:1,path:3},postModify:function s(I){"/"===I.path.charAt(I.path.length-1)&&(I.path_=I.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===z2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<b.length;I++){const O=b[I],ee=O.regex.exec(e);if(ee){let Le=ee[O.indices.path];Le||(Le=""),r=new Kt(ee[O.indices.bucket],Le),O.postModify(r);break}}if(null==r)throw function nde(t){return new $e(Fe.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class ude{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cD(t,e,n,r){if(r<e)throw lD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lD(`Invalid value for '${t}'. Expected ${n} or less.`)}var qa=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(qa||{});class gde{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function hde(t){return void 0!==t}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=function aD(){return new $e(Fe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?Q2():function q2(){return new $e(Fe.CANCELED,"User canceled the upload/download.")}():function G2(){return new $e(Fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new og(!1,null,!0)):this.backoffId_=function cde(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,l())},_)}function h(){s&&clearTimeout(s)}function f(_,...v){if(u)return void h();if(_)return h(),void c.call(null,_,...v);if(l()||o)return h(),void c.call(null,_,...v);let b;r<64&&(r*=2),1===a?(a=2,b=0):b=1e3*(r+Math.random()),d(b)}let p=!1;function g(_){p||(p=!0,h(),!u&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}((r,i)=>{if(i)return void r(!1,new og(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qa.NO_ERROR,l=s.getStatus();if(!a||function X2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===qa.ABORT;return void r(!1,new og(!1,null,c))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new og(u,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function dde(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class og{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class uo{constructor(e,n){this._service=e,this._location=n instanceof Kt?n:Kt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uo(e,n)}get root(){const e=new Kt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function rB(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Mde(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Kt(this._location.bucket,e);return new uo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function lde(t){return new $e(Fe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function yB(t,e){const n=e?.storageBucket;return null==n?null:Kt.makeFromBucketSpec(n,t)}class _D{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=z2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Kt.makeFromBucketSpec(i,this._host):yB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Kt.makeFromBucketSpec(this._url,e):yB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return m(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return m(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ude(Q2());{const o=function Ede(t,e,n,r,i,s,o=!0){const a=function Z2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function yde(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function mde(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function _de(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function vde(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new gde(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return m(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const vB="@firebase/storage",CB="storage";function phe(t=df(),e){const r=Os(t=bn(t),CB).getImmediate({identifier:e}),i=zO("storage");return i&&function ghe(t,e,n,r={}){!function fhe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:qO(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function mhe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _D(n,r,i,e,Bi)}!function _he(){kt(new St(CB,mhe,"PUBLIC").setMultipleInstances(!0)),Pe(vB,"0.11.2",""),Pe(vB,"0.11.2","esm2017")}();class yD{constructor(e){return e}}const wB="storage",vD=new R("angularfire2.storage-instances");function Ehe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yD(r)}}const Che={provide:class yhe{constructor(){return Ef(wB)}},deps:[[new ot,vD]]},whe={provide:yD,useFactory:function vhe(t,e){const n=vf(wB,t,e);return n&&new yD(n)},deps:[[new ot,vD],$s]};let bhe=(()=>{class t{constructor(){Pe("angularfire",Ru.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vt({type:t}),t.\u0275inj=ct({providers:[whe,Che]}),t})();function Ihe(t,...e){return{ngModule:bhe,providers:[{provide:vD,useFactory:Ehe(t),multi:!0,deps:[te,et,Cf,wf,[new ot,rI],[new ot,Rf],...e]}]}}const The=Nu(phe,!0);let Dhe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=vt({type:t,bootstrap:[Ise]});static#n=this.\u0275inj=ct({providers:[{provide:Oi,useClass:HP}],imports:[bk,Cse,uV,Kie,Qie,vae,uV.forRoot(),Eee(()=>Cee(Eae_firebase)),eie(()=>tie()),Gce(()=>qce()),Ihe(()=>The())]})}return t})();$7().bootstrapModule(Dhe).catch(t=>console.error(t))}},ve=>{ve(ve.s=449)}]);